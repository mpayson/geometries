(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[28],{1001:function(e,t,i){"use strict";i.r(t);var r=i(2),a=i(3),n=i(34),o=i(5),s=i(6),c=i(0),l=(i(13),i(4)),u=(i(14),i(15),i(98)),y=i(1),p=i(8),b=i(47),v=(i(11),i(19),i(20),i(16)),d=i(318),f=i(370),h=i(244),O=i(430),j=i(431),g=i(796),m=i(810),w=i(381),S=i(803),I=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var a;return Object(r.a)(this,i),(a=t.call(this,e))._visibilityHandles={},a.fullExtent=void 0,a.operationalLayerType="GroupLayer",a.spatialReference=void 0,a.type="group",a._visibilityWatcher=a._visibilityWatcher.bind(Object(n.a)(a)),a}return Object(a.a)(i,[{key:"initialize",value:function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}},{key:"_writeLayers",value:function(e,t,i,r){var a=[];if(!e)return a;e.forEach((function(e){var t=Object(f.a)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);Object(l.i)(t)&&t.layerType&&a.push(t)})),t.layers=a}},{key:"portalItem",set:function(e){this._set("portalItem",e)}},{key:"visibilityMode",set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}},{key:"load",value:function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Object(v.u)(this)}},{key:"loadAll",value:function(){var e=this;return Object(d.a)(this,(function(t){t(e.layers)}))}},{key:"layerAdded",value:function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}},{key:"layerRemoved",value:function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}},{key:"_turnOffOtherLayers",value:function(e){this.layers.forEach((function(t){t!==e&&(t.visible=!1)}))}},{key:"_enforceVisibility",value:function(e,t){if(Object(u.a)(this).initialized){var i=this.layers,r=i.find((function(e){return e.visible}));switch(e){case"exclusive":i.length&&!r&&((r=i.getItemAt(0)).visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach((function(e){e.visible=t}))}}}},{key:"_visibleWatcher",value:function(e){"inherited"===this.visibilityMode&&this.layers.forEach((function(t){t.visible=e}))}},{key:"_visibilityWatcher",value:function(e,t,i,r){var a=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(a):this._isAnyLayerVisible()||(a.visible=!0);break;case"inherited":a.visible=this.visible}}},{key:"_isAnyLayerVisible",value:function(){return this.layers.some((function(e){return e.visible}))}}]),i}(Object(w.a)(Object(m.a)(Object(S.a)(Object(j.a)(Object(O.a)(Object(g.a)(h.a)))))));Object(c.a)([Object(y.b)()],I.prototype,"fullExtent",void 0),Object(c.a)([Object(y.b)({json:{read:!1,write:{ignoreOrigin:!0}}})],I.prototype,"layers",void 0),Object(c.a)([Object(b.a)("layers")],I.prototype,"_writeLayers",null),Object(c.a)([Object(y.b)({type:["GroupLayer"]})],I.prototype,"operationalLayerType",void 0),Object(c.a)([Object(y.b)({json:{origins:{"web-document":{read:!1,write:!1}}}})],I.prototype,"portalItem",null),Object(c.a)([Object(y.b)()],I.prototype,"spatialReference",void 0),Object(c.a)([Object(y.b)({json:{read:!1},readOnly:!0,value:"group"})],I.prototype,"type",void 0),Object(c.a)([Object(y.b)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],I.prototype,"visibilityMode",null);var L=I=Object(c.a)([Object(p.a)("esri.layers.GroupLayer")],I);t.default=L},788:function(e,t,i){"use strict";i.d(t,"a",(function(){return j})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return v})),i.d(t,"e",(function(){return h})),i.d(t,"f",(function(){return O})),i.d(t,"g",(function(){return y})),i.d(t,"h",(function(){return f})),i.d(t,"i",(function(){return u})),i.d(t,"j",(function(){return b}));var r=i(9),a=i(98),n=i(119),o=i(379),s=i(248),c=i(304),l=i(389),u={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader:function(e,t){if(null!=t.screenSizePerspective||"defaults"!==this.originOf("screenSizePerspectiveEnabled"))return t.screenSizePerspective;Object(a.a)(this).store.set("screenSizePerspectiveEnabled",!1,0)}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer:function(e,t,i,r){("defaults"===this.originOf("screenSizePerspectiveEnabled")&&e||Object(o.a)(this,"screenSizePerspectiveEnabled",{},r))&&(t[i]=e)}}}}}},y={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:function(e,t){return!t.disablePopup}},write:{enabled:!0,writer:function(e,t,i){t[i]=!e}}}},p={type:Boolean,value:!0,json:{name:"showLabels",write:!0}},b={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n.f}}},v={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},d={value:null,type:l.a,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}var h={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},O=Object(r.a)(Object(r.a)({},h),{},{json:Object(r.a)(Object(r.a)({},h.json),{},{origins:{"web-document":Object(r.a)(Object(r.a)({},h.json.origins["web-document"]),{},{write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}})},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:function(e,t,i){return i&&"service"!==i.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Object(s.b)(t.layerDefinition.drawingInfo.transparency):void 0:Object(s.b)(t.drawingInfo.transparency)}}})}),j={type:c.a,dependsOn:["view.timeExtent","layer.timeExtent","layer.timeInfo","layer.timeOffset","layer.timeOffset.value","layer.timeOffset.unit","layer.useViewTime"],readOnly:!0,get:function(){var e,t;if(null==(e=this.layer)||!e.timeInfo)return null;var i=null==(t=this.view)?void 0:t.timeExtent,r=this.layer.timeExtent,a=this.layer.useViewTime?i&&r?i.intersection(r):i||r:r;if(!a||a.isEmpty)return a;var n=this.layer.timeOffset,o=n?a.offset(-n.value,n.unit):a,s=this._get("timeExtent");return o.equals(s)?s:o}}},796:function(e,t,i){"use strict";i.d(t,"a",(function(){return I})),i.d(t,"b",(function(){return L}));var r=i(12),a=i(2),n=i(3),o=i(5),s=i(6),c=i(0),l=i(98),u=i(8),y=i(230),p=i(33),b=i(379),v=i(34),d=i(4),f=i(387),h=i(37),O=i(24),j=function(){function e(){Object(a.a)(this,e),this._propertyOriginMap=new Map,this._originStores=new Array(y.a),this._values=new Map}return Object(n.a)(e,[{key:"clone",value:function(t){var i=this,r=new e,a=this._originStores[0];a&&a.forEach((function(e,t){r.set(t,Object(O.a)(e),0)}));for(var n=function(e){var a=i._originStores[e];a&&a.forEach((function(i,a){t&&t.has(a)||r.set(a,Object(O.a)(i),e)}))},o=2;o<y.a;o++)n(o);return r}},{key:"get",value:function(e,t){var i=void 0===t?this._values:this._originStores[t];return i?i.get(e):void 0}},{key:"keys",value:function(e){var t=null==e?this._values:this._originStores[e];return t?Object(h.a)(t.keys()):[]}},{key:"set",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=this._originStores[i];if(r||(r=new Map,this._originStores[i]=r),r.set(e,t),!this._values.has(e)||Object(d.c)(this._propertyOriginMap.get(e))<=i){var a=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,i),a!==t}return!1}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=this._originStores[t];if(i){var r=i.get(e);if(i.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(var a=t-1;a>=0;a--){var n=this._originStores[a];if(n&&n.has(e)){this._values.set(e,n.get(e)),this._propertyOriginMap.set(e,a);break}}}return r}}},{key:"has",value:function(e,t){var i=void 0===t?this._values:this._originStores[t];return!!i&&i.has(e)}},{key:"revert",value:function(e,t){for(;t>0&&!this.has(e,t);)--t;var i=this._originStores[t],r=i&&i.get(e),a=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),a!==r}},{key:"originOf",value:function(e){return this._propertyOriginMap.get(e)||0}},{key:"forEach",value:function(e){this._values.forEach(e)}}]),e}(),g=function(e){var t=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){var e;Object(a.a)(this,i);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e=t.call.apply(t,[this].concat(n));var s=Object(d.c)(Object(l.a)(Object(v.a)(e))),c=s.metadatas,u=s.store,y=new j;return s.store=y,u.keys().forEach((function(e){y.set(e,u.get(e),0)})),Object.keys(c).forEach((function(e){s.internalGet(e)&&y.set(e,s.internalGet(e),0)})),e}return Object(n.a)(i,[{key:"read",value:function(e,t){Object(f.a)(this,e,t)}},{key:"getAtOrigin",value:function(e,t){var i=m(this),r=Object(y.d)(t);if("string"==typeof e)return i.get(e,r);var a={};return e.forEach((function(e){a[e]=i.get(e,r)})),a}},{key:"originOf",value:function(e){return Object(y.b)(this.originIdOf(e))}},{key:"originIdOf",value:function(e){return m(this).originOf(e)}},{key:"revert",value:function(e,t){var i=m(this),r=Object(y.d)(t),a=Object(l.a)(this);("string"==typeof e?"*"===e?i.keys(r):[e]:e).forEach((function(e){a.propertyInvalidated(e),i.revert(e,r),a.propertyCommitted(e)}))}}]),i}(e);return t=Object(c.a)([Object(u.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function m(e){return Object(l.a)(e).store}var w=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return i}(g(p.a));w=Object(c.a)([Object(u.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],w);function S(e){return Object(l.a)(e).store}var I=function(e){var t=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){Object(a.a)(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.call.apply(t,[this].concat(r))}return i}(function(e){var t=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){Object(a.a)(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.call.apply(t,[this].concat(r))}return Object(n.a)(i,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return S(this).delete(e,Object(y.d)(t))}},{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(b.b)(this,e=e||{},t),e}},{key:"setAtOrigin",value:function(e,t,i){Object(l.a)(this).setAtOrigin(e,t,Object(y.d)(i))}},{key:"removeOrigin",value:function(e){var t,i=S(this),a=Object(y.d)(e),n=i.keys(a),o=Object(r.a)(n);try{for(o.s();!(t=o.n()).done;){var s=t.value;i.originOf(s)===a&&i.set(s,i.get(s,a),6)}}catch(c){o.e(c)}finally{o.f()}}},{key:"updateOrigin",value:function(e,t){for(var i=S(this),r=Object(y.d)(t),a=this.get(e),n=r+1;n<y.a;++n)i.delete(e,n);i.set(e,a,r)}},{key:"toJSON",value:function(e){return this.write({},e)}}]),i}(e);return(t=Object(c.a)([Object(u.a)("esri.core.WriteableMultiOriginJSONSupport")],t)).prototype.toJSON.isDefaultToJSON=!0,t}(g(e)));return t=Object(c.a)([Object(u.a)("esri.core.MultiOriginJSONSupport")],t)},L=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return i}(I(p.a));L=Object(c.a)([Object(u.a)("esri.core.MultiOriginJSONSupport")],L)},803:function(e,t,i){"use strict";i.d(t,"a",(function(){return L}));var r=i(9),a=i(10),n=i.n(a),o=i(21),s=i(2),c=i(3),l=i(61),u=i(55),y=i(5),p=i(6),b=i(0),v=(i(13),i(14)),d=(i(15),i(1)),f=i(63),h=i(8),O=i(47),j=i(23),g=i(11),m=(i(19),i(20),i(16)),w=i(124),S=i(385),I=v.a.getLogger("esri.layers.mixins.PortalLayer"),L=function(e){var t=function(e){Object(y.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},e}return Object(c.a)(a,[{key:"destroy",value:function(){var e;null==(e=this.portalItem)||e.destroy(),this.portalItem=null}},{key:"portalItem",set:function(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}},{key:"readPortalItem",value:function(e,t,i){if(t.itemId)return new S.default({id:t.itemId,portal:i&&i.portal})}},{key:"writePortalItem",value:function(e,t){e&&e.id&&(t.itemId=e.id)}},{key:"loadFromPortal",value:function(){var e=Object(o.a)(n.a.mark((function e(t,r){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.portalItem||!this.portalItem.id){e.next=14;break}return e.prev=1,e.next=4,i.e(95).then(i.bind(null,938));case 4:return a=e.sent,Object(m.w)(r),e.next=8,a.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r);case 8:return e.abrupt("return",e.sent);case 11:throw e.prev=11,e.t0=e.catch(1),I.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,i){return e.apply(this,arguments)}}()},{key:"read",value:function(e,t){t&&(t.layer=this),Object(l.a)(Object(u.a)(a.prototype),"read",this).call(this,e,t)}},{key:"write",value:function(e,t){var i=t&&t.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||w.a.getDefault());return i&&n&&!Object(g.r)(n.restUrl,i.restUrl)?(t.messages&&t.messages.push(new j.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(l.a)(Object(u.a)(a.prototype),"write",this).call(this,e,Object(r.a)(Object(r.a)({},t),{},{layer:this}))}}]),a}(e);return Object(b.a)([Object(d.b)({type:S.default})],t.prototype,"portalItem",null),Object(b.a)([Object(f.a)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),Object(b.a)([Object(O.a)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),Object(b.a)([Object(d.b)()],t.prototype,"resourceReferences",void 0),t=Object(b.a)([Object(h.a)("esri.layers.mixins.PortalLayer")],t),t}},810:function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));var r=i(9),a=i(2),n=i(3),o=i(61),s=i(55),c=i(5),l=i(6),u=i(0),y=(i(13),i(14),i(15),i(1)),p=i(8),b=i(47),v=i(23),d=(i(11),i(19),i(20),i(387)),f=i(379),h={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}},O=i(788),j=function(e){var t=function(e){Object(c.a)(i,e);var t=Object(l.a)(i);function i(){var e;return Object(a.a)(this,i),(e=t.apply(this,arguments)).title=null,e}return Object(n.a)(i,[{key:"writeListMode",value:function(e,t,i,r){(r&&"ground"===r.layerContainerType||e&&Object(f.a)(this,i,{},r))&&(t[i]=e)}},{key:"writeOperationalLayerType",value:function(e,t,i,r){!e||r&&"tables"===r.layerContainerType||(t.layerType=e)}},{key:"writeTitle",value:function(e,t){t.title=e||"Layer"}},{key:"read",value:function(e,t){var r=this;t&&(t.layer=this),Object(d.b)(this,e,(function(t){return Object(o.a)(Object(s.a)(i.prototype),"read",r).call(r,e,t)}),t)}},{key:"write",value:function(e,t){if(t&&t.origin){var a="".concat(t.origin,"/").concat(t.layerContainerType||"operational-layers"),n=h[a],c=n&&n[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===a&&(c=!1),!c)return t.messages&&t.messages.push(new v.a("layer:unsupported","Layers (".concat(this.title,", ").concat(this.id,") of type '").concat(this.declaredClass,"' are not supported in the context of '").concat(a,"'"),{layer:this})),null}var l=Object(o.a)(Object(s.a)(i.prototype),"write",this).call(this,e,Object(r.a)(Object(r.a)({},t),{},{layer:this})),u=!!t&&!!t.messages&&!!t.messages.filter((function(e){return e instanceof v.a&&"web-document-write:property-required"===e.name})).length;return!this.url&&u?null:l}},{key:"beforeSave",value:function(){}}]),i}(e);return Object(u.a)([Object(y.b)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),Object(u.a)([Object(y.b)({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],t.prototype,"listMode",void 0),Object(u.a)([Object(b.a)("listMode")],t.prototype,"writeListMode",null),Object(u.a)([Object(y.b)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),Object(u.a)([Object(b.a)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),Object(u.a)([Object(y.b)(O.e)],t.prototype,"opacity",void 0),Object(u.a)([Object(y.b)({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),Object(u.a)([Object(b.a)("title")],t.prototype,"writeTitle",null),Object(u.a)([Object(y.b)({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],t.prototype,"visible",void 0),t=Object(u.a)([Object(p.a)("esri.layers.mixins.OperationalLayer")],t)}}}]);
//# sourceMappingURL=28.41e898c2.chunk.js.map