{"version":3,"sources":["../node_modules/@arcgis/core/views/draw/support/input/GraphicMoverEvents.js","../node_modules/@arcgis/core/views/draw/support/GraphicMover.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/symbols/support/defaults.js","../node_modules/@arcgis/core/symbols/support/defaultsJSON.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["t","i","s","h","e","this","graphic","index","x","y","viewEvent","type","r","c","a","n","p","allGraphics","dx","dy","totalDx","totalDy","defaultPrevented","k","_activeGraphic","_dragEvent","_handles","o","_hoverGraphic","_initialDragGeometry","_viewHandles","_manipulators","callbacks","onGraphicClick","onGraphicDoubleClick","onGraphicMoveStart","onGraphicMove","onGraphicMoveStop","onGraphicPointerOver","onGraphicPointerOut","onGraphicPointerDown","onGraphicPointerUp","enableMoveAllGraphics","graphics","view","_setUpManipulators","add","on","_clickHandler","TOOL","_doubleClickHandler","_pointerDownHandler","_pointerMoveHandler","_pointerUpHandler","_dragHandler","_keyDownHandler","reset","forEach","destroy","removeAll","get","set","_findTargetGraphic","d","indexOf","emit","g","_","G","m","w","action","geometry","stopPropagation","origin","l","u","f","key","state","Number","MAX_VALUE","intersectionDistance","length","map","v","EventedAccessor","prototype","readOnly","dependsOn","b","main","selected","outline","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","size","hoverSize","color","hoverColor","outlineColor","hoverOutlineColor","stagedColor","stagedOutlineColor","vertex","midpoint","center","fill","line","reshapeGraphics","transformGraphics","fromJSON","J","N","O","j","S","style","width","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","xoffset","yoffset","angle","Math","max","abs","stops","renderer","event","pointerType","filter","maxSize","minSize","floor","visualVariables","symbol","uniqueValueInfos","classBreakInfos","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","spatialReference","xmin","min","ymin","xmax","ymax","toMap","intersects","getLogger","C","layer","interactive","selectable","grabbable","dragging","cursor","events","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","_set","attachSymbolChanged","error","elevationInfo","offset","mode","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","visible","_intersectDistance2D","_intersectDistance3D","remove","watch","focusedSymbol","_focused","originalPoint","clone","mapPoint","radiusPx","toScreen","include","renderSpatialReference","camera","eye","constructOnly","nonNullable","value"],"mappings":"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","file":"static/js/26.de3aca7d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-click\"}}class i{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-double-click\"}}class s{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-start\"}preventDefault(){this.defaultPrevented=!0}}class h{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,i,s,h,e,r,c,a,n,p){this.graphic=t,this.allGraphics=i,this.index=s,this.x=h,this.y=e,this.dx=r,this.dy=c,this.totalDx=a,this.totalDy=n,this.viewEvent=p,this.defaultPrevented=!1,this.type=\"graphic-move-stop\"}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-over\"}}class c{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-out\"}}class a{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-down\"}}class n{constructor(t,i,s,h,e){this.graphic=t,this.index=i,this.x=s,this.y=h,this.viewEvent=e,this.type=\"graphic-pointer-up\"}}export{t as GraphicClickEvent,i as GraphicDoubleClickEvent,h as GraphicMoveEvent,s as GraphicMoveStartEvent,e as GraphicMoveStopEvent,a as GraphicPointerDownEvent,c as GraphicPointerOutEvent,r as GraphicPointerOverEvent,n as GraphicPointerUpEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{clone as t}from\"../../../core/lang.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/Evented.js\";import o from\"../../../core/Handles.js\";import{watch as h,whenOnce as c}from\"../../../core/watchUtils.js\";import{ViewEventPriorities as n}from\"../../input/InputManager.js\";import{createScreenPointFromEvent as p}from\"../../support/screenUtils.js\";import{cloneMove as l}from\"./drawUtils.js\";import{GraphicManipulator as v}from\"../../interactive/GraphicManipulator.js\";import{GraphicClickEvent as d,GraphicDoubleClickEvent as g,GraphicPointerDownEvent as _,GraphicPointerUpEvent as G,GraphicPointerOutEvent as m,GraphicMoveStartEvent as u,GraphicMoveEvent as y,GraphicMoveStopEvent as f,GraphicPointerOverEvent as w}from\"./input/GraphicMoverEvents.js\";let k=class extends a.EventedAccessor{constructor(i){super(i),this._activeGraphic=null,this._dragEvent=null,this._handles=new o,this._hoverGraphic=null,this._initialDragGeometry=null,this._viewHandles=new o,this._manipulators=[],this.type=\"graphic-mover\",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.view=null}initialize(){this._setUpManipulators(),this._handles.add([h(this,[\"graphics\",\"graphics.length\"],(()=>{this._setUpManipulators()})),c(this,\"view.ready\",(()=>{this._viewHandles.add([this.view.on(\"immediate-click\",(i=>this._clickHandler(i)),n.TOOL),this.view.on(\"double-click\",(i=>this._doubleClickHandler(i)),n.TOOL),this.view.on(\"pointer-down\",(i=>this._pointerDownHandler(i)),n.TOOL),this.view.on(\"pointer-move\",(i=>this._pointerMoveHandler(i)),n.TOOL),this.view.on(\"pointer-up\",(i=>this._pointerUpHandler(i)),n.TOOL),this.view.on(\"drag\",(i=>this._dragHandler(i)),n.TOOL),this.view.on(\"key-down\",(i=>this._keyDownHandler(i)),n.TOOL)])}))])}destroy(){this.reset(),this._manipulators.forEach((i=>i.destroy())),this._manipulators=null,this._viewHandles.removeAll(),this._handles.removeAll()}get state(){const i=!!this.get(\"view.ready\"),t=!!this.get(\"graphics.length\"),e=this._activeGraphic;return i&&t?e?\"moving\":\"active\":i?\"ready\":\"disabled\"}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null}updateGeometry(i,t){const e=this.graphics[i];e&&e.set(\"geometry\",t)}_clickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new d(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-click\",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}}_doubleClickHandler(i){const t=this._findTargetGraphic(p(i));if(t){const e=new g(t,this.graphics.indexOf(t),i.x,i.y,i);this.emit(\"graphic-double-click\",e),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(e)}}_pointerDownHandler(i){const t=this._findTargetGraphic(p(i));if(t){this._activeGraphic=t;const{x:e,y:r}=i,s=new _(t,this.graphics.indexOf(t),e,r,i);this.emit(\"graphic-pointer-down\",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(i){if(this._activeGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._activeGraphic),s=new G(this._activeGraphic,r,t,e,i);this.emit(\"graphic-pointer-up\",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(i){if(this._dragEvent)return;const t=this._findTargetGraphic(p(i));if(t){const{x:e,y:r}=i;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new m(this.graphics[s],s,e,r,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new w(t,s,e,r,i);return this._hoverGraphic=t,this.emit(\"graphic-pointer-over\",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:e}=i,r=this.graphics.indexOf(this._hoverGraphic),s=new m(this.graphics[r],r,t,e,i);this._hoverGraphic=null,this.emit(\"graphic-pointer-out\",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(i){if(\"start\"!==i.action&&!this._dragEvent||!this._activeGraphic||!this._activeGraphic.geometry)return;i.stopPropagation();const{action:e,x:r,y:s}=i,a=this.graphics.indexOf(this._activeGraphic),o=this._activeGraphic.geometry,h=this._dragEvent?r-this._dragEvent.x:0,c=this._dragEvent?s-this._dragEvent.y:0,n=r-i.origin.x,p=s-i.origin.y;if(this._activeGraphic.geometry=l(o,h,c,this.view),this.enableMoveAllGraphics&&this.graphics.forEach((i=>{i!==this._activeGraphic&&(i.geometry=l(i.geometry,h,c,this.view))})),this._dragEvent=i,\"start\"===e){this._initialDragGeometry=t(o);const e=new u(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move-start\",e),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(e),e.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else if(\"update\"===e){const t=new y(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this.emit(\"graphic-move\",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&this._activeGraphic.set(\"geometry\",o)}else{const t=new f(this._activeGraphic,this.graphics,a,r,s,h,c,n,p,i);this._dragEvent=null,this._activeGraphic=null,this.emit(\"graphic-move-stop\",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&this.graphics[a].set(\"geometry\",this._initialDragGeometry),this._initialDragGeometry=null}}_keyDownHandler(i){\"a\"!==i.key&&\"d\"!==i.key&&\"n\"!==i.key||\"moving\"!==this.state||i.stopPropagation()}_findTargetGraphic(i){let t=null,r=Number.MAX_VALUE;return this._manipulators.forEach((s=>{const a=s.intersectionDistance(i);e(a)&&a<r&&(r=a,t=s.graphic)})),t}_setUpManipulators(){const{graphics:i,view:t}=this;this._manipulators.forEach((i=>i.destroy())),this._manipulators=null!=i&&i.length?i.map((i=>new v({graphic:i,view:t}))):[]}};i([r()],k.prototype,\"_activeGraphic\",void 0),i([r({readOnly:!0})],k.prototype,\"type\",void 0),i([r()],k.prototype,\"callbacks\",void 0),i([r()],k.prototype,\"enableMoveAllGraphics\",void 0),i([r()],k.prototype,\"graphics\",void 0),i([r({dependsOn:[\"view.ready\",\"graphics.length\",\"_activeGraphic\"],readOnly:!0})],k.prototype,\"state\",null),i([r()],k.prototype,\"view\",void 0),k=i([s(\"esri.views.draw.support.GraphicMover\")],k);var b=k;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}const c=new class{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}};export{o as colors,c as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}