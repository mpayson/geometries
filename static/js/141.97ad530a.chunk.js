(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[141],{1285:function(e,n,r){"use strict";r.r(n),r.d(n,"createLabelFunction",(function(){return y})),r.d(n,"formatField",(function(){return w}));var t=r(10),a=r.n(t),u=r(12),i=r(21),s=r(14),c=r(23),l=r(245),o=r(158),p=r(121),f=r(122),b=r(796),x=r(811),d=s.a.getLogger("esri.layers.support.labelFormatUtils"),v={type:"simple",evaluate:function(){return null}},g={getAttribute:function(e,n){return e.field(n)}};function y(e,n,r){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(a.a.mark((function e(n,t,u){var i,s,p,f,y,_,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.symbol){e.next=2;break}return e.abrupt("return",v);case 2:if(i=n.where,s=Object(x.b)(n),!i){e.next=10;break}return e.next=7,r.e(9).then(r.bind(null,715));case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=null;case 11:if(p=e.t0,"arcade"!==s.type){e.next=19;break}return e.next=15,Object(l.c)(s.expression,u,t);case 15:y=e.sent,f={type:"arcade",evaluate:function(e){try{var r=y.evaluate({$feature:"attributes"in e?y.repurposeFeature(e):y.repurposeAdapter(e)});if(null!=r)return r.toString()}catch(n){d.error(new c.a("bad-arcade-expression","Encountered an error when evaluating label expression for feature",{feature:e,expression:s}))}return null},needsHydrationToEvaluate:function(){return null==Object(x.e)(s.expression)}},e.next=20;break;case 19:f={type:"simple",evaluate:function(e){return s.expression.replace(/{[^}]*}/g,(function(n){var r=n.slice(1,-1),a=Object(o.n)(t,r);if(!a)return n;var u=null;return"attributes"in e?e&&e.attributes&&(u=e.attributes[a.name]):u=e.field(a.name),null==u?"":w(u,a)}))}};case 20:if(!i){e.next=30;break}e.prev=21,_=p.WhereClause.create(i,new b.a(t)),e.next=28;break;case 25:return e.prev=25,e.t1=e.catch(21),e.abrupt("return",v);case 28:m=f.evaluate,f.evaluate=function(e){var n="attributes"in e?void 0:g;return _.testFeature(e,n)?m(e):null};case 30:return e.abrupt("return",f);case 31:case"end":return e.stop()}}),e,null,[[21,25]])})))).apply(this,arguments)}function w(e,n){if(null==e)return"";var r=n.domain;if(r)if("codedValue"===r.type||"coded-value"===r.type){var t,a=e,i=Object(u.a)(r.codedValues);try{for(i.s();!(t=i.n()).done;){var s=t.value;if(s.code===a)return s.name}}catch(d){i.e(d)}finally{i.f()}}else if("range"===r.type){var c=+e,l="range"in r?r.range[0]:r.minValue,b="range"in r?r.range[1]:r.maxValue;if(l<=c&&c<=b)return r.name}var x=e;return"date"===n.type||"esriFieldTypeDate"===n.type?x=Object(p.b)(x,Object(p.a)("short-date")):Object(o.q)(n)&&(x=Object(f.b)(+x)),x||""}},811:function(e,n,r){"use strict";r.d(n,"a",(function(){return f})),r.d(n,"b",(function(){return l})),r.d(n,"c",(function(){return o})),r.d(n,"d",(function(){return p})),r.d(n,"e",(function(){return g})),r.d(n,"f",(function(){return c}));var t=r(108),a=new RegExp("__begin__","ig"),u=new RegExp("__end__","ig"),i=new RegExp("^__begin__","i"),s=new RegExp("__end__$","i");function c(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function l(e){var n={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(n.expression=e.labelExpressionInfo.value,n.type="conventional"):e.labelExpressionInfo.expression&&(n.expression=e.labelExpressionInfo.expression,n.type="arcade"):null!=e.labelExpression&&(n.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),n.type="conventional"),n}function o(e){var n=l(e);if(!n)return null;switch(n.type){case"conventional":return f(n.expression);case"arcade":return n.expression}return null}function p(e){var n=l(e);if(!n)return null;switch(n.type){case"conventional":return function(e){var n=e.match(b);return n&&n[1].trim()||null}(n.expression);case"arcade":return g(n.expression)}return null}function f(e){var n;return e?(n=Object(t.c)(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),n=i.test(n)?n.replace(i,""):'"'+n,n=(n=s.test(n)?n.replace(s,""):n+'"').replace(a,'" + ').replace(u,' + "')):n='""',n}var b=/^\s*\{([^}]+)\}\s*$/i;var x=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,d=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,v=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function g(e){if(!e)return null;var n=x.exec(e)||d.exec(e);return n?n[1]||n[3]:(n=v.exec(e))?n[2]:null}}}]);
//# sourceMappingURL=141.97ad530a.chunk.js.map