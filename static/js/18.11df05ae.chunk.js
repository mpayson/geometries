(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[18],{1077:function(e,t,r){"use strict";var a=r(12),n=r(2),i=r(3),u=(r(13),r(1124)),o=function(){function e(t,r){var a=this;if(Object(n.a)(this,e),this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,t.layers||(t.layers=[]),this.version=parseFloat(t.version),this.sprite=r?r.spriteUrl:t.sprite,this.glyphs=r?r.glyphsUrl:t.glyphs,this.layers=t.layers.map((function(e,t,r){return a._create(e,t,r)})),this.layers)for(var i,u=0;u<this.layers.length;u++)i=this.layers[u],this._layerByName[i.id.toLowerCase()]=i,this._uidToLayer.set(i.uid,i),0===i.type&&this.backgroundBucketIds.push(i.id);this._identifyRefLayers()}return Object(i.a)(e,[{key:"isPainterDataDriven",value:function(e){var t=this._layerByName[e.toLowerCase()];return!!t&&t.isPainterDataDriven()}},{key:"getStyleLayerId",value:function(e){return e>=this.layers.length?null:this.layers[e].id}},{key:"getStyleLayerByUID",value:function(e){var t=this._uidToLayer.get(e);return null!=t?t:null}},{key:"getStyleLayerIndex",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?this.layers.indexOf(t):-1}},{key:"setStyleLayer",value:function(t,r){if(t&&t.id){r&&r>=this.layers.length&&(r=this.layers.length-1);var a,n=!0,i=this._layerByName[t.id.toLowerCase()];if(i){var u=this.layers.indexOf(i);r||(r=u),r===u?(n=!1,a=e._recreateLayer(t,i),this.layers[r]=a):(this.layers.splice(u,1),a=this._create(t,r,this.layers),this.layers.splice(r,0,a))}else a=this._create(t,r,this.layers),!r||r>=this.layers.length?this.layers.push(a):this.layers.splice(r,0,a);this._layerByName[t.id.toLowerCase()]=a,this._uidToLayer.set(a.uid,a),n&&this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getStyleLayer",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}},{key:"deleteStyleLayer",value:function(e){var t=this._layerByName[e.toLowerCase()];if(t){delete this._layerByName[e.toLowerCase()],this._uidToLayer.delete(t.uid);var r=this.layers.indexOf(t);this.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers()}}},{key:"getLayerById",value:function(e){return this._layerByName[e.toLowerCase()]}},{key:"getLayoutProperties",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?t.layout:null}},{key:"getPaintProperties",value:function(e){var t=this._layerByName[e.toLowerCase()];return t?t.paint:null}},{key:"setPaintProperties",value:function(t,r){var a=this._layerByName[t.toLowerCase()];if(!a)return"";var n={type:a.typeName,id:a.id,source:a.source,"source-layer":a.sourceLayer,minzoom:a.minzoom,maxzoom:a.maxzoom,filter:a.filter,layout:a.layout,paint:r},i=e._recreateLayer(n,a),u=this.layers.indexOf(a);return this.layers[u]=i,this._layerByName[a.id.toLowerCase()]=i,this._uidToLayer.set(a.uid,i),a.id}},{key:"setLayoutProperties",value:function(t,r){var a=this._layerByName[t.toLowerCase()];if(!a)return"";var n={type:a.typeName,id:a.id,source:a.source,"source-layer":a.sourceLayer,minzoom:a.minzoom,maxzoom:a.maxzoom,filter:a.filter,layout:r,paint:a.paint},i=e._recreateLayer(n,a),u=this.layers.indexOf(a);return this.layers[u]=i,this._layerByName[a.id.toLowerCase()]=i,this._uidToLayer.set(a.uid,i),a.id}},{key:"setStyleLayerVisibility",value:function(t,r){var a=this._layerByName[t.toLowerCase()];if(a){var n=a.layout||{};n.visibility=r;var i={type:a.typeName,id:a.id,source:a.source,"source-layer":a.sourceLayer,minzoom:a.minzoom,maxzoom:a.maxzoom,filter:a.filter,layout:n,paint:a.paint},u=e._recreateLayer(i,a),o=this.layers.indexOf(a);this.layers[o]=u,this._layerByName[a.id.toLowerCase()]=u,this._uidToLayer.set(a.uid,u)}}},{key:"getStyleLayerVisibility",value:function(e){var t,r=this._layerByName[e.toLowerCase()];if(!r)return"none";var a=r.layout;return null!=(t=null==a?void 0:a.visibility)?t:"visible"}},{key:"_recomputeZValues",value:function(){for(var e=this.layers,t=1/(e.length+1),r=0;r<e.length;r++)e[r].z=1-(1+r)*t}},{key:"_identifyRefLayers",value:function(){var e,t=[],r=[],n=0,i=Object(a.a)(this.layers);try{for(i.s();!(e=i.n()).done;){var u=e.value;if(1===u.type){var o=u,l=u.source+"|"+u.sourceLayer;l+="|"+JSON.stringify(u.layout&&u.layout.visibility),l+="|"+JSON.stringify(u.minzoom),l+="|"+JSON.stringify(u.maxzoom),l+="|"+JSON.stringify(u.filter),(o.hasDataDrivenFill||o.hasDataDrivenOutline)&&(l+="|"+JSON.stringify(n)),t.push({key:l,layer:u})}if(2===u.type){var s=u,c=u.source+"|"+u.sourceLayer;c+="|"+JSON.stringify(u.layout&&u.layout.visibility),c+="|"+JSON.stringify(u.minzoom),c+="|"+JSON.stringify(u.maxzoom),c+="|"+JSON.stringify(u.filter),c+="|"+JSON.stringify(u.layout&&u.layout["line-cap"]),c+="|"+JSON.stringify(u.layout&&u.layout["line-join"]),s.hasDataDrivenLine&&(c+="|"+JSON.stringify(n)),r.push({key:c,layer:u})}++n}}catch(f){i.e(f)}finally{i.f()}this._assignRefLayers(t),this._assignRefLayers(r)}},{key:"_assignRefLayers",value:function(e){var t,r;e.sort((function(e,t){return e.key<t.key?-1:e.key>t.key?1:0}));for(var a=e.length,n=0;n<a;n++){var i=e[n];if(i.key===t)i.layer.refLayerId=r;else if(t=i.key,r=i.layer.id,1===i.layer.type&&!i.layer.getPaintProperty("fill-outline-color"))for(var u=n+1;u<a;u++){var o=e[u];if(o.key!==t)break;if(o.layer.getPaintProperty("fill-outline-color")){e[n]=o,e[u]=i,r=o.layer.id;break}}}}},{key:"_create",value:function(e,t,r){var a=1-(1+t)*(1/(r.length+1)),n=this._runningId++;switch(e.type){case"background":return new u.a(0,e,a,n);case"fill":return new u.c(1,e,a,n);case"line":return new u.e(2,e,a,n);case"symbol":return new u.f(3,e,a,n);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new u.b(4,e,a,n)}throw new Error("Unknown vector tile layer")}}],[{key:"_recreateLayer",value:function(e,t){switch(e.type){case"background":return new u.a(0,e,t.z,t.uid);case"fill":return new u.c(1,e,t.z,t.uid);case"line":return new u.e(2,e,t.z,t.uid);case"symbol":return new u.f(3,e,t.z,t.uid);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new u.b(4,e,t.z,t.uid)}}}]),e}();t.a=o},1124:function(e,t,r){"use strict";r.d(t,"a",(function(){return Ce})),r.d(t,"b",(function(){return Se})),r.d(t,"c",(function(){return Ve})),r.d(t,"d",(function(){return Be})),r.d(t,"e",(function(){return Ie})),r.d(t,"f",(function(){return Ae})),r.d(t,"g",(function(){return Te}));var a=r(5),n=r(6),i=r(2),u=r(3),o=r(41),l=r(12),s=r(52),c=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return e.id}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"id" does not expect arguments');return new e}}]),e}(),f=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){switch(e.type){case 0:return"Unknown";case 1:return"Point";case 2:return"LineString";case 3:return"Polygon"}}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"geometry-type" does not expect arguments');return new e}}]),e}(),h=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return e.values}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"properties" does not expect arguments');return new e}}]),e}(),y=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return t}}],[{key:"parse",value:function(t){if(t.length>1)throw new Error('"zoom" does not expect arguments');return new e}}]),e}(),p=r(301),v=r(992),m=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.args[1].evaluate(e,t),a=this.args[2].evaluate(e,t),n=this.args[3].evaluate(e,t);return"rgb(".concat(Math.round(r),",").concat(Math.round(a),",").concat(Math.round(n),")")}}],[{key:"parse",value:function(t){if(4!==t.length)throw new Error('"rgb" expects 3 arguments.');return new e(t.slice(1).map((function(e){return Le(e)})))}}]),e}(),g=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.args[1].evaluate(e,t),a=this.args[2].evaluate(e,t),n=this.args[3].evaluate(e,t),i=this.args[4].evaluate(e,t);return"rgb(".concat(Math.round(r),",").concat(Math.round(a),",").concat(Math.round(n),",").concat(i,")")}}],[{key:"parse",value:function(e){if(5!==e.length)throw new Error('"rgba" expects 4 arguments.');var t=e.slice(1).map((function(e){return Le(e)}));return new m(t)}}]),e}(),b=function(){function e(t){Object(i.a)(this,e),this.color=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return new s.a(this.color.evaluate(e,t)).toRgba()}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"to-rgba" expects 1 argument.');return new e(Le(t[1]))}}]),e}(),d=function(){function e(t,r,a){Object(i.a)(this,e),this.lhs=t,this.rhs=r,this.compare=a}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return this.compare(this.lhs.evaluate(e,t),this.rhs.evaluate(e,t))}}],[{key:"parse",value:function(t,r){if(3!==t.length&&4!==t.length)throw new Error('"'.concat(t[0],'" expects 2 or 3 arguments'));if(4===t.length)throw new Error('"'.concat(t[0],'" collator not supported'));return new e(Le(t[1]),Le(t[2]),r)}}]),e}(),w=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e===t}))}}]),r}(d),k=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e!==t}))}}]),r}(d),O=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e<t}))}}]),r}(d),j=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e<=t}))}}]),r}(d),D=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e>t}))}}]),r}(d),x=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return d.parse(e,(function(e,t){return e>=t}))}}]),r}(d),_=function(){function e(t){Object(i.a)(this,e),this.arg=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return!this.arg.evaluate(e,t)}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"!" expects 1 argument');return new e(Le(t[1]))}}]),e}(),L=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){if(!r.value.evaluate(e,t))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}}],[{key:"parse",value:function(t){for(var r=[],a=1;a<t.length;a++)r.push(Le(t[a]));return new e(r)}}]),e}(),P=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){if(r.value.evaluate(e,t))return!0}}catch(n){a.e(n)}finally{a.f()}return!1}}],[{key:"parse",value:function(t){for(var r=[],a=1;a<t.length;a++)r.push(Le(t[a]));return new e(r)}}]),e}(),E=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){if(r.value.evaluate(e,t))return!1}}catch(n){a.e(n)}finally{a.f()}return!0}}],[{key:"parse",value:function(t){for(var r=[],a=1;a<t.length;a++)r.push(Le(t[a]));return new e(r)}}]),e}(),M=function(){function e(t,r){Object(i.a)(this,e),this.args=t,this.fallback=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var n=r.value;if(n.condition.evaluate(e,t))return n.output.evaluate(e,t)}}catch(i){a.e(i)}finally{a.f()}return this.fallback.evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<4)throw new Error('"case" expects at least 3 arguments');if(t.length%2==1)throw new Error('"case" expects an odd number of arguments');for(var r=[],a=1;a<t.length-1;a+=2)r.push({condition:Le(t[a]),output:Le(t[a+1])});return new e(r,Le(t[t.length-1]))}}]),e}(),z=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var n=r.value.evaluate(e,t);if(null!==n)return n}}catch(i){a.e(i)}finally{a.f()}return null}}],[{key:"parse",value:function(t){if(t.length<2)throw new Error('"coalesce" expects at least 1 argument');for(var r=[],a=1;a<t.length;a++)r.push(Le(t[a]));return new e(r)}}]),e}(),N=function(){function e(t,r,a,n){Object(i.a)(this,e),this.input=t,this.labels=r,this.outputs=a,this.fallback=n}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.input.evaluate(e,t);return(this.outputs[this.labels[r]]||this.fallback).evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<3)throw new Error('"match" expects at least 3 arguments');if(t.length%2==0)throw new Error('"case" expects an even number of arguments');for(var r,a=Le(t[1]),n=[],i={},u=2;u<t.length-1;u+=2){var o=t[u];Array.isArray(o)||(o=[o]);var s,c=Object(l.a)(o);try{for(c.s();!(s=c.n()).done;){var f=s.value,h=typeof f;if("string"!==h&&"number"!==h)throw new Error('"match" requires string or number literal as labels');if(r){if(h!==r)throw new Error('"match" requires labels to have the same type')}else r=h;i[f]=n.length}}catch(y){c.e(y)}finally{c.f()}n.push(Le(t[u+1]))}return new e(a,i,n,Le(t[t.length-1]))}}]),e}(),C=4/29,V=6/29,I=3*V*V,A=Math.PI/180,S=180/Math.PI;function B(e){return e>.008856451679035631?Math.pow(e,1/3):e/I+C}function T(e){return e>V?e*e*e:I*(e-C)}function F(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function R(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function J(e){var t=R(e.r),r=R(e.g),a=R(e.b),n=B((.4124564*t+.3575761*r+.1804375*a)/.95047),i=B((.2126729*t+.7151522*r+.072175*a)/1);return{l:116*i-16,a:500*(n-i),b:200*(i-B((.0193339*t+.119192*r+.9503041*a)/1.08883)),alpha:e.a}}function U(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,a=isNaN(e.b)?t:t-e.b/200;return t=1*T(t),r=.95047*T(r),a=1.08883*T(a),new s.a([F(3.2404542*r-1.5371385*t-.4985314*a),F(-.969266*r+1.8760108*t+.041556*a),F(.0556434*r-.2040259*t+1.0572252*a),e.alpha])}function q(e){var t=J(e),r=t.l,a=t.a,n=t.b,i=Math.atan2(n,a)*S;return{h:i<0?i+360:i,c:Math.sqrt(a*a+n*n),l:r,alpha:e.a}}function $(e,t,r){var a=t-e;return e+r*(a>180||a<-180?a-360*Math.round(a/360):a)}var Z=function(){function e(t,r,a,n){Object(i.a)(this,e),this.operator=t,this.input=r,this.stops=a,this.interpolation=n}return Object(u.a)(e,[{key:"evaluate",value:function(t,r){var a=this.stops;if(1===a.length)return a[0][1].evaluate(t,r);var n=this.input.evaluate(t,r);if(n<=a[0][0])return a[0][1].evaluate(t,r);if(n>=a[a.length-1][0])return a[a.length-1][1].evaluate(t,r);for(var i=0;++i<a.length&&!(n<a[i][0]););var u=a[i-1][0],o=a[i][0],l=e.interpolationRatio(this.interpolation,n,u,o),s=a[i-1][1].evaluate(t,r),c=a[i][1].evaluate(t,r);return"interpolate"===this.operator?Array.isArray(s)?s.map((function(e,t){return Object(v.e)(e,c[t],l)})):Object(v.e)(s,c,l):"interpolate-hcl"===this.operator?function(e){var t=e.h*A,r=e.c;return U({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})}(function(e,t,r){return{h:$(e.h,t.h,r),c:Object(v.e)(e.c,t.c,r),l:Object(v.e)(e.l,t.l,r),alpha:Object(v.e)(e.alpha,t.alpha,r)}}(q(s),q(c),l)):U(function(e,t,r){return{l:Object(v.e)(e.l,t.l,r),a:Object(v.e)(e.a,t.a,r),b:Object(v.e)(e.b,t.b,r),alpha:Object(v.e)(e.alpha,t.alpha,r)}}(J(s),J(c),l))}}],[{key:"parse",value:function(t){if(t.length<5)throw new Error('"'.concat(t[0],'" expects at least 4 arguments.'));var r=t[1];if(!Array.isArray(r)||0===r.length)throw new Error('"'.concat(t[0],'" expects an interpolation type expression.'));switch(r[0]){case"linear":break;case"exponential":if("number"!=typeof r[1])throw new Error('"'.concat(t[0],'" expects a numeric base for exponential interpolation.'));break;case"cubic-bezier":if(5!==r.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.");for(var a=1;a<5;a++){var n=r[a];if("number"!=typeof n||n<0||n>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.")}break;default:throw new Error('"'.concat(t[0],'" unknown interpolation type "').concat(r[0],'".'))}if(t.length%2!=1)throw new Error('"'.concat(t[0],'" expects an even number of arguments.'));for(var i=Le(t[2]),u=[],o=3;o<t.length;o+=2){var l=t[o];if("number"!=typeof l)throw new Error('"'.concat(t[0],'" requires stop inputs as literal numbers.'));if(u.length&&u[u.length-1][0]>=l)throw new Error('"'.concat(t[0],'" requires strictly ascending stop inputs.'));u.push([l,Le(t[o+1])])}return new e(t[0],i,u,r)}},{key:"interpolationRatio",value:function(t,r,a,n){var i=0;return"exponential"===t[0]?i=e.exponentialInterpolationRatio(r,t[1],a,n):"linear"===t[0]?i=e.exponentialInterpolationRatio(r,1,a,n):"cubic-bezier"===t[0]&&(i=Object(p.c)(t[1],t[2],t[3],t[4])(e.exponentialInterpolationRatio(r,1,a,n),1e-5)),i}},{key:"exponentialInterpolationRatio",value:function(e,t,r,a){var n=a-r;if(0===n)return 0;var i=e-r;return 1===t?i/n:(Math.pow(t,i)-1)/(Math.pow(t,n)-1)}}]),e}(),W=function(){function e(t,r){Object(i.a)(this,e),this.input=t,this.stops=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.stops;if(1===r.length)return r[0][1].evaluate(e,t);for(var a=this.input.evaluate(e,t),n=0;++n<r.length&&!(a<r[n][0]););return this.stops[n-1][1].evaluate(e,t)}}],[{key:"parse",value:function(t){if(t.length<5)throw new Error('"step" expects at least 4 arguments.');if(t.length%2!=1)throw new Error('"step" expects an even number of arguments.');var r=Le(t[1]),a=[];a.push([-1/0,Le(t[2])]);for(var n=3;n<t.length;n+=2){var i=t[n];if("number"!=typeof i)throw new Error('"step" requires stop inputs as literal numbers.');if(a.length&&a[a.length-1][0]>=i)throw new Error('"step" requires strictly ascending stop inputs.');a.push([i,Le(t[n+1])])}return new e(r,a)}}]),e}(),H=function(){function e(t,r){Object(i.a)(this,e),this.index=t,this.array=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.index.evaluate(e,t),a=this.array.evaluate(e,t);if(r<0||r>=a.length)throw new Error('"at" index out of bounds.');if(r!==Math.floor(r))throw new Error('"at" index must be an integer.');return a[r]}}],[{key:"parse",value:function(t){if(3!==t.length)throw new Error('"at" expects 2 arguments.');return new e(Le(t[1]),Le(t[2]))}}]),e}(),G=function(){function e(t,r){Object(i.a)(this,e),this.key=t,this.obj=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return this.obj?this.obj.evaluate(e,t)[r]:e.values[r]}}],[{key:"parse",value:function(t){switch(t.length){case 2:return new e(Le(t[1]));case 3:return new e(Le(t[1]),Le(t[2]));default:throw new Error('"get" expects 1 or 2 arguments')}}}]),e}(),Y=function(){function e(t,r){Object(i.a)(this,e),this.key=t,this.obj=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return this.obj?r in this.obj.evaluate(e,t):void 0!==e.values[r]}}],[{key:"parse",value:function(t){switch(t.length){case 2:return new e(Le(t[1]));case 3:return new e(Le(t[1]),Le(t[2]));default:throw new Error('"has" expects 1 or 2 arguments')}}}]),e}(),K=function(){function e(t,r){Object(i.a)(this,e),this.key=t,this.vals=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.key.evaluate(e,t);return-1!==this.vals.evaluate(e,t).indexOf(r)}}],[{key:"parse",value:function(t){if(3!==t.length)throw new Error('"in" expects 2 arguments');return new e(Le(t[1]),Le(t[2]))}}]),e}(),Q=function(){function e(t,r,a){Object(i.a)(this,e),this.item=t,this.array=r,this.from=a}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.item.evaluate(e,t),a=this.array.evaluate(e,t);if(this.from){var n=this.from.evaluate(e,t);if(n!==Math.floor(n))throw new Error('"index-of" index must be an integer.');return a.indexOf(r,n)}return a.indexOf(r)}}],[{key:"parse",value:function(t){if(t.length<3||t.length>4)throw new Error('"index-of" expects 3 or 4 arguments.');var r=Le(t[1]),a=Le(t[2]);return 4===t.length?new e(r,a,Le(t[3])):new e(r,a)}}]),e}(),X=function(){function e(t){Object(i.a)(this,e),this.arg=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.arg.evaluate(e,t);if("string"==typeof r)return r.length;if(Array.isArray(r))return r.length;throw new Error('"length" expects string or array.')}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"length" expects 2 arguments.');return new e(Le(t[1]))}}]),e}(),ee=function(){function e(t,r,a){Object(i.a)(this,e),this.array=t,this.from=r,this.to=a}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r=this.array.evaluate(e,t),a=this.from.evaluate(e,t);if(a<0||a>=r.length)throw new Error('"slice" index out of bounds.');if(a!==Math.floor(a))throw new Error('"slice" index must be an integer.');if(this.to){var n=this.to.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"slice" index out of bounds.');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer.');return r.slice(a,n)}return r.slice(a)}}],[{key:"parse",value:function(t){if(t.length<3||t.length>4)throw new Error('"slice" expects 2 or 3 arguments.');var r=Le(t[1]),a=Le(t[2]);return 4===t.length?new e(r,a,Le(t[3])):new e(r,a)}}]),e}(),te=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return void 0!==e.id}}],[{key:"parse",value:function(t){if(1!==t.length)throw new Error('"has-id" expects no arguments');return new e}}]),e}(),re=function(){function e(t,r){Object(i.a)(this,e),this.args=t,this.calculate=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)}}],[{key:"parse",value:function(t,r){return new e(t.slice(1).map((function(e){return Le(e)})),r)}}]),e}(),ae=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){switch(e.length){case 2:return re.parse(e,(function(e){return-e[0]}));case 3:return re.parse(e,(function(e){return e[0]-e[1]}));default:throw new Error('"-" expects 1 or 2 arguments')}}}]),r}(re),ne=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return re.parse(e,(function(e){var t,r=1,a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){r*=t.value}}catch(n){a.e(n)}finally{a.f()}return r}))}}]),r}(re),ie=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return e[0]/e[1]}));throw new Error('"/" expects 2 arguments')}}]),r}(re),ue=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return e[0]%e[1]}));throw new Error('"%" expects 2 arguments')}}]),r}(re),oe=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){if(3===e.length)return re.parse(e,(function(e){return Math.pow(e[0],e[1])}));throw new Error('"^" expects 1 or 2 arguments')}}]),r}(re),le=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,null,[{key:"parse",value:function(e){return re.parse(e,(function(e){var t,r=0,a=Object(l.a)(e);try{for(a.s();!(t=a.n()).done;){r+=t.value}}catch(n){a.e(n)}finally{a.f()}return r}))}}]),r}(re),se=function(){function e(t,r){Object(i.a)(this,e),this.args=t,this.calculate=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r;return this.args&&(r=this.args.map((function(r){return r.evaluate(e,t)}))),this.calculate(r)}}],[{key:"parse",value:function(t){return new e(t.slice(1).map((function(e){return Le(e)})),e.ops[t[0]])}}]),e}();se.ops={abs:function(e){return Math.abs(e[0])},acos:function(e){return Math.acos(e[0])},asin:function(e){return Math.asin(e[0])},atan:function(e){return Math.atan(e[0])},ceil:function(e){return Math.ceil(e[0])},cos:function(e){return Math.cos(e[0])},e:function(){return Math.E},floor:function(e){return Math.floor(e[0])},ln:function(e){return Math.log(e[0])},ln2:function(){return Math.LN2},log10:function(e){return Math.log(e[0])/Math.LN10},log2:function(e){return Math.log(e[0])/Math.LN2},max:function(e){return Math.max.apply(Math,Object(o.a)(e))},min:function(e){return Math.min.apply(Math,Object(o.a)(e))},pi:function(){return Math.PI},round:function(e){return Math.round(e[0])},sin:function(e){return Math.sin(e[0])},sqrt:function(e){return Math.sqrt(e[0])},tan:function(e){return Math.tan(e[0])}};var ce=function(){function e(t){Object(i.a)(this,e),this.args=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return this.args.map((function(r){return r.evaluate(e,t)})).join("")}}],[{key:"parse",value:function(t){return new e(t.slice(1).map((function(e){return Le(e)})))}}]),e}(),fe=function(){function e(t,r){Object(i.a)(this,e),this.arg=t,this.calculate=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return this.calculate(this.arg.evaluate(e,t))}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error("".concat(t[0]," expects 1 argument."));return new e(Le(t[1]),e.ops[t[0]])}}]),e}();fe.ops={downcase:function(e){return e.toLowerCase()},upcase:function(e){return e.toUpperCase()}};var he={kind:"null"},ye={kind:"number"},pe={kind:"string"},ve={kind:"boolean"},me={kind:"color"},ge={kind:"object"},be={kind:"value"};function de(e,t){return{kind:"array",itemType:e,n:t}}var we=[he,ye,pe,ve,me,ge,de(be)];function ke(e){if("array"===e.kind){var t=ke(e.itemType);return"number"==typeof e.n?"array<".concat(t,", ").concat(e.n,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}function Oe(e){if(null===e)return he;if("string"==typeof e)return pe;if("boolean"==typeof e)return ve;if("number"==typeof e)return ye;if(e instanceof s.a)return me;if(Array.isArray(e)){var t,r,a=Object(l.a)(e);try{for(a.s();!(r=a.n()).done;){var n=Oe(r.value);if(t){if(t===n)continue;t=be;break}t=n}}catch(i){a.e(i)}finally{a.f()}return de(t||be,e.length)}return ge}function je(e,t){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.n&&"value"===e.itemType.kind||!je(e.itemType,t.itemType))&&("number"!=typeof t.n||t.n===e.n))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind){var r,a=Object(l.a)(we);try{for(a.s();!(r=a.n()).done;){if(!je(r.value,e))return null}}catch(n){a.e(n)}finally{a.f()}}}return"Expected ".concat(ke(t)," but found ").concat(ke(e)," instead.")}var De=function(){function e(t,r){Object(i.a)(this,e),this.type=t,this.args=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var n=r.value.evaluate(e,t);if(!je(Oe(n),this.type))return n}}catch(i){a.e(i)}finally{a.f()}return null}}],[{key:"parse",value:function(t){var r=t[0];if(t.length<2)throw new Error("".concat(r," expects at least one argument."));var a,n=1;if("array"===r){if(t.length>2){switch(t[1]){case"string":a=pe;break;case"number":a=ye;break;case"boolean":a=ve;break;default:throw new Error('"array" type argument must be string, number or boolean')}n++}else a=be;var i;if(t.length>3){if(null!==(i=t[2])&&("number"!=typeof i||i<0||i!==Math.floor(i)))throw new Error('"array" length argument must be a positive integer literal');n++}a=de(a,i)}else switch(r){case"string":a=pe;break;case"number":a=ye;break;case"boolean":a=ve;break;case"object":a=ge}for(var u=[];n<t.length;n++){var o=Le(t[n]);u.push(o)}return new e(a,u)}}]),e}(),xe=function(){function e(t,r){Object(i.a)(this,e),this.type=t,this.args=r}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){if(this.type===ve)return Boolean(this.args[0].evaluate(e,t));if(this.type===pe)return function(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof s.a?e.toString():JSON.stringify(e)}(this.args[0].evaluate(e,t));if(this.type===ye){var r,a=Object(l.a)(this.args);try{for(a.s();!(r=a.n()).done;){var n=r.value.evaluate(e,t);if(null===n)return 0;var i=Number(n);if(!isNaN(i))return i}}catch(f){a.e(f)}finally{a.f()}return null}if(this.type===me){var u,o=Object(l.a)(this.args);try{for(o.s();!(u=o.n()).done;){var c=u.value.evaluate(e,t);if(c instanceof s.a)return c;if("string"==typeof c)return s.a.fromString(c);if(Array.isArray(c)&&(3===c.length||4===c.length))return s.a.fromArray(c)}}catch(f){o.e(f)}finally{o.f()}return null}}}],[{key:"parse",value:function(t){var r=t[0];if("to-boolean"===r||"to-string"===r){if(2!==t.length)throw new Error("".concat(r," expects one argument."))}else if(t.length<2)throw new Error("".concat(r," expects at least one argument."));for(var a=e.types[r],n=[],i=1;i<t.length;i++){var u=Le(t[i]);n.push(u)}return new e(a,n)}}]),e}();xe.types={"to-boolean":ve,"to-color":me,"to-number":ye,"to-string":pe};var _e={array:De,boolean:De,collator:null,format:null,literal:function(){function e(t){Object(i.a)(this,e),this.val=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return this.val}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"literal" expects 1 argument');return new e(t[1])}}]),e}(),image:null,number:De,"number-format":null,object:De,string:De,"to-boolean":xe,"to-color":xe,"to-number":xe,"to-string":xe,typeof:function(){function e(t){Object(i.a)(this,e),this.arg=t}return Object(u.a)(e,[{key:"evaluate",value:function(e,t){return ke(Oe(this.arg.evaluate(e,t)))}}],[{key:"parse",value:function(t){if(2!==t.length)throw new Error('"typeof" expects 1 argument');return new e(Le(t[1]))}}]),e}(),accumulated:null,"feature-state":null,"geometry-type":f,id:c,"line-progress":null,properties:h,at:H,get:G,has:Y,in:K,"index-of":Q,length:X,slice:ee,"!":_,"!=":k,"<":O,"<=":j,"==":w,">":D,">=":x,all:L,any:P,case:M,coalesce:z,match:N,within:null,interpolate:Z,"interpolate-hcl":Z,"interpolate-lab":Z,step:W,let:null,var:null,concat:ce,downcase:fe,"is-supported-script":null,"resolved-locale":null,upcase:fe,rgb:m,rgba:g,"to-rgba":b,"-":ae,"*":ne,"/":ie,"%":ue,"^":oe,"+":le,abs:se,acos:se,asin:se,atan:se,ceil:se,cos:se,e:se,floor:se,ln:se,ln2:se,log10:se,log2:se,max:se,min:se,pi:se,round:se,sin:se,sqrt:se,tan:se,zoom:y,"heatmap-density":null,"has-id":te,none:E};function Le(e){if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");var t=e[0];if("string"!=typeof t)throw new Error("First element of expression must be a string");var r=_e[t];if(void 0===r)throw new Error('Invalid expression operator "'.concat(t,'"'));if(!r)throw new Error('Unimplemented expression operator "'.concat(t,'"'));return r.parse(e)}var Pe=function(){function e(t){Object(i.a)(this,e),this._expression=t}return Object(u.a)(e,[{key:"filter",value:function(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(e){return console.log(e.message),!0}}}],[{key:"createFilter",value:function(t){if(!t)return null;this.isLegacyFilter(t)&&(t=this.convertLegacyFilter(t));try{return new e(Le(t))}catch(r){return console.log(r.message),null}}},{key:"isLegacyFilter",value:function(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":return!0;case"any":case"all":for(var t=1;t<e.length;t++)if(!this.isLegacyFilter(e[1]))return!1;return!0;case"none":return!0;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);case"!has":return!0;default:return!1}}},{key:"convertLegacyFilter",value:function(t){if(!Array.isArray(t)||0===t.length)return!0;var r=t[0];if(1===t.length)return"any"!==r;switch(r){case"==":return e.convertComparison("==",t[1],t[2]);case"!=":return e.negate(e.convertComparison("==",t[1],t[2]));case">":case"<":case">=":case"<=":return e.convertComparison(r,t[1],t[2]);case"in":return e.convertIn(t[1],t.slice(2));case"!in":return e.negate(e.convertIn(t[1],t.slice(2)));case"any":case"all":case"none":return e.convertCombining(r,t.slice(1));case"has":return e.convertHas(t[1]);case"!has":return e.negate(e.convertHas(t[1]));default:throw new Error("Unexpected legacy filter.")}}},{key:"convertComparison",value:function(e,t,r){switch(t){case"$type":return[e,["geometry-type"],r];case"$id":return[e,["id"],r];default:return[e,["get",t],r]}}},{key:"convertIn",value:function(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}},{key:"convertHas",value:function(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}},{key:"convertCombining",value:function(e,t){return[e].concat(t.map(this.convertLegacyFilter))}},{key:"negate",value:function(e){return["!",e]}}]),e}(),Ee=function e(){Object(i.a)(this,e)};Ee.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ee.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ee.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},Ee.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:"point"},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center"},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center"},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:"center"},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:["horizontal"]}},Ee.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},Ee.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},Ee.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},Ee.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1}},Ee.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},Ee.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},Ee.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};var Me=function(){function e(t,r){var a;switch(Object(i.a)(this,e),this.isDataDriven=!1,t.type){case"number":a=!0;break;case"color":a=!0,r=e._parseColor(r);break;case"array":a="number"===t.value;break;default:a=!1}if(null==r&&(r=t.default),Array.isArray(r)&&r.length>0&&_e[r[0]])try{var n=Le(r);this.getValue=this._buildExpression(n,t),this.isDataDriven=!0}catch(f){console.log(f.message),this.getValue=this._buildSimple(t.default)}else{a&&"interval"===r.type&&(a=!1);var u=r&&r.stops&&r.stops.length>0;if(u){var o,s=Object(l.a)(r.stops);try{for(s.s();!(o=s.n()).done;){var c=o.value;c[1]=this._validate(c[1],t)}}catch(h){s.e(h)}finally{s.f()}}if(this.isDataDriven=!!r&&!!r.property,this.isDataDriven)if(void 0!==r.default&&(r.default=this._validate(r.default,t)),u)switch(r.type){case"identity":this.getValue=this._buildIdentity(r,t);break;case"categorical":this.getValue=this._buildCategorical(r,t);break;default:this.getValue=a?this._buildInterpolate(r,t):this._buildInterval(r,t)}else this.getValue=this._buildIdentity(r,t);else u?this.getValue=a?this._buildZoomInterpolate(r):this._buildZoomInterval(r):(r=this._validate(r,t),this.getValue=this._buildSimple(r))}}return Object(u.a)(e,[{key:"_validate",value:function(e,t){if("number"===t.type){if(e<t.minimum)return t.minimum;if(e>t.maximum)return t.maximum}return e}},{key:"_buildSimple",value:function(e){return function(){return e}}},{key:"_buildExpression",value:function(t,r){var a=this;return function(n,i){try{var u=t.evaluate(i,n);return"color"===r.type&&(u=e._parseColor(u)),void 0===u?r.default:a._validate(u,r)}catch(t){return console.log(t.message),r.default}}}},{key:"_buildIdentity",value:function(t,r){var a=this;return function(n,i){var u;return i&&(u=i.values[t.property],"color"===r.type&&(u=e._parseColor(u))),void 0===u&&(u=t.default),void 0!==u?a._validate(u,r):r.default}}},{key:"_buildCategorical",value:function(e,t){var r=this;return function(a,n){var i;return n&&(i=n.values[e.property]),void 0!==(i=r._categorical(i,e.stops))?i:void 0!==e.default?e.default:t.default}}},{key:"_buildInterval",value:function(e,t){var r=this;return function(a,n){var i;return n&&(i=n.values[e.property]),"number"==typeof i?r._interval(i,e.stops):void 0!==e.default?e.default:t.default}}},{key:"_buildInterpolate",value:function(e,t){var r=this;return function(a,n){var i;return n&&(i=n.values[e.property]),"number"==typeof i?r._interpolate(i,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}},{key:"_buildZoomInterpolate",value:function(e){var t=this;return function(r){return t._interpolate(r,e.stops,e.base||1)}}},{key:"_buildZoomInterval",value:function(e){var t=this;return function(r){return t._interval(r,e.stops)}}},{key:"_categorical",value:function(e,t){for(var r=t.length,a=0;a<r;a++)if(t[a][0]===e)return t[a][1]}},{key:"_interval",value:function(e,t){for(var r=t.length,a=0,n=0;n<r&&t[n][0]<=e;n++)a=n;return t[a][1]}},{key:"_interpolate",value:function(e,t,r){for(var a,n,i=t.length,u=0;u<i;u++){var o=t[u];if(!(o[0]<=e)){n=o;break}a=o}if(a&&n){var l=n[0]-a[0],s=e-a[0],c=1===r?s/l:(Math.pow(r,s)-1)/(Math.pow(r,l)-1);if(Array.isArray(a[1])){for(var f=a[1],h=n[1],y=[],p=0;p<f.length;p++)y.push(Object(v.e)(f[p],h[p],c));return y}return Object(v.e)(a[1],n[1],c)}return a?a[1]:n?n[1]:void 0}}],[{key:"_isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"_parseColor",value:function(t){if(Array.isArray(t))return t;if("string"==typeof t){var r=new s.a(t);return this._isEmpty(r)?void 0:s.a.toUnitRGBA(r)}return t&&t.default&&(t.default=e._parseColor(t.default)),t&&t.stops&&(t.stops=t.stops.map((function(t){return[t[0],e._parseColor(t[1])]}))),t}}]),e}(),ze=r(779),Ne=function(){function e(t,r,a,n){switch(Object(i.a)(this,e),this.type=t,this.typeName=r.type,this.id=r.id,this.source=r.source,this.sourceLayer=r["source-layer"],this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,this.filter=r.filter,this.layout=r.layout,this.paint=r.paint,this.z=a,this.uid=n,t){case 0:this._layoutDefinition=Ee.backgroundLayoutDefinition,this._paintDefinition=Ee.backgroundPaintDefinition;break;case 1:this._layoutDefinition=Ee.fillLayoutDefinition,this._paintDefinition=Ee.fillPaintDefinition;break;case 2:this._layoutDefinition=Ee.lineLayoutDefinition,this._paintDefinition=Ee.linePaintDefinition;break;case 3:this._layoutDefinition=Ee.symbolLayoutDefinition,this._paintDefinition=Ee.symbolPaintDefinition;break;case 4:this._layoutDefinition=Ee.circleLayoutDefinition,this._paintDefinition=Ee.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return Object(u.a)(e,[{key:"getFeatureFilter",value:function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=Pe.createFilter(this.filter)}},{key:"getLayoutProperty",value:function(e){return this._layoutProperties[e]}},{key:"getPaintProperty",value:function(e){return this._paintProperties[e]}},{key:"getLayoutValue",value:function(e,t,r){var a,n=this._layoutProperties[e];n&&(a=n.getValue(t,r));var i=this._layoutDefinition[e];return void 0===a&&(a=i.default),"enum"===i.type?a=i.values.indexOf(a):"array"===i.type&&"enum"===i.value&&(a=a.map((function(e){return i.values.indexOf(e)}))),a}},{key:"getPaintValue",value:function(e,t,r){var a,n=this._paintProperties[e];n&&(a=n.getValue(t,r));var i=this._paintDefinition[e];return void 0===a&&(a=i.default),"enum"===i.type&&(a=i.values.indexOf(a)),a}},{key:"isPainterDataDriven",value:function(){var e=this._paintProperties;if(e)for(var t in e)if(e[t].isDataDriven)return!0;return!1}},{key:"_parseLayout",value:function(e){var t={};for(var r in e){var a=this._layoutDefinition[r];a&&(t[r]=new Me(a,e[r]))}return t}},{key:"_parsePaint",value:function(e){var t={};for(var r in e){var a=this._paintDefinition[r];a&&(t[r]=new Me(a,e[r]))}return t}}]),e}(),Ce=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e,a,n,u){return Object(i.a)(this,r),t.call(this,e,a,n,u)}return r}(Ne),Ve=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e,a,n,u){var o;Object(i.a)(this,r);var l=(o=t.call(this,e,a,n,u)).getPaintProperty("fill-color");o.hasDataDrivenColor=!!l&&l.isDataDriven;var s=o.getPaintProperty("fill-opacity");o.hasDataDrivenOpacity=!!s&&s.isDataDriven,o.hasDataDrivenFill=o.hasDataDrivenColor||o.hasDataDrivenOpacity;var c=o.getPaintProperty("fill-outline-color");return o.outlineUsesFillColor=!c,o.hasDataDrivenOutlineColor=!!c&&c.isDataDriven,o.hasDataDrivenOutline=(c?o.hasDataDrivenOutlineColor:o.hasDataDrivenColor)||o.hasDataDrivenOpacity,o}return r}(Ne),Ie=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e,a,n,u){var o;Object(i.a)(this,r);var l=(o=t.call(this,e,a,n,u)).getPaintProperty("line-color");o.hasDataDrivenColor=!!l&&l.isDataDriven;var s=o.getPaintProperty("line-opacity");o.hasDataDrivenOpacity=!!s&&s.isDataDriven;var c=o.getPaintProperty("line-width");o.hasDataDrivenWidth=!!c&&c.isDataDriven,o.hasDataDrivenLine=o.hasDataDrivenColor||o.hasDataDrivenOpacity||o.hasDataDrivenWidth;var f=a.paint["line-width"];return f||(f=Ee.linePaintDefinition["line-width"].default),o.isThinLine=!o.hasDataDrivenWidth&&"number"==typeof f&&f<ze.E,o}return r}(Ne),Ae=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e,a,n,u){var o;Object(i.a)(this,r);var l=(o=t.call(this,e,a,n,u)).getPaintProperty("icon-color");o.hasDataDrivenIconColor=!!l&&l.isDataDriven;var s=o.getPaintProperty("icon-opacity");o.hasDataDrivenIconOpacity=!!s&&s.isDataDriven;var c=o.getLayoutProperty("icon-size");o.hasDataDrivenIconSize=!!c&&c.isDataDriven,o.hasDataDrivenIcon=o.hasDataDrivenIconColor||o.hasDataDrivenIconOpacity||o.hasDataDrivenIconSize;var f=o.getPaintProperty("text-color");o.hasDataDrivenTextColor=!!f&&f.isDataDriven;var h=o.getPaintProperty("text-opacity");o.hasDataDrivenTextOpacity=!!h&&h.isDataDriven;var y=o.getLayoutProperty("text-size");return o.hasDataDrivenTextSize=!!y&&y.isDataDriven,o.hasDataDrivenText=o.hasDataDrivenTextColor||o.hasDataDrivenTextOpacity||o.hasDataDrivenTextSize,o}return r}(Ne),Se=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(e,a,n,u){var o;Object(i.a)(this,r);var l=(o=t.call(this,e,a,n,u)).getPaintProperty("circle-radius");o.hasDataDrivenRadius=!!l&&l.isDataDriven;var s=o.getPaintProperty("circle-color");o.hasDataDrivenColor=!!s&&s.isDataDriven;var c=o.getPaintProperty("circle-opacity");o.hasDataDrivenOpacity=!!c&&c.isDataDriven;var f=o.getPaintProperty("circle-stroke-width");o.hasDataDrivenStrokeWidth=!!f&&f.isDataDriven;var h=o.getPaintProperty("circle-stroke-color");o.hasDataDrivenStrokeColor=!!h&&h.isDataDriven;var y=o.getPaintProperty("circle-stroke-opacity");o.hasDataDrivenStrokeOpacity=!!y&&y.isDataDriven;var p=o.getPaintProperty("circle-blur");return o.hasDataDrivenBlur=!!p&&p.isDataDriven,o}return r}(Ne),Be=function e(t,r,a,n){Object(i.a)(this,e),this.allowOverlap=t.getLayoutValue("icon-allow-overlap",r,n),this.anchor=t.getLayoutValue("icon-anchor",r,n),this.ignorePlacement=t.getLayoutValue("icon-ignore-placement",r,n),this.keepUpright=t.getLayoutValue("icon-keep-upright",r,n),this.offset=t.getLayoutValue("icon-offset",r,n),this.optional=t.getLayoutValue("icon-optional",r,n),this.padding=t.getLayoutValue("icon-padding",r,n),this.rotate=t.getLayoutValue("icon-rotate",r,n),this.rotationAlignment=t.getLayoutValue("icon-rotation-alignment",r,n),this.size=t.getLayoutValue("icon-size",r,n),2===this.rotationAlignment&&(this.rotationAlignment=a?0:1)},Te=function e(t,r,a,n){Object(i.a)(this,e),this.allowOverlap=t.getLayoutValue("text-allow-overlap",r,n),this.anchor=t.getLayoutValue("text-anchor",r,n),this.fontArray=t.getLayoutValue("text-font",r,n),this.ignorePlacement=t.getLayoutValue("text-ignore-placement",r,n),this.justify=t.getLayoutValue("text-justify",r,n),this.keepUpright=t.getLayoutValue("text-keep-upright",r,n),this.letterSpacing=t.getLayoutValue("text-letter-spacing",r,n),this.lineHeight=t.getLayoutValue("text-line-height",r,n),this.maxAngle=t.getLayoutValue("text-max-angle",r,n),this.maxWidth=t.getLayoutValue("text-max-width",r,n),this.offset=t.getLayoutValue("text-offset",r,n),this.optional=t.getLayoutValue("text-optional",r,n),this.padding=t.getLayoutValue("text-padding",r,n),this.rotate=t.getLayoutValue("text-rotate",r,n),this.rotationAlignment=t.getLayoutValue("text-rotation-alignment",r,n),this.size=t.getLayoutValue("text-size",r,n),this.transform=t.getLayoutValue("text-transform",r,n),this.writingMode=t.getLayoutValue("text-writing-mode",r,n),2===this.rotationAlignment&&(this.rotationAlignment=a?0:1)}},992:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return f})),r.d(t,"g",(function(){return s})),r.d(t,"h",(function(){return c}));var a=Number.POSITIVE_INFINITY,n=Math.PI,i=2*n,u=128/n,o=n/180,l=1/Math.LN2;function s(e,t){return(e%=t)>=0?e:e+t}function c(e){return s(e*u,256)}function f(e){return Math.log(e)*l}function h(e,t,r){return e*(1-r)+t*r}}}]);
//# sourceMappingURL=18.11df05ae.chunk.js.map