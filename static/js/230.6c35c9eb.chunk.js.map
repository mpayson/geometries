{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/rotate.js","../node_modules/@arcgis/core/views/draw/support/Box.js"],"names":["i","n","e","t","r","length","o","slice","push","s","x","y","l","a","p","u","c","spatialReference","f","Math","PI","m","cos","sin","center","rings","xmin","ymin","ymax","xmax","extent","paths","h","reverse","g","z","points","R","this","graphics","mover","dx","dy","type","M","I","C","angle","E","O","j","xScale","yScale","L","B","transformGraphics","Y","centerIndicator","d","style","size","color","fill","default","outline","outlineColor","join","width","active","stagedColor","handles","vertex","hover","hoverSize","hoverColor","hoverOutlineColor","rotator","rotatorLine","line","N","_activeHandleGraphic","_graphicAttributes","esriSketchTool","_handles","_mover","_rotateGraphicOffset","_angleOfRotation","_rotateLineGraphic","_startInfo","_totalDx","_totalDy","_xScale","_yScale","callbacks","onMoveStart","onMove","onMoveStop","onScaleStart","onScale","onScaleStop","onRotateStart","onRotate","onRotateStop","onGraphicClick","centerGraphic","backgroundGraphic","enableMovement","enableRotation","enableScaling","handleGraphics","layer","preserveAspectRatio","rotateGraphic","showCenterGraphic","view","_getBounds","v","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","max","_setup","add","S","_","_scaleGraphic","_updateGraphics","_updateRotateGraphic","_updateRotateLineGraphic","refresh","_resetGraphics","_reset","removeAll","get","_set","concat","includes","geometry","G","_emitMoveStopEvent","_emitScaleStopEvent","w","_emitRotateStopEvent","state","_setupGraphics","_setupMover","_resetGraphicStateVars","destroy","cursor","removeMany","remove","k","enableMoveAllGraphics","_onGraphicClickCallback","onGraphicMoveStart","_onGraphicMoveStartCallback","onGraphicMove","_onGraphicMoveCallback","onGraphicMoveStop","_onGraphicMoveStopCallback","onGraphicPointerOver","_onGraphicPointerOverCallback","onGraphicPointerOut","_onGraphicPointerOutCallback","_getBoxBounds","abs","height","centerX","centerY","startX","startY","graphicInfos","_getGraphicInfos","box","rotate","map","_getGraphicInfo","viewEvent","stopPropagation","emit","symbols","graphic","_hideGraphicsBeforeUpdate","symbol","_getStartInfo","_emitRotateStartEvent","_emitScaleStartEvent","_emitMoveStartEvent","_emitScaleEvent","_rotateGraphic","_emitRotateEvent","_moveGraphic","_emitMoveEvent","_showGraphicsAfterUpdate","rotation","index","resolution","transform","indexOf","_updateX","_updateY","_updateBackgroundGraphic","b","_hasExtentGraphic","addMany","_updateHandleGraphics","_updateCenterGraphic","visible","forEach","_getCoordinates","_updateXY","some","EventedAccessor","prototype","readOnly","dependsOn","value","A"],"mappings":"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","file":"static/js/230.6c35c9eb.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport n from\"../Point.js\";import e from\"../Multipoint.js\";import t from\"../Polygon.js\";import r from\"../Polyline.js\";import\"../../geometry.js\";function i(n){let e=0,t=0;const r=n.length;let i,o=n[t];for(t=0;t<r-1;t++)i=n[t+1],e+=(i[0]-o[0])*(i[1]+o[1]),o=i;return e>=0}function o(n,e,t,r){const i=[];for(const o of n){const n=o.slice(0);i.push(n);const s=e*(o[0]-r.x)-t*(o[1]-r.y)+r.x,l=t*(o[0]-r.x)+e*(o[1]-r.y)+r.y;n[0]=s,n[1]=l}return i}function s(s,l,a){const c=s.spatialReference,f=l*Math.PI/180,m=Math.cos(f),x=Math.sin(f);var p,u;\"xmin\"in s&&(a=null!=(p=a)?p:s.center,s=new t({spatialReference:c,rings:[[[s.xmin,s.ymin],[s.xmin,s.ymax],[s.xmax,s.ymax],[s.xmax,s.ymin],[s.xmin,s.ymin]]]}));if(\"paths\"in s){var y;a=null!=(y=a)?y:s.extent.center;const n=[];for(const e of s.paths)n.push(o(e,m,x,a));return new r({spatialReference:c,paths:n})}if(\"rings\"in s){var h;a=null!=(h=a)?h:s.extent.center;const n=[];for(const e of s.rings){const t=i(e),r=o(e,m,x,a);i(r)!==t&&r.reverse(),n.push(r)}return new t({spatialReference:c,rings:n})}if(\"x\"in s){var g;a=null!=(g=a)?g:s;const e=new n({x:m*(s.x-a.x)-x*(s.y-a.y)+a.x,y:x*(s.x-a.x)+m*(s.y-a.y)+a.y,spatialReference:c});return null!=s.z&&(e.z=s.z),null!=s.m&&(e.m=s.m),e}return\"points\"in s?(a=null!=(u=a)?u:s.extent.center,new e({points:o(s.points,m,x,a),spatialReference:c})):null}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as e}from\"../../../core/maybe.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import r from\"../../../geometry/Point.js\";import{geometryToCoordinates as a}from\"../../../geometry/support/coordsUtils.js\";import{getRingsOrPathsBounds as o}from\"../../../geometry/support/boundsUtils.js\";import h from\"../../../geometry/Polygon.js\";import c from\"../../../geometry/Polyline.js\";import\"../../../geometry.js\";import n from\"../../../core/Evented.js\";import l from\"../../../symbols/SimpleLineSymbol.js\";import p from\"../../../symbols/SimpleFillSymbol.js\";import d from\"../../../symbols/SimpleMarkerSymbol.js\";import m from\"../../../Graphic.js\";import u from\"../../../core/Handles.js\";import{whenOnce as g,pausable as _}from\"../../../core/watchUtils.js\";import{create as v}from\"../../../geometry/support/aaBoundingRect.js\";import{cloneMove as G,scale as y,getScaleRatio as f,getRotationAngle as b}from\"./drawUtils.js\";import{addUniqueLayer as S}from\"./layerUtils.js\";import w from\"../../../geometry/support/rotate.js\";import k from\"./GraphicMover.js\";import{settings as x}from\"./settings.js\";class R{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-start\"}}class M{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move\"}}class I{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.dx=i,this.dy=s,this.type=\"move-stop\"}}class C{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-start\"}}class E{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate\"}}class O{constructor(t,e,i){this.graphics=t,this.mover=e,this.angle=i,this.type=\"rotate-stop\"}}class j{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-start\"}}class L{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale\"}}class z{constructor(t,e,i,s){this.graphics=t,this.mover=e,this.xScale=i,this.yScale=s,this.type=\"scale-stop\"}}const B=x.transformGraphics,Y={centerIndicator:new d({style:\"cross\",size:B.center.size,color:B.center.color}),fill:{default:new p({color:B.fill.color,outline:{color:B.fill.outlineColor,join:\"round\",width:1}}),active:new p({color:B.fill.stagedColor,outline:{color:B.fill.outlineColor,join:\"round\",style:\"dash\",width:1}})},handles:{default:new d({style:\"square\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"square\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotator:{default:new d({style:\"circle\",size:B.vertex.size,color:B.vertex.color,outline:{color:B.vertex.outlineColor,width:1}}),hover:new d({style:\"circle\",size:B.vertex.hoverSize,color:B.vertex.hoverColor,outline:{color:B.vertex.hoverOutlineColor,width:1}})},rotatorLine:new l({color:B.line.color,width:1})};let N=class extends n.EventedAccessor{constructor(t){super(t),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:\"box\"},this._handles=new u,this._mover=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.type=\"box\",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.centerGraphic=null,this.backgroundGraphic=null,this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.handleGraphics=[],this.layer=null,this.preserveAspectRatio=!1,this.rotateGraphic=null,this.showCenterGraphic=!0,this.view=null,this._getBounds=(()=>{const t=v();return(e,i)=>{e[0]=Number.POSITIVE_INFINITY,e[1]=Number.POSITIVE_INFINITY,e[2]=Number.NEGATIVE_INFINITY,e[3]=Number.NEGATIVE_INFINITY;for(const s of i){if(!s)continue;let i,r,h,c;if(\"point\"===s.type)i=h=s.x,r=c=s.y;else if(\"multipoint\"===s.type){const e=a(s);[i,r,h,c]=o(t,[e])}else if(\"extent\"===s.type)[i,r,h,c]=[s.xmin,s.ymin,s.xmax,s.ymax];else{const e=a(s);[i,r,h,c]=o(t,e)}e[0]=Math.min(i,e[0]),e[1]=Math.min(r,e[1]),e[2]=Math.max(h,e[2]),e[3]=Math.max(c,e[3])}return e}})()}initialize(){this._setup(),this._handles.add([g(this,\"view.ready\",(()=>{const{layer:t,view:e}=this;S(e,t)})),_(this,\"preserveAspectRatio\",(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics())})),_(this,\"view.scale\",(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),_(this,\"graphics\",(()=>this.refresh())),_(this,\"layer\",((t,e)=>{e&&this._resetGraphics(e),this.refresh()}))])}destroy(){this._reset(),this._handles&&(this._handles.removeAll(),this._handles=null)}get state(){const t=!!this.get(\"view.ready\"),e=!(!this.get(\"graphics.length\")||!this.get(\"layer\"));return t&&e?\"active\":t?\"ready\":\"disabled\"}set symbols(t){const{centerIndicator:e=Y.centerIndicator,fill:i=Y.fill,handles:s=Y.handles,rotator:r=Y.rotator,rotatorLine:a=Y.rotatorLine}=t||{};this._set(\"symbols\",{centerIndicator:e,fill:i,handles:s,rotator:r,rotatorLine:a})}isUIGraphic(t){let e=[];return this.handleGraphics.length&&(e=e.concat(this.handleGraphics)),this.backgroundGraphic&&e.push(this.backgroundGraphic),this.centerGraphic&&e.push(this.centerGraphic),this.rotateGraphic&&e.push(this.rotateGraphic),this._rotateLineGraphic&&e.push(this._rotateLineGraphic),e.length&&e.includes(t)}move(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=G(s,t,e,this.view);i.geometry=r}this.refresh(),this._emitMoveStopEvent(t,e,null)}}scale(t,e){if(this._mover&&this.graphics.length){for(const i of this.graphics){const s=i.geometry,r=y(s,t,e);i.geometry=r}this.refresh(),this._emitScaleStopEvent(t,e,null)}}rotate(t,e){if(this._mover&&this.graphics.length){if(!e){const t=this.handleGraphics[1].geometry.x,i=this.handleGraphics[3].geometry.y;e=new r(t,i,this.view.spatialReference)}for(const i of this.graphics){const s=i.geometry,r=w(s,t,e);i.geometry=r}this.refresh(),this._emitRotateStopEvent(t,null)}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){\"active\"===this.state&&(this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._resetGraphicStateVars(),this._resetGraphics(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor=\"default\"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(t){const e=t||this.layer;e&&(e.removeMany(this.handleGraphics),e.remove(this.backgroundGraphic),e.remove(this.centerGraphic),e.remove(this.rotateGraphic),e.remove(this._rotateLineGraphic));for(const t of this.handleGraphics)t.destroy();this._set(\"handleGraphics\",[]),this.backgroundGraphic&&(this.backgroundGraphic.destroy(),this._set(\"backgroundGraphic\",null)),this.centerGraphic&&(this.centerGraphic.destroy(),this._set(\"centerGraphic\",null)),this.rotateGraphic&&(this.rotateGraphic.destroy(),this._set(\"rotateGraphic\",null)),this._rotateLineGraphic&&(this._rotateLineGraphic.destroy(),this._rotateLineGraphic=null)}_setupMover(){let t=[].concat(this.handleGraphics);this.enableMovement&&(t=t.concat(this.graphics,this.backgroundGraphic)),this.enableRotation&&t.push(this.rotateGraphic),this.showCenterGraphic&&t.push(this.centerGraphic),this._mover=new k({enableMoveAllGraphics:!1,view:this.view,graphics:t,callbacks:{onGraphicClick:t=>this._onGraphicClickCallback(t),onGraphicMoveStart:t=>this._onGraphicMoveStartCallback(t),onGraphicMove:t=>this._onGraphicMoveCallback(t),onGraphicMoveStop:t=>this._onGraphicMoveStopCallback(t),onGraphicPointerOver:t=>this._onGraphicPointerOverCallback(t),onGraphicPointerOut:t=>this._onGraphicPointerOutCallback(t)}})}_getStartInfo(t){const[e,i,s,r]=this._getBoxBounds(v()),a=Math.abs(s-e),o=Math.abs(r-i),h=(s+e)/2,c=(r+i)/2,{x:n,y:l}=t.geometry;return{width:a,height:o,centerX:h,centerY:c,startX:n,startY:l,graphicInfos:this._getGraphicInfos(),box:this.backgroundGraphic.geometry,rotate:this.rotateGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((t=>this._getGraphicInfo(t)))}_getGraphicInfo(t){const e=t.geometry,[i,s,r,a]=this._getBounds(v(),[e]);return{width:Math.abs(r-i),height:Math.abs(a-s),centerX:(r+i)/2,centerY:(a+s)/2,geometry:e}}_onGraphicClickCallback(t){t.viewEvent.stopPropagation(),this.emit(\"graphic-click\",t),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(t)}_onGraphicMoveStartCallback(t){const{_angleOfRotation:e,_xScale:i,_yScale:s,backgroundGraphic:r,handleGraphics:a,rotateGraphic:o,symbols:h}=this,c=t.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),r.symbol=h.fill.active,this._startInfo=this._getStartInfo(c),c===o?(this.view.cursor=\"grabbing\",this._emitRotateStartEvent(e,c)):a.includes(c)?(this._activeHandleGraphic=c,this._emitScaleStartEvent(i,s,c)):this._emitMoveStartEvent(t.dx,t.dy,c)}_onGraphicMoveCallback(t){const e=t.graphic;if(this._startInfo)if(this.handleGraphics.includes(e))this._scaleGraphic(e),this._emitScaleEvent(this._xScale,this._yScale,e);else if(e===this.rotateGraphic)this._rotateGraphic(e),this._emitRotateEvent(this._angleOfRotation,e);else{const i=t.dx,s=t.dy;this._totalDx+=i,this._totalDy+=s,this._moveGraphic(e,i,s),this._emitMoveEvent(i,s,e)}}_onGraphicMoveStopCallback(t){const e=t.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:s,_totalDy:r,_xScale:a,_yScale:o,backgroundGraphic:h,handleGraphics:c,rotateGraphic:n,symbols:l}=this;this._updateGraphics(),this._showGraphicsAfterUpdate(),h.symbol=l.fill.default,e===n?(this.view.cursor=\"pointer\",this._emitRotateStopEvent(i,e)):c.includes(e)?this._emitScaleStopEvent(a,o,e):this._emitMoveStopEvent(s,r,e),this._resetGraphicStateVars()}_onGraphicPointerOverCallback(t){const{backgroundGraphic:e,handleGraphics:i,graphics:s,rotateGraphic:r,symbols:a,view:o}=this,h=t.graphic;if(h===r)return r.symbol=a.rotator.hover,void(o.cursor=\"pointer\");if(s.includes(h)||h===e)return void(o.cursor=\"move\");if(!i.includes(h))return void(o.cursor=\"pointer\");t.graphic.symbol=a.handles.hover;const c=o.rotation;let n,l=t.index;switch(l<8&&(c>=0&&c<45?l%=8:l=c>=45&&c<90?(l+1)%8:c>=90&&c<135?(l+2)%8:c>=135&&c<180?(l+3)%8:c>=180&&c<225?(l+4)%8:c>=225&&c<270?(l+5)%8:c>=270&&c<315?(l+6)%8:(l+7)%8),l){case 0:n=\"nwse-resize\";break;case 1:n=\"ns-resize\";break;case 2:n=\"nesw-resize\";break;case 3:n=\"ew-resize\";break;case 4:n=\"nwse-resize\";break;case 5:n=\"ns-resize\";break;case 6:n=\"nesw-resize\";break;case 7:n=\"ew-resize\";break;default:n=\"pointer\"}o.cursor=n}_onGraphicPointerOutCallback(t){const{handleGraphics:e,rotateGraphic:i,symbols:s,view:r}=this;t.graphic===i?i.symbol=s.rotator.default:e.includes(t.graphic)&&(t.graphic.symbol=s.handles.default),r.cursor=\"default\"}_scaleGraphic(t){const{_startInfo:e,handleGraphics:i,preserveAspectRatio:s,view:a}=this,{centerX:o,centerY:h,startX:c,startY:n}=e,{resolution:l,transform:p}=a.state,d=i.indexOf(t);1!==d&&5!==d||this._updateX(t,o),3!==d&&7!==d||this._updateY(t,h);const{x:m,y:u}=t.geometry,g=p[0]*m+p[2]*u+p[4],_=p[1]*m+p[3]*u+p[5],v=e.graphicInfos.map((t=>t.geometry));if(s){const t=p[0]*o+p[2]*h+p[4],e=p[1]*o+p[3]*h+p[5],i=p[0]*c+p[2]*n+p[4],s=p[1]*c+p[3]*n+p[5];this._xScale=this._yScale=f(t,e,i,s,g,_);for(const t of v){const e=v.indexOf(t);this.graphics[e].geometry=y(t,this._xScale,this._yScale,[o,h])}this._updateBackgroundGraphic()}else{const{width:t,height:i}=e;let s=m-c,p=n-u;if(1===d||5===d?s=0:3!==d&&7!==d||(p=0),0===s&&0===p)return;const g=t+(c>o?s:-1*s),_=i+(n<h?p:-1*p),f=o+s/2,b=h+p/2;this._xScale=g/t||1,this._yScale=_/i||1,1===d||5===d?this._xScale=1:3!==d&&7!==d||(this._yScale=1);const S=(f-o)/l,w=(b-h)/l,k=y(e.box,this._xScale,this._yScale);this.backgroundGraphic.geometry=G(k,S,w,a,!0);const{centerX:x,centerY:R}=this._getGraphicInfo(this.backgroundGraphic),M=(x-o)/l,I=-1*(R-h)/l;for(const t of v){const e=v.indexOf(t),i=y(t,this._xScale,this._yScale,[o,h]);this.graphics[e].geometry=G(i,M,I,a,!0)}this.centerGraphic.geometry=new r(x,R,a.spatialReference)}}_rotateGraphic(t){const{centerX:e,centerY:i,startX:s,startY:a,box:o,rotate:h}=this._startInfo,{x:c,y:n}=t.geometry,l=new r(e,i,this.view.spatialReference);this._angleOfRotation=b(e,i,s,a,c,n);const p=this._startInfo.graphicInfos.map((t=>t.geometry));for(const t of p){const e=p.indexOf(t),i=w(t,this._angleOfRotation,l);this.graphics[e].geometry=i}this.backgroundGraphic.geometry=w(o,this._angleOfRotation,l),this.rotateGraphic.geometry=w(h,this._angleOfRotation,l)}_moveGraphic(t,e,i){if(this.graphics.includes(t)){const s=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(s,e,i,this.view);for(const s of this.graphics)s!==t&&(s.geometry=G(s.geometry,e,i,this.view))}else if(t===this.centerGraphic){const t=this.backgroundGraphic.geometry;this.backgroundGraphic.geometry=G(t,e,i,this.view)}if(t===this.backgroundGraphic||t===this.centerGraphic)for(const t of this.graphics)t.geometry=G(t.geometry,e,i,this.view)}_setupGraphics(){const{_graphicAttributes:t,symbols:e}=this;this._set(\"centerGraphic\",new m(null,e.centerIndicator,t)),this.showCenterGraphic&&this.layer.add(this.centerGraphic),this._set(\"backgroundGraphic\",new m(null,e.fill.default,t)),this.layer.add(this.backgroundGraphic),this._rotateLineGraphic=new m(null,e.rotatorLine,t),this._set(\"rotateGraphic\",new m(null,e.rotator.default,t)),this.enableRotation&&!this._hasExtentGraphic()&&(this.layer.add(this._rotateLineGraphic),this.layer.add(this.rotateGraphic));for(let i=0;i<8;i++)this.handleGraphics.push(new m(null,e.handles.default,t));this.enableScaling&&this.layer.addMany(this.handleGraphics)}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this.centerGraphic.visible=!1,this.rotateGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this.handleGraphics.forEach((t=>t.visible=!1))}_showGraphicsAfterUpdate(){this.enableRotation&&(this._rotateLineGraphic.visible=!0,this.rotateGraphic.visible=!0),this.showCenterGraphic&&(this.centerGraphic.visible=!0),this.enableScaling&&this.handleGraphics.forEach((t=>t.visible=!0))}_updateHandleGraphics(){const t=this._getCoordinates(!0);this.handleGraphics.forEach(((e,i)=>{const[s,r]=t[i];this._updateXY(e,s,r)}))}_updateBackgroundGraphic(){const t=this._getCoordinates();this.backgroundGraphic.geometry=new h({rings:t,spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[t,e,i,s]=this._getBoxBounds(v()),a=(i+t)/2,o=(s+e)/2;this.centerGraphic.geometry=new r(a,o,this.view.spatialReference)}_updateRotateGraphic(){if(!this.handleGraphics.length)return;const{x:t,y:e}=this.handleGraphics[1].geometry,i=e+this.view.state.resolution*this._rotateGraphicOffset;this.rotateGraphic.geometry=new r(t,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this.handleGraphics.length||!this.rotateGraphic||!this.rotateGraphic.geometry)return;const t=this.handleGraphics[1].geometry,e=this.rotateGraphic.geometry;this._rotateLineGraphic.geometry=new c({paths:[[t.x,t.y],[e.x,e.y]],spatialReference:this.view.spatialReference})}_updateXY(t,e,i){t.geometry=new r(e,i,this.view.spatialReference)}_updateX(t,e){const i=t.geometry.y;t.geometry=new r(e,i,this.view.spatialReference)}_updateY(t,e){const i=t.geometry.x;t.geometry=new r(i,e,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((t=>t&&e(t.geometry)&&\"extent\"===t.geometry.type))}_getBoxBounds(t){const e=this.graphics.map((t=>t.geometry));return this._getBounds(t,e)}_getCoordinates(t){const[e,i,s,r]=this._getBoxBounds(v());if(t){const t=(e+s)/2,a=(r+i)/2;return[[e,r],[t,r],[s,r],[s,a],[s,i],[t,i],[e,i],[e,a]]}return[[e,r],[s,r],[s,i],[e,i]]}_emitMoveStartEvent(t,e,i){const s=new R(this.graphics,i,t,e);this.emit(\"move-start\",s),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(s)}_emitMoveEvent(t,e,i){const s=new M(this.graphics,i,t,e);this.emit(\"move\",s),this.callbacks.onMove&&this.callbacks.onMove(s)}_emitMoveStopEvent(t,e,i){const s=new I(this.graphics,i,t,e);this.emit(\"move-stop\",s),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(s)}_emitRotateStartEvent(t,e){const i=new C(this.graphics,e,t);this.emit(\"rotate-start\",i),this.callbacks.onRotateStart&&this.callbacks.onRotateStart(i)}_emitRotateEvent(t,e){const i=new E(this.graphics,e,t);this.emit(\"rotate\",i),this.callbacks.onRotate&&this.callbacks.onRotate(i)}_emitRotateStopEvent(t,e){const i=new O(this.graphics,e,t);this.emit(\"rotate-stop\",i),this.callbacks.onRotateStop&&this.callbacks.onRotateStop(i)}_emitScaleStartEvent(t,e,i){const s=new j(this.graphics,i,t,e);this.emit(\"scale-start\",s),this.callbacks.onScaleStart&&this.callbacks.onScaleStart(s)}_emitScaleEvent(t,e,i){const s=new L(this.graphics,i,t,e);this.emit(\"scale\",s),this.callbacks.onScale&&this.callbacks.onScale(s)}_emitScaleStopEvent(t,e,i){const s=new z(this.graphics,i,t,e);this.emit(\"scale-stop\",s),this.callbacks.onScaleStop&&this.callbacks.onScaleStop(s)}};t([i()],N.prototype,\"_rotateLineGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"type\",void 0),t([i()],N.prototype,\"callbacks\",void 0),t([i({readOnly:!0})],N.prototype,\"centerGraphic\",void 0),t([i({readOnly:!0})],N.prototype,\"backgroundGraphic\",void 0),t([i()],N.prototype,\"enableMovement\",void 0),t([i()],N.prototype,\"enableRotation\",void 0),t([i()],N.prototype,\"enableScaling\",void 0),t([i()],N.prototype,\"graphics\",void 0),t([i({readOnly:!0})],N.prototype,\"handleGraphics\",void 0),t([i()],N.prototype,\"layer\",void 0),t([i()],N.prototype,\"preserveAspectRatio\",void 0),t([i({readOnly:!0})],N.prototype,\"rotateGraphic\",void 0),t([i()],N.prototype,\"showCenterGraphic\",void 0),t([i({dependsOn:[\"view.ready\",\"graphics.length\",\"layer\"],readOnly:!0})],N.prototype,\"state\",null),t([i({value:Y})],N.prototype,\"symbols\",null),t([i()],N.prototype,\"view\",void 0),N=t([s(\"esri.views.draw.support.Box\")],N);var A=N;export default A;\n"],"sourceRoot":""}