(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[105],{1037:function(t,e,r){"use strict";r.r(e);var a=r(2),i=r(3),n=r(61),o=r(56),s=r(5),c=r(6),u=r(0),l=(r(13),r(24)),p=(r(14),r(15),r(1)),h=r(8),O=r(23),v=(r(11),r(19),r(20),r(16)),f=r(102),b=r(244),y=r(801),d=r(808),j=function(t){Object(s.a)(r,t);var e=Object(c.a)(r);function r(t){var i;return Object(a.a)(this,r),(i=e.call(this,t)).resourceInfo=null,i.type="unsupported",i}return Object(i.a)(r,[{key:"initialize",value:function(){var t=this;this.addResolvingPromise(Object(v.c)((function(e,r){Object(f.b)((function(){var e=t.resourceInfo&&(t.resourceInfo.layerType||t.resourceInfo.type),a="Unsupported layer type";e&&(a+=" "+e),r(new O.a("layer:unsupported-layer-type",a,{layerType:e}))}))})))}},{key:"read",value:function(t,e){var a={resourceInfo:t};null!=t.id&&(a.id=t.id),null!=t.title&&(a.title=t.title),Object(n.a)(Object(o.a)(r.prototype),"read",this).call(this,a,e)}},{key:"write",value:function(t){return Object(l.d)(t||{},this.resourceInfo,{id:this.id})}}]),r}(Object(d.a)(Object(y.a)(b.a)));Object(u.a)([Object(p.b)({readOnly:!0})],j.prototype,"resourceInfo",void 0),Object(u.a)([Object(p.b)({type:["show","hide"]})],j.prototype,"listMode",void 0),Object(u.a)([Object(p.b)({json:{read:!1},readOnly:!0,value:"unsupported"})],j.prototype,"type",void 0);var g=j=Object(u.a)([Object(h.a)("esri.layers.UnsupportedLayer")],j);e.default=g},801:function(t,e,r){"use strict";r.d(e,"a",(function(){return _})),r.d(e,"b",(function(){return w}));var a=r(12),i=r(2),n=r(3),o=r(5),s=r(6),c=r(0),u=r(98),l=r(8),p=r(231),h=r(33),O=r(379),v=r(34),f=r(4),b=r(387),y=r(37),d=r(24),j=function(){function t(){Object(i.a)(this,t),this._propertyOriginMap=new Map,this._originStores=new Array(p.a),this._values=new Map}return Object(n.a)(t,[{key:"clone",value:function(e){var r=this,a=new t,i=this._originStores[0];i&&i.forEach((function(t,e){a.set(e,Object(d.a)(t),0)}));for(var n=function(t){var i=r._originStores[t];i&&i.forEach((function(r,i){e&&e.has(i)||a.set(i,Object(d.a)(r),t)}))},o=2;o<p.a;o++)n(o);return a}},{key:"get",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return r?r.get(t):void 0}},{key:"keys",value:function(t){var e=null==t?this._values:this._originStores[t];return e?Object(y.a)(e.keys()):[]}},{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=this._originStores[r];if(a||(a=new Map,this._originStores[r]=a),a.set(t,e),!this._values.has(t)||Object(f.c)(this._propertyOriginMap.get(t))<=r){var i=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),i!==e}return!1}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[e];if(r){var a=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(var i=e-1;i>=0;i--){var n=this._originStores[i];if(n&&n.has(t)){this._values.set(t,n.get(t)),this._propertyOriginMap.set(t,i);break}}}return a}}},{key:"has",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return!!r&&r.has(t)}},{key:"revert",value:function(t,e){for(;e>0&&!this.has(t,e);)--e;var r=this._originStores[e],a=r&&r.get(t),i=this._values.get(t);return this._values.set(t,a),this._propertyOriginMap.set(t,e),i!==a}},{key:"originOf",value:function(t){return this._propertyOriginMap.get(t)||0}},{key:"forEach",value:function(t){this._values.forEach(t)}}]),t}(),g=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){var t;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];t=e.call.apply(e,[this].concat(n));var s=Object(f.c)(Object(u.a)(Object(v.a)(t))),c=s.metadatas,l=s.store,p=new j;return s.store=p,l.keys().forEach((function(t){p.set(t,l.get(t),0)})),Object.keys(c).forEach((function(t){s.internalGet(t)&&p.set(t,s.internalGet(t),0)})),t}return Object(n.a)(r,[{key:"read",value:function(t,e){Object(b.a)(this,t,e)}},{key:"getAtOrigin",value:function(t,e){var r=m(this),a=Object(p.d)(e);if("string"==typeof t)return r.get(t,a);var i={};return t.forEach((function(t){i[t]=r.get(t,a)})),i}},{key:"originOf",value:function(t){return Object(p.b)(this.originIdOf(t))}},{key:"originIdOf",value:function(t){return m(this).originOf(t)}},{key:"revert",value:function(t,e){var r=m(this),a=Object(p.d)(e),i=Object(u.a)(this);("string"==typeof t?"*"===t?r.keys(a):[t]:t).forEach((function(t){i.propertyInvalidated(t),r.revert(t,a),i.propertyCommitted(t)}))}}]),r}(t);return e=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function m(t){return Object(u.a)(t).store}var k=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return r}(g(h.a));k=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],k);function I(t){return Object(u.a)(t).store}var _=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(i.a)(this,r);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.call.apply(e,[this].concat(a))}return r}(function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(i.a)(this,r);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.call.apply(e,[this].concat(a))}return Object(n.a)(r,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return I(this).delete(t,Object(p.d)(e))}},{key:"write",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Object(O.b)(this,t=t||{},e),t}},{key:"setAtOrigin",value:function(t,e,r){Object(u.a)(this).setAtOrigin(t,e,Object(p.d)(r))}},{key:"removeOrigin",value:function(t){var e,r=I(this),i=Object(p.d)(t),n=r.keys(i),o=Object(a.a)(n);try{for(o.s();!(e=o.n()).done;){var s=e.value;r.originOf(s)===i&&r.set(s,r.get(s,i),6)}}catch(c){o.e(c)}finally{o.f()}}},{key:"updateOrigin",value:function(t,e){for(var r=I(this),a=Object(p.d)(e),i=this.get(t),n=a+1;n<p.a;++n)r.delete(t,n);r.set(t,i,a)}},{key:"toJSON",value:function(t){return this.write({},t)}}]),r}(t);return(e=Object(c.a)([Object(l.a)("esri.core.WriteableMultiOriginJSONSupport")],e)).prototype.toJSON.isDefaultToJSON=!0,e}(g(t)));return e=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],e)},w=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return r}(_(h.a));w=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],w)},808:function(t,e,r){"use strict";r.d(e,"a",(function(){return w}));var a=r(9),i=r(10),n=r.n(i),o=r(21),s=r(2),c=r(3),u=r(61),l=r(56),p=r(5),h=r(6),O=r(0),v=(r(13),r(14)),f=(r(15),r(1)),b=r(63),y=r(8),d=r(47),j=r(23),g=r(11),m=(r(19),r(20),r(16)),k=r(124),I=r(385),_=v.a.getLogger("esri.layers.mixins.PortalLayer"),w=function(t){var e=function(t){Object(p.a)(i,t);var e=Object(h.a)(i);function i(){var t;return Object(s.a)(this,i),(t=e.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},t}return Object(c.a)(i,[{key:"destroy",value:function(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}},{key:"portalItem",set:function(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}},{key:"readPortalItem",value:function(t,e,r){if(e.itemId)return new I.default({id:e.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(t,e){t&&t.id&&(e.itemId=t.id)}},{key:"loadFromPortal",value:function(){var t=Object(o.a)(n.a.mark((function t(e,a){var i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.portalItem||!this.portalItem.id){t.next=14;break}return t.prev=1,t.next=4,r.e(95).then(r.bind(null,943));case 4:return i=t.sent,Object(m.w)(a),t.next=8,i.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(1),_.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(t.t0)),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"read",value:function(t,e){e&&(e.layer=this),Object(u.a)(Object(l.a)(i.prototype),"read",this).call(this,t,e)}},{key:"write",value:function(t,e){var r=e&&e.portal,n=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||k.a.getDefault());return r&&n&&!Object(g.r)(n.restUrl,r.restUrl)?(e.messages&&e.messages.push(new j.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(u.a)(Object(l.a)(i.prototype),"write",this).call(this,t,Object(a.a)(Object(a.a)({},e),{},{layer:this}))}}]),i}(t);return Object(O.a)([Object(f.b)({type:I.default})],e.prototype,"portalItem",null),Object(O.a)([Object(b.a)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),Object(O.a)([Object(d.a)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),Object(O.a)([Object(f.b)()],e.prototype,"resourceReferences",void 0),e=Object(O.a)([Object(y.a)("esri.layers.mixins.PortalLayer")],e),e}}}]);
//# sourceMappingURL=105.d77d09ca.chunk.js.map