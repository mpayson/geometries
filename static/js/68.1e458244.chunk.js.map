{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileIndex.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/debugging.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js","../node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js","../node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js","../node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js","../node_modules/@arcgis/core/core/accessorSupport/diffUtils.js","../node_modules/@arcgis/core/core/MemCache.js","../node_modules/@arcgis/core/core/LRUCache.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js","../node_modules/@arcgis/core/layers/support/Tilemap.js","../node_modules/@arcgis/core/layers/support/TilemapCache.js","../node_modules/@arcgis/core/core/ItemCache.js"],"names":["e","l","this","_tilemapCache","Error","_tilemap","index","t","r","level","o","row","a","col","h","i","fetchAvailabilityUpsample","then","world","catch","_getIndexedDataKey","_callback","_maxLevel","_forEach","push","s","pop","length","xTile","yTile","hash","priority","colliders","textVertexRanges","iconVertexRanges","tile","tileSymbols","parts","startTime","startOpacity","targetOpacity","show","n","_rows","Math","ceil","_columns","_cellSize","cells","Array","min","max","floor","columns","rows","layerData","get","type","unique","selectedForRendering","allSymbolsFadingOut","iconOpacity","textOpacity","lastOpacityUpdate","opacityChanged","layerUIDs","isDestroyed","data","memoryUsed","byteLength","Uint32Array","bufferDataOffset","doDestroy","doPrepareForRendering","f","lineIndexStart","lineIndexCount","isLineDataDriven","lineVertexArrayObject","dispose","lineVertexBuffer","lineIndexBuffer","Int32Array","buffer","createVertex","u","createIndex","getProgramAttributes","lineVertexAttributesDD","lineVertexAttributes","geometry","name","count","offset","stride","normalized","divisor","fillIndexStart","fillIndexCount","outlineIndexStart","outlineIndexCount","isFillDataDriven","isOutlineDataDriven","fillVertexArrayObject","fillVertexBuffer","fillIndexBuffer","outlineVertexArrayObject","outlineVertexBuffer","outlineIndexBuffer","c","d","fillVertexAttributesDD","fillVertexAttributes","outlineVertexAttributesDD","outlineVertexAttributes","iconPerPageElementsMap","Map","glyphPerPageElementsMap","symbolInstances","isIconSDF","symbols","Float32Array","isIconDataDriven","isTextDataDriven","set","p","dxPixels","dyPixels","hard","partIndex","width","height","minLod","maxLod","size","forEach","iconVertexArrayObject","iconVertexBuffer","iconOpacityBuffer","iconIndexBuffer","textVertexArrayObject","textVertexBuffer","textOpacityBuffer","textIndexBuffer","setSubData","vertexAttributesDD","vertexAttributes","opacity","circleIndexStart","circleIndexCount","circleVertexArrayObject","circleVertexBuffer","circleIndexBuffer","circleVertexAttributes","y","_referenced","_hasSymbolBuckets","_memoryUsedByLayerData","layerCount","status","isCoverage","neededForCoverage","decluttered","invalidating","parentTile","childrenTiles","Set","_processed","styleRepository","id","transforms","tileUnitsToPixels","performance","now","changeDataImpl","requestRender","ready","has","delete","destroy","emit","_destroyRenderBuckets","stage","_createRenderBuckets","context","trashDisplayObject","processDetach","untrashDisplayObject","resolution","pixelRatio","coordRange","toScreen","coords","PI","rotation","_deserializeBucket","add","clear","_width","_height","_free","w","x","splice","release","_dirties","_glyphData","_currentPage","_glyphIndex","_textures","_rangePromises","_glyphSource","_binPack","Uint8Array","getRange","sdf","rect","metrics","page","code","getGlyph","allocate","isEmpty","bitmap","g","tileIDs","pixelFormat","dataType","setSamplingMode","setData","bindTexture","_metrics","_bitmaps","next","tag","getMessage","getUInt32","getBytes","getSInt32","skip","left","top","advance","_ranges","_glyphInfo","_baseURL","_getFontStack","replace","responseType","addRange","DataView","getMetrics","getBitmap","_size","_mosaicsData","_maxItemSize","_pageWidth","_pageHeight","_mosaicRects","console","error","devicePixelRatio","_sprites","loadStatus","getSpriteInfo","_allocateImage","_","_copy","simplePattern","spriteNames","getSpriteItem","tl","br","wrapMode","image","_copyBits","fillStyle","fillRect","strokeStyle","strokeRect","cellSize","fillText","window","COLLISION_XRAY","enabled","xScreen","yScreen","m","dxScreen","dyScreen","globalAlpha","R","v","S","_vectorTileLayer","_styleRepository","_memCache","_spriteMosaic","_glyphMosaic","_connection","_ongoingTileRequests","_ongoingRequestToController","abortAll","close","_spriteSourcePromise","sourceNameToSource","_fetchTileMap","loadSpriteSource","T","setSpriteSource","glyphs","_broadcastPromise","client","scheduler","signal","broadcast","style","currentStyleInfo","vectorTileLayerMaxBuffers","reference","_getVectorTileData","tileInfo","getTileBounds","tileData","getMemoryUsage","put","key","referenced","updateSize","_getRefKeys","_getSourcesData","sourceName2DataAndRefKey","transferList","Object","keys","getAvailableClient","invoke","styleLayerUIDs","refKey","refKeys","abort","getSpriteItems","getGlyphItems","font","codePoints","PERFORMANCE_RECORDING_STORAGE","perf","start","time","samples","unit","M","milliseconds","pool","acquire","getSourceTileUrl","protobuff","sourceName","capabilities","operations","supportsTileMap","tileIndex","tileMapURL","getRefKey","value","_getTilePayload","AbortController","_getParsedVectorTileData","fetchTileData","parseTileData","_tiles","_tileCache","_viewSize","_visibleTiles","acquireTile","releaseTile","tileInfoView","_container","_updateCacheSize","getTileCoverage","state","spans","lodInfo","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","processed","_addToContainer","_findPlaceholdersForMissingTiles","isHoldingForFade","intersects","isFading","_releaseTile","_addPlaceholderChild","reduce","abs","_addPlaceholderParent","hasData","_getTile","_removeFromContainer","contains","_canConnectDirectly","addChild","removeChild","maxSize","split","parseInt","iconRotationAlignment","textRotationAlignment","iconTranslate","iconTranslateAnchor","textTranslate","textTranslateAnchor","_symbols","_zoom","_currentLayerCursor","_currentSymbolCursor","_styleProps","_allNeededMatrices","_gridIndex","_si","sin","_co","cos","getCellSpan","_getProperties","styleLayerUID","iconAllowOverlap","iconIgnorePlacement","textAllowOverlap","textIgnorePlacement","getStyleLayerByUID","getLayoutValue","getPaintValue","_symbolRepository","_createCollisionJob","_assignTileSymbolsOpacity","_symbolLayerSorter","_isLayerVisible","_selectionJob","_selectionJobCompleted","_collisionJob","_collisionJobCompleted","_opacityJob","_opacityJobCompleted","_running","_screenWidth","_screenHeight","restart","_createSelectionJob","work","sortedSymbols","_createOpacityJob","uniqueSymbols","sort","tileCoordRange","_createUnique","_uniqueSymbolsReferences","_uniqueSymbolLayerArray","_createUniqueSymbolLayerArray","_removeSymbols","flat","getCell","_addSymbols","equals","_matchSymbols","symbol","xTransformed","yTransformed","_tileToHandle","_viewState","scale","center","_declutterViewState","_completed","_symbolDeclutterer","z","getLayoutProperty","getValue","on","restartDeclutter","removeTile","remove","_continueDeclutter","_notifyUnstable","_declutterZoom","deleteStyleLayers","stale","running","setScreenSize","continue","_scheduleNotifyStable","_stableNotificationHandle","clearTimeout","setTimeout","minzoom","maxzoom","_backgroundTiles","_pointToCallbacks","_fading","children","removeAllChildren","_symbolFader","promise","renderPass","styleLayer","glyphMosaic","spriteMosaic","hasClipping","_clippingInfos","visible","drawPhase","MAP","DEBUG","addTile","_doRender","getBoundFramebufferObject","HITTEST","painter","effects","hittest","bind","draw","bindFramebuffer","filter","layers","backgroundBucketIds","_renderBackgroundLayers","triangleCount","setStencilWriteMask","setColorMask","setStencilOp","setStencilTestEnabled","setBlendingEnabled","setDepthTestEnabled","setDepthWriteEnabled","setDepthFunction","setClearDepth","gl","DEPTH_BUFFER_BIT","_renderStyleLayer","setBlendFunctionSeparate","bindVAO","_fade","displayLevel","COLLISION_DEBUG_CTX","clearRect","canvas","COLLISION_SHOW_GRID","update","uid","renderObjects","getLayerById","_tileInfoView","b","_renderPasses","brushes","prepareState","drawMany","C","F","bounds","setTransform","getTileResolution","setStencilFunction","arguments","_fullCacheLodInfos","_levelByScale","_initializeFullCacheLODs","_lodInfos","map","spatialReference","create","lods","H","getLogger","_styleChanges","_handles","_fetchQueue","_parseQueue","_isTileHandlerReady","fading","layer","view","spriteUrl","glyphsUrl","Q","fullExtent","_vectorTileContainer","_tileHandler","container","handles","requestUpdate","addResolvingPromise","_stop","suspended","_tileHandlerPromise","hitTest","getStyleLayerIndex","attributes","layerId","layerName","layerUID","sourceLayer","_start","_applyStyleChanges","pause","_tileManager","resume","isDataDriven","notifyChange","setPaintProperties","paint","layout","diff","oldValue","newValue","added","changed","removed","setLayoutProperties","setStyleLayerVisibility","visibility","_loadStyle","removeAll","layerDefinition","minScale","maxScale","updating","_createVectorTile","once","process","_getTileData","concurrency","_parseTileData","setStyleResources","_tileHandlerAbortController","clearCache","updateStyle","message","deleteStyleLayer","setStyleLayer","deleteLayerData","setStyle","aborted","prototype","dependsOn","U","items","declaredClass","isArray","indexOf","concat","_namespace","_storage","_removeFunc","_hit","_miss","register","registerRemoveFunc","slice","deregisterRemoveFunc","deregister","clearAll","getStats","resetStats","_maxSize","_db","_removeFuncs","_users","removeUnordered","_checkSizeLimit","entry","_notifyRemoved","warn","lifetime","lives","Size","round","_getHitRate","Entries","toString","forAll","namespace","startsWith","isNaN","hitRate","resetHitRate","parent","when","title","canResume","getSuspendInfo","legendEnabled","updatingHandles","isUpdating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","readOnly","Boolean","right","bottom","_get","Number","String","json","write","base","typeMap","extent","polygon","clone","types","read","path","ofType","clips","moving","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","blendMode","effect","whenLayerView","destroyed","attach","detach","isFulfilled","isResolved","_set","isVisibleAtScale","triangleCountReportedInDebug","dvs","tileMat3","texture","_coords","_bounds","toScreenNoRotation","displayViewMat3","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","scaleToZoom","registerRenderPass","HIGHLIGHT","target","getStencilTarget","stencilRef","location","_allAvailability","byteSize","_tileAvailabilityBitSet","service","request","query","url","tileServers","details","httpStatus","valid","response","definition","fromJSON","validateJSON","freeze","_updateFromData","A","L","_pendingTilemapRequests","_availableLevels","levels","cacheByteSize","_prefetchingEnabled","watch","_initializeTilemapDefinition","_initializeAvailableLevels","_tmpTilemapDefinition","_tilemapFromCache","j","fromDefinition","getAvailability","updateTileInfo","upsampleTile","fetchTilemap","fetchAvailability","_fetchAvailabilityUpsamplePrefetch","_prefetches","_maxPrefetch","parsedUrl","hasTilemap","initialSize","constructOnly"],"mappings":"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","file":"static/js/68.1e458244.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isAbortError as e,resolve as t}from\"../../../../core/promiseUtils.js\";import{TilemapCache as l}from\"../../../../layers/support/TilemapCache.js\";import i from\"../../tiling/TileKey.js\";export default class{constructor(e){if(e instanceof l)this._tilemapCache=e;else{if(!e||!(\"index\"in e))throw new Error(\"Invalid tilemap!\");this._tilemap=e.index}}dataKey(t,l){if(this._tilemapCache){const{level:r,row:o,col:a}=t,h=new i(t);return this._tilemapCache.fetchAvailabilityUpsample(r,o,a,h,l).then((()=>(h.world=t.world,h))).catch((t=>{if(e(t))throw t;return null}))}return this._getIndexedDataKey(t)}forEach(e,t,l,i,r){this._callback=r,this._maxLevel=t+e,this._forEach(this._tilemap,t,l,i)}_forEach(e,t,l,i){0!==e&&(this._callback(t,l,i),t!==this._maxLevel&&\"object\"==typeof e&&(this._forEach(e[0],t+1,2*l,2*i),this._forEach(e[1],t+1,2*l,2*i+1),this._forEach(e[2],t+1,2*l+1,2*i),this._forEach(e[3],t+1,2*l+1,2*i+1)))}_getIndexedDataKey(e){const l=[e];if(e.level<0||e.row<0||e.col<0||e.row>>e.level>0||e.col>>e.level>0)return t(null);let r=e;for(;0!==r.level;)r=new i(r.level-1,r.row>>1,r.col>>1,r.world),l.push(r);let o,a,h=this._tilemap,s=l.pop();if(1===h)return t(s);for(;l.length;)if(o=l.pop(),a=(1&o.col)+((1&o.row)<<1),h){if(0===h[a]){s=null;break}if(1===h[a]){s=o;break}s=o,h=h[a]}return t(s)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=t}}class s{constructor(){this.tileSymbols=[],this.parts=[{startTime:0,startOpacity:0,targetOpacity:0,show:!1},{startTime:0,startOpacity:0,targetOpacity:0,show:!1}],this.show=!1}}export{t as VTLSymbol,s as VTLUniqueSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{VTLSymbol as e}from\"./core.js\";class r{constructor(t){this.tile=t,this.parent=null,this.children=new Set}}class s{constructor(){this.nodes=new Map,this.roots=new Set}create(t){const e=new r(t);let s;const i=[];if(this.nodes.forEach((t=>{this._canConnectDirectly(e,t)&&i.push(t),!s&&this._canConnectDirectly(t,e)&&(s=t)})),s){for(const t of i)s.children.delete(t),e.children.add(t),t.parent=e;s.children.add(e),e.parent=s}else{this.roots.add(e);for(const t of i)e.children.add(t),t.parent=e,this.roots.delete(t)}return this.nodes.set(t.key.id,e),e}destroy(e){t(e.parent)?(e.parent.children.delete(e),e.children.forEach((r=>{t(e.parent)&&e.parent.children.add(r)}))):this.roots.delete(e),e.children.forEach((t=>{t.parent=e.parent,e.parent||this.roots.add(t)})),this.nodes.delete(e.tile.key.id)}clear(){this.roots.clear(),this.nodes.clear()}_canConnectDirectly(t,e){let{level:r,row:s,col:i}=e.tile.key;const{world:l}=e.tile.key;for(;r>0;){if(r--,s>>=1,i>>=1,t.tile.key.level===r&&t.tile.key.row===s&&t.tile.key.col===i&&t.tile.key.world===l)return!0;if(this.nodes.has(`${r}/${s}/${i}/${l}`))return!1}return!1}}class i{constructor(){this._tileGraph=new s,this._tileArray=null}has(t){return\"string\"==typeof t?this._tileGraph.nodes.has(t):this._tileGraph.nodes.has(t.key.id)}getAll(){return this._tileArray||(this._tileArray=[],this._tileGraph.nodes.forEach((t=>{this._tileArray.push(t.tile)}))),this._tileArray}getRoots(){const t=[];return this._tileGraph.roots.forEach((e=>{t.push(e.tile)})),t}getParent(e){const r=this._tileGraph.nodes.get(\"string\"==typeof e?e:e.key.id);return t(r.parent)&&r.parent.tile}getChildren(t){const e=[];return this._tileGraph.nodes.get(\"string\"==typeof t?t:t.key.id).children.forEach((t=>{e.push(t.tile)})),e}get(t){return this._tileGraph.nodes.get(t).tile}removeKey(t){const e=this._tileGraph.nodes.get(t);this._tileGraph.destroy(e),this._tileArray=null}forEach(t){this._tileGraph.nodes.forEach(((e,r)=>t(e.tile,r)))}add(t){this._tileGraph.create(t),this._tileArray=null}remove(t){const e=this._tileGraph.nodes.get(t.key.id);this._tileGraph.destroy(e),this._tileArray=null}clear(){this._tileGraph.clear(),this._tileArray=[]}}function l(t,e,r,s,i,l){const o=r-i;if(o>=0)return(e>>o)+(s-(l<<o))*(t>>o);const n=-o;return e-(l-(s<<n))*(t>>n)<<n}class o{constructor(t,e,r){this._rows=Math.ceil(e/r),this._columns=Math.ceil(t/r),this._cellSize=r,this.cells=new Array(this._rows);for(let t=0;t<this._rows;t++){this.cells[t]=new Array(this._columns);for(let e=0;e<this._columns;e++)this.cells[t][e]=[]}}getCell(t,e){const r=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._rows-1),s=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._columns-1);return this.cells[r]&&this.cells[r][s]||null}getCellSpan(t,e,r,s){return[Math.min(Math.max(Math.floor(t/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(e/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(r/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(s/this._cellSize),0),this.rows-1)]}get cellSize(){return this._cellSize}get columns(){return this._columns}get rows(){return this._rows}}function n(t,r,s,i,l,o){const n=r[i++];for(let h=0;h<n;h++){const n=new e(o);n.xTile=r[i++],n.yTile=r[i++],n.hash=r[i++],n.priority=r[i++];const h=r[i++];for(let t=0;t<h;t++){const t=r[i++],e=r[i++],l=r[i++],o=r[i++],h=!!r[i++],a=r[i++],c=s[i++],d=s[i++],p=r[i++],u=r[i++];n.colliders.push({xTile:t,yTile:e,dxPixels:l,dyPixels:o,hard:h,partIndex:a,width:p,height:u,minLod:c,maxLod:d})}const a=t[i++];for(let e=0;e<a;e++)n.textVertexRanges.push([t[i++],t[i++]]);const c=t[i++];for(let e=0;e<c;e++)n.iconVertexRanges.push([t[i++],t[i++]]);l.push(n)}return i}function h(t,e,r){for(const[s,i]of t.symbols)a(t,e,r,i,s)}function a(t,e,r,s,i){const l=t.layerData.get(i);if(3===l.type){for(const e of s){const s=e.unique;let i;if(e.selectedForRendering){const e=s.parts[0],l=e.startOpacity,o=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===o;const n=r?Math.floor(127*l)|o<<7:o?255:0;i=n<<24|n<<16|n<<8|n}else i=0;for(const[t,r]of e.iconVertexRanges)for(let e=t;e<t+r;e+=4)l.iconOpacity[e/4]=i;if(e.selectedForRendering){const e=s.parts[1],l=e.startOpacity,o=e.targetOpacity;t.allSymbolsFadingOut=t.allSymbolsFadingOut&&0===o;const n=r?Math.floor(127*l)|o<<7:o?255:0;i=n<<24|n<<16|n<<8|n}else i=0;for(const[t,r]of e.textVertexRanges)for(let e=t;e<t+r;e+=4)l.textOpacity[e/4]=i}l.lastOpacityUpdate=e,l.opacityChanged=!0}}export{o as GridIndex,i as TileForest,s as TileGraph,r as TileNode,n as deserializeSymbols,l as tileCoordChange,h as writeOpacityToBuffers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isNone as e,isSome as t,unwrap as r}from\"../../../../core/maybe.js\";import\"../../../../core/mathUtils.js\";import\"../../../../chunks/builtins.js\";import i from\"../../../webgl/BufferObject.js\";import s from\"../../../webgl/VertexArrayObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{deserializeSymbols as n}from\"./decluttering/util.js\";class o{constructor(e){this.layerUIDs=[],this.isDestroyed=!1,this.data=e,this.memoryUsed=e.byteLength;let t=1;const r=new Uint32Array(e);this.layerUIDs=[];const i=r[t++];for(let e=0;e<i;e++)this.layerUIDs[e]=r[t++];this.bufferDataOffset=t}get isPreparedForRendering(){return e(this.data)}get offset(){return this.bufferDataOffset}destroy(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}prepareForRendering(t,r){e(this.data)||(this.doPrepareForRendering(t,r,this.data,this.bufferDataOffset),this.data=null)}}class f extends o{constructor(e){super(e),this.type=2,this.lineIndexStart=0,this.lineIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.lineIndexStart=r[t++],this.lineIndexCount=r[t++],this.isLineDataDriven=!!r[t++],this.bufferDataOffset=t}hasData(){return this.lineIndexCount>0}triangleCount(){return this.lineIndexCount/3}doDestroy(){t(this.lineVertexArrayObject)&&this.lineVertexArrayObject.dispose(),t(this.lineVertexBuffer)&&this.lineVertexBuffer.dispose(),t(this.lineIndexBuffer)&&this.lineIndexBuffer.dispose(),this.lineVertexArrayObject=null,this.lineVertexBuffer=null,this.lineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),a=new Int32Array(o.buffer),l=o[n++];this.lineVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*n,l)),n+=l;const u=o[n++];this.lineIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,u)),n+=u,this.lineVertexArrayObject=new s(e,t.getProgramAttributes(3),this.isLineDataDriven?f.lineVertexAttributesDD:f.lineVertexAttributes,{geometry:this.lineVertexBuffer},this.lineIndexBuffer)}}f.lineVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:\"a_offsetAndNormal\",count:4,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:\"a_accumulatedDistance\",count:2,type:5123,offset:8,stride:12,normalized:!1,divisor:0}]},f.lineVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:\"a_offsetAndNormal\",count:4,type:5120,offset:4,stride:20,normalized:!1,divisor:0},{name:\"a_accumulatedDistance\",count:2,type:5122,offset:8,stride:20,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:12,stride:20,normalized:!0,divisor:0},{name:\"a_width\",count:1,type:5126,offset:16,stride:20,normalized:!1,divisor:0}]};class a extends o{constructor(e){super(e),this.type=1,this.fillIndexStart=0,this.fillIndexCount=0,this.outlineIndexStart=0,this.outlineIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.fillIndexStart=r[t++],this.fillIndexCount=r[t++],this.outlineIndexStart=r[t++],this.outlineIndexCount=r[t++],this.isFillDataDriven=!!r[t++],this.isOutlineDataDriven=!!r[t++],this.bufferDataOffset=t}hasData(){return this.fillIndexCount>0||this.outlineIndexCount>0}triangleCount(){return(this.fillIndexCount+this.outlineIndexCount)/3}doDestroy(){t(this.fillVertexArrayObject)&&this.fillVertexArrayObject.dispose(),t(this.fillVertexBuffer)&&this.fillVertexBuffer.dispose(),t(this.fillIndexBuffer)&&this.fillIndexBuffer.dispose(),this.fillVertexArrayObject=null,this.fillVertexBuffer=null,this.fillIndexBuffer=null,t(this.outlineVertexArrayObject)&&this.outlineVertexArrayObject.dispose(),t(this.outlineVertexBuffer)&&this.outlineVertexBuffer.dispose(),t(this.outlineIndexBuffer)&&this.outlineIndexBuffer.dispose(),this.outlineVertexArrayObject=null,this.outlineVertexBuffer=null,this.outlineIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),f=new Int32Array(o.buffer),l=o[n++];this.fillVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,l)),n+=l;const u=o[n++];this.fillIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,u)),n+=u;const c=o[n++];this.outlineVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,c)),n+=c;const d=o[n++];this.outlineIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,d)),n+=d,this.fillVertexArrayObject=new s(e,t.getProgramAttributes(1),this.isFillDataDriven?a.fillVertexAttributesDD:a.fillVertexAttributes,{geometry:this.fillVertexBuffer},this.fillIndexBuffer),this.outlineVertexArrayObject=new s(e,t.getProgramAttributes(2),this.isOutlineDataDriven?a.outlineVertexAttributesDD:a.outlineVertexAttributes,{geometry:this.outlineVertexBuffer},this.outlineIndexBuffer)}}a.fillVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}]},a.fillVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:4,stride:8,normalized:!0,divisor:0}]},a.outlineVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:\"a_offset\",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:\"a_xnormal\",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}]},a.outlineVertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:12,normalized:!1,divisor:0},{name:\"a_offset\",count:2,type:5120,offset:4,stride:12,normalized:!1,divisor:0},{name:\"a_xnormal\",count:2,type:5120,offset:6,stride:12,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:8,stride:12,normalized:!0,divisor:0}]};class l extends o{constructor(e,t){super(e),this.type=3,this.iconPerPageElementsMap=new Map,this.glyphPerPageElementsMap=new Map,this.symbolInstances=[],this.isIconSDF=!1,this.opacityChanged=!1,this.lastOpacityUpdate=0,this.symbols=[];let r=this.bufferDataOffset;const i=new Uint32Array(e),s=new Int32Array(e),o=new Float32Array(e);this.isIconSDF=!!i[r++],this.isIconDataDriven=!!i[r++],this.isTextDataDriven=!!i[r++];const f=i[r++];for(let e=0;e<f;e++){const e=i[r++],t=i[r++],s=i[r++];this.iconPerPageElementsMap.set(e,[t,s])}const a=i[r++];for(let e=0;e<a;e++){const e=i[r++],t=i[r++],s=i[r++];this.glyphPerPageElementsMap.set(e,[t,s])}const l=i[r++],u=i[r++];this.iconOpacity=new Int32Array(l),this.textOpacity=new Int32Array(u),r=n(i,s,o,r,this.symbols,t),this.bufferDataOffset=r}hasData(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}triangleCount(){let e=0;return this.iconPerPageElementsMap.forEach((t=>{e+=t[1]})),this.glyphPerPageElementsMap.forEach((t=>{e+=t[1]})),e/3}doDestroy(){t(this.iconVertexArrayObject)&&this.iconVertexArrayObject.dispose(),t(this.iconVertexBuffer)&&this.iconVertexBuffer.dispose(),t(this.iconOpacityBuffer)&&this.iconOpacityBuffer.dispose(),t(this.iconIndexBuffer)&&this.iconIndexBuffer.dispose(),this.iconVertexArrayObject=null,this.iconVertexBuffer=null,this.iconOpacityBuffer=null,this.iconIndexBuffer=null,t(this.textVertexArrayObject)&&this.textVertexArrayObject.dispose(),t(this.textVertexBuffer)&&this.textVertexBuffer.dispose(),t(this.textOpacityBuffer)&&this.textOpacityBuffer.dispose(),t(this.textIndexBuffer)&&this.textIndexBuffer.dispose(),this.textVertexArrayObject=null,this.textVertexBuffer=null,this.textOpacityBuffer=null,this.textIndexBuffer=null,this.memoryUsed=0}updateOpacityInfo(){if(!this.opacityChanged)return;this.opacityChanged=!1;const e=r(this.iconOpacity),t=r(this.iconOpacityBuffer);e.length>0&&e.byteLength===t.size&&t.setSubData(e);const i=r(this.textOpacity),s=r(this.textOpacityBuffer);i.length>0&&i.byteLength===s.size&&s.setSubData(i)}doPrepareForRendering(e,t,n,o){const f=new Uint32Array(n),a=new Int32Array(f.buffer),u=f[o++];this.iconVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*o,u)),o+=u;const c=f[o++];this.iconIndexBuffer=i.createIndex(e,35044,new Uint32Array(f.buffer,4*o,c)),o+=c;const d=f[o++];this.textVertexBuffer=i.createVertex(e,35044,new Int32Array(a.buffer,4*o,d)),o+=d;const h=f[o++];this.textIndexBuffer=i.createIndex(e,35044,new Uint32Array(f.buffer,4*o,h)),o+=h,this.iconOpacityBuffer=i.createVertex(e,35044,r(this.iconOpacity).buffer),this.textOpacityBuffer=i.createVertex(e,35044,r(this.textOpacity).buffer),this.iconVertexArrayObject=new s(e,t.getProgramAttributes(4),this.isIconDataDriven?l.vertexAttributesDD:l.vertexAttributes,{geometry:this.iconVertexBuffer,opacity:this.iconOpacityBuffer},this.iconIndexBuffer),this.textVertexArrayObject=new s(e,t.getProgramAttributes(6),this.isTextDataDriven?l.vertexAttributesDD:l.vertexAttributes,{geometry:this.textVertexBuffer,opacity:this.textOpacityBuffer},this.textIndexBuffer)}}l.vertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:\"a_vertexOffset\",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:\"a_texAngleRange\",count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:\"a_levelInfo\",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],opacity:[{name:\"a_opacityInfo\",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]},l.vertexAttributesDD={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:\"a_vertexOffset\",count:2,type:5122,offset:4,stride:24,normalized:!1,divisor:0},{name:\"a_texAngleRange\",count:4,type:5121,offset:8,stride:24,normalized:!1,divisor:0},{name:\"a_levelInfo\",count:4,type:5121,offset:12,stride:24,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:16,stride:24,normalized:!0,divisor:0},{name:\"a_size\",count:1,type:5126,offset:20,stride:24,normalized:!1,divisor:0}],opacity:[{name:\"a_opacityInfo\",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}]};class u extends o{constructor(e){super(e),this.type=4,this.circleIndexStart=0,this.circleIndexCount=0;let t=this.bufferDataOffset;const r=new Uint32Array(e);this.circleIndexStart=r[t++],this.circleIndexCount=r[t++],this.bufferDataOffset=t}hasData(){return this.circleIndexCount>0}triangleCount(){return this.circleIndexCount/3}doDestroy(){t(this.circleVertexArrayObject)&&this.circleVertexArrayObject.dispose(),t(this.circleVertexBuffer)&&this.circleVertexBuffer.dispose(),t(this.circleIndexBuffer)&&this.circleIndexBuffer.dispose(),this.circleVertexArrayObject=null,this.circleVertexBuffer=null,this.circleIndexBuffer=null,this.memoryUsed=0}doPrepareForRendering(e,t,r,n){const o=new Uint32Array(r),f=new Int32Array(o.buffer),a=o[n++];this.circleVertexBuffer=i.createVertex(e,35044,new Int32Array(f.buffer,4*n,a)),n+=a;const l=o[n++];this.circleIndexBuffer=i.createIndex(e,35044,new Uint32Array(o.buffer,4*n,l)),n+=l,this.circleVertexArrayObject=new s(e,t.getProgramAttributes(5),u.circleVertexAttributes,{geometry:this.circleVertexBuffer},this.circleIndexBuffer)}}u.circleVertexAttributes={geometry:[{name:\"a_pos\",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:\"a_color\",count:4,type:5121,offset:4,stride:16,normalized:!0,divisor:0},{name:\"a_stroke_color\",count:4,type:5121,offset:8,stride:16,normalized:!0,divisor:0},{name:\"a_data\",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}]};export{u as CircleRenderBucket,a as FillRenderBucket,f as LineRenderBucket,o as RenderBucketBase,l as SymbolRenderBucket};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{i as e,a as t,r as s,c as a}from\"../../../../chunks/mat3.js\";import{c as r}from\"../../../../chunks/mat3f32.js\";import{FADE_DURATION as i}from\"./decluttering/config.js\";import{CircleRenderBucket as o,SymbolRenderBucket as h,LineRenderBucket as n,FillRenderBucket as l}from\"./RenderBucket.js\";import{TiledDisplayObject as c}from\"../webgl/TiledDisplayObject.js\";class y extends c{constructor(e,t,s,a){super(e,s,a,[4096,4096]),this._referenced=0,this._hasSymbolBuckets=!1,this._memoryUsedByLayerData=0,this.layerData=new Map,this.layerCount=0,this.status=\"loading\",this.allSymbolsFadingOut=!1,this.lastOpacityUpdate=0,this.symbols=new Map,this.isCoverage=!1,this.neededForCoverage=!1,this.decluttered=!1,this.invalidating=!1,this.parentTile=null,this.childrenTiles=new Set,this._processed=!1,this._referenced=1,this.styleRepository=t,this.id=e.id,this.transforms.tileUnitsToPixels=r()}get hasSymbolBuckets(){return this._hasSymbolBuckets}get isFading(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<i}get isHoldingForFade(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<i)}get wasRequested(){return\"errored\"===this.status||\"loaded\"===this.status||\"reloading\"===this.status}setData(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}deleteLayerData(e){let t=!1;for(const s of e)if(this.layerData.has(s)){const e=this.layerData.get(s);this._memoryUsedByLayerData-=e.memoryUsed,3===e.type&&this.symbols.has(s)&&(this.symbols.delete(s),t=!0),e.destroy(),this.layerData.delete(s),this.layerCount--}t&&this.emit(\"symbols-changed\"),this.requestRender()}processed(){return this._processed}hasData(){return this.layerCount>0}dispose(){y._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy()}release(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}reference(){++this._referenced}get referenced(){return this._referenced}getMemoryUsage(){return this._memoryUsedByLayerData/(this._referenced||1)}changeDataImpl(e){let t=!1;if(e){const s=this._createRenderBuckets(e);for(const[e,a]of s){if(this.layerData.has(e)){const t=this.layerData.get(e);this._memoryUsedByLayerData-=a.memoryUsed,t.destroy(),this.layerData.delete(e),this.layerCount--}3===a.type&&(this.symbols.set(e,a.symbols),t=!0),this._memoryUsedByLayerData+=a.memoryUsed,this.layerData.set(e,a),this.layerCount++}}this._hasSymbolBuckets=!1;for(const[e,t]of this.layerData)3===t.type&&(this._hasSymbolBuckets=!0);t&&this.emit(\"symbols-changed\")}attachWithContext(e){this.stage={context:e,trashDisplayObject(e){e.processDetach()},untrashDisplayObject:()=>!1}}setTransform(r,i){super.setTransform(r,i);const o=i/(r.resolution*r.pixelRatio),h=this.size[0]/this.coordRange[0]*o,n=this.size[1]/this.coordRange[1]*o,l=[0,0];r.toScreen(l,this.coords);const c=this.transforms.tileUnitsToPixels;e(c),t(c,c,l),s(c,c,Math.PI*r.rotation/180),a(c,c,[h,n,1])}static _destroyRenderBuckets(e){const t=new Set;e.forEach((e=>{t.has(e)||(e.destroy(),t.add(e))})),e.clear()}_createRenderBuckets(e){const t=new Map,s=new Map;for(const a of e){const e=this._deserializeBucket(a,s);for(const s of e.layerUIDs)t.set(s,e)}return t}_deserializeBucket(e,t){let s=t.get(e);if(s)return s;switch(new Uint32Array(e)[0]){case 1:s=new l(e);break;case 2:s=new n(e);break;case 3:s=new h(e,this);break;case 4:s=new o(e)}return t.set(e,s),s}}export{y as VectorTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport h from\"../webgl/Rect.js\";export default class{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new h(0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new h;let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new h:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new h(i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new h(i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new h(i.x,i.y+t,e,i.height-t))),new h(i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{all as t}from\"../../../../core/promiseUtils.js\";import\"../../../../chunks/builtins.js\";import e from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import i from\"../webgl/Rect.js\";import s from\"./RectangleBinPack.js\";export default class{constructor(t,e,i){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=t,this.height=e,this._glyphSource=i,this._binPack=new s(t-4,e-4),this._glyphData.push(new Uint8Array(t*e)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(e,h){const r=[],n=this._glyphSource,o=new Set;for(const t of h){const e=Math.floor(.00390625*t);o.add(e)}const a=[];return o.forEach((t=>{if(t<=256){const i=e+t;if(this._rangePromises.has(i))a.push(this._rangePromises.get(i));else{const s=n.getRange(e,t).then((()=>{this._rangePromises.delete(i)}),(()=>{this._rangePromises.delete(i)}));this._rangePromises.set(i,s),a.push(s)}}})),t(a).then((()=>{let t,o=this._glyphIndex[e];o||(o={},this._glyphIndex[e]=o),t=h;for(const h of t){const t=o[h];if(t){r[h]={sdf:!0,rect:t.rect,metrics:t.metrics,page:t.page,code:h};continue}const a=n.getGlyph(e,h);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new i(0,0,0,0);else{const t=3,e=c.width+2*t,i=c.height+2*t;let h=e%4?4-e%4:4,r=i%4?4-i%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(e+h,i+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new s(this.width-4,this.height-4),l=this._binPack.allocate(e+h,i+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,p;if(o)for(let t=0;t<i;t++){g=e*t,p=this.width*(l.y+t+1)+l.x;for(let t=0;t<e;t++)n[p+t+1]=o[g+t]}}o[h]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},r[h]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:h},this._dirties[this._currentPage]=!0}return r}))}removeGlyphs(t){for(const e in this._glyphIndex){const i=this._glyphIndex[e];if(!i)continue;let s;for(const e in i)if(s=i[e],s.tileIDs.delete(t),0===s.tileIDs.size){const t=this._glyphData[s.page],h=s.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete i[e],this._dirties[s.page]=!0}}}bind(t,i,s,h=0){this._textures[s]||(this._textures[s]=new e(t,{pixelFormat:6406,dataType:5121,width:this.width,height:this.height},new Uint8Array(this.width*this.height)));const r=this._textures[s];r.setSamplingMode(i),this._dirties[s]&&r.setData(this._glyphData[s]),t.bindTexture(r,h),this._dirties[s]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{resolve as t}from\"../../../../core/promiseUtils.js\";import e from\"../../../../request.js\";import s from\"../../../../core/pbf.js\";class a{constructor(t){if(this._metrics=[],this._bitmaps=[],t)for(;t.next();)switch(t.tag()){case 1:{const e=t.getMessage();for(;e.next();)switch(e.tag()){case 3:{const t=e.getMessage();let s,a,r,n,i,c,g;for(;t.next();)switch(t.tag()){case 1:s=t.getUInt32();break;case 2:a=t.getBytes();break;case 3:r=t.getUInt32();break;case 4:n=t.getUInt32();break;case 5:i=t.getSInt32();break;case 6:c=t.getSInt32();break;case 7:g=t.getUInt32();break;default:t.skip()}t.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:e.skip()}e.release();break}default:t.skip()}}getMetrics(t){return this._metrics[t]}getBitmap(t){return this._bitmaps[t]}}class r{constructor(){this._ranges=[]}getRange(t){return this._ranges[t]}addRange(t,e){this._ranges[t]=e}}export default class{constructor(t){this._glyphInfo={},this._baseURL=t}getRange(r,n){const i=this._getFontStack(r);if(i.getRange(n))return t();const c=256*n,g=c+255,o=this._baseURL.replace(\"{fontstack}\",r).replace(\"{range}\",c+\"-\"+g);return e(o,{responseType:\"array-buffer\"}).then((t=>{i.addRange(n,new a(new s(new Uint8Array(t.data),new DataView(t.data))))})).catch((()=>{i.addRange(n,new a)}))}getGlyph(t,e){const s=this._getFontStack(t);if(!s)return;const a=Math.floor(e/256);if(a>256)return;const r=s.getRange(a);return r?{metrics:r.getMetrics(e),bitmap:r.getBitmap(e)}:void 0}_getFontStack(t){let e=this._glyphInfo[t];return e||(e=this._glyphInfo[t]=new r),e}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../chunks/builtins.js\";import t from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import i from\"../webgl/Rect.js\";import e from\"./RectangleBinPack.js\";class s{constructor(t,i,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||i<=0)&&console.error(\"Sprites mosaic defaultWidth and defaultHeight must be greater than zero!\"),this._pageWidth=t,this._pageHeight=i,s>0&&(this._maxItemSize=s),this._binPack=new e(t-4,i-4)}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new e(this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),i=Math.floor(this._pageHeight),s=new Uint32Array(t*i);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e=this._mosaicRects[t];if(e)return e;if(!this._sprites||\"loaded\"!==this._sprites.loadStatus)return null;const s=this._sprites.getSpriteInfo(t);if(!s||!s.width||!s.height||s.width<0||s.height<0)return null;const h=s.width,a=s.height,[r,o,_]=this._allocateImage(h,a);return r.width<=0?null:(this._copy(r,s,o,_,i),e={rect:r,width:h,height:a,sdf:s.sdf,simplePattern:!1,pixelRatio:s.pixelRatio,page:o},this._mosaicRects[t]=e,e)}preloadSpriteItems(){for(const t of this._sprites.spriteNames)this.getSpriteItem(t,!0)}getSpriteItems(t){const i={};for(const e of t)i[e]=this.getSpriteItem(e);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,a=e.height,r=this._size[e.page];return{size:[e.width,e.height],tl:[(s.x+2)/r[0],(s.y+2)/r[1]],br:[(s.x+2+h)/r[0],(s.y+2+a)/r[1]],page:e.page}}bind(i,e,s=0,h=0){this._textures[s]||(this._textures[s]=new t(i,{pixelFormat:6408,dataType:5121,wrapMode:33071,width:this._size[s][0],height:this._size[s][1]},new Uint8Array(this._mosaicsData[s].buffer)));const a=this._textures[s];a.setSamplingMode(e),this._dirties[s]&&a.setData(new Uint8Array(this._mosaicsData[s].buffer)),i.bindTexture(a,h),this._dirties[s]=!1}static _copyBits(t,i,e,s,h,a,r,o,_,n,g){let p=s*i+e,c=o*a+r;if(g){c-=a;for(let r=-1;r<=n;r++,p=((r+n)%n+s)*i+e,c+=a)for(let i=-1;i<=_;i++)h[c+i]=t[p+(i+_)%_]}else for(let e=0;e<n;e++){for(let i=0;i<_;i++)h[c+i]=t[p+i];p+=i,c+=a}}_copy(t,i,e,h,a,r){if(!this._sprites||\"loaded\"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const o=new Uint32Array(r?r.buffer:this._sprites.image.buffer),_=this._mosaicsData[e];_&&o||console.error(\"Source or target images are uninitialized!\");const n=r?i.width:this._sprites.width;s._copyBits(o,n,i.x,i.y,_,h[0],t.x+2,t.y+2,i.width,i.height,a),this._dirties[e]=!0}_allocateImage(t,s){t+=2,s+=2;const h=Math.max(t,s);if(this._maxItemSize&&this._maxItemSize<h){const e=new i(0,0,t,s);return this._mosaicsData.push(new Uint32Array(t*s)),this._dirties.push(!0),this._size.push([t,s]),this._textures.push(void 0),[e,this._mosaicsData.length-1,[t,s]]}let a=t%4?4-t%4:4,r=s%4?4-s%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,s+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new e(this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,s)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e,n,o,l,i){t.fillStyle=e,t.fillRect(n,o,l,i)}function e(t,e,n,o,l,i){t.strokeStyle=e,t.strokeRect(n,o,l,i)}function n(t,e){t.strokeStyle=\"black\";const n=e.cellSize,o=e.rows,l=e.columns;for(let i=0;i<o;i++){const o=e.cells[i],r=i*n,s=(i+1)*n;for(let e=0;e<l;e++){const l=o[e],i=e*n,d=(e+1)*n;t.strokeRect(i,r,d-i,s-r),t.fillText(`cells:${l.length}`,i+4,r+12)}}}function o(n,o){const l=window.COLLISION_XRAY;for(let i=0;i<o.length;++i){const r=!o[i].unique.show;if(l||!r)for(const s of o[i].colliders){if(!s.enabled)continue;const d=!o[i].unique.parts[s.partIndex].show;if(!l&&d)continue;const a=s.xScreen,c=s.yScreen,m=s.dxScreen,h=s.dyScreen;n.globalAlpha=r||d?.2:1,t(n,\"green\",a-1,c-1,3,3),e(n,\"red\",a+m,c+h,s.width,s.height),t(n,\"blue\",a+m-1,c+h-1,3,3),n.globalAlpha=1}}}function l(t,e,n){if(!window.PERFORMANCE_RECORDING_STORAGE)return;const o=window.PERFORMANCE_RECORDING_STORAGE;o.perf=o.perf||{};const l=o.perf;l[t]=l[t]||{start:null,time:0,min:void 0,max:void 0,samples:[],unit:n},l[t].time+=e,l[t].samples.push(e),(null==l[t].min||e<l[t].min)&&(l[t].min=e),(null==l[t].max||e>l[t].max)&&(l[t].max=e)}function i(){if(!window.PERFORMANCE_RECORDING_STORAGE)return;window.PERFORMANCE_RECORDING_STORAGE.perf={}}function r(t,e){return`${Math.round(10*t)/10}${e}`}function s(t){if(!window.PERFORMANCE_RECORDING_STORAGE){const t=document.createElement(\"div\");return t.innerHTML=\"No recorded data is present because performance recording is disabled.\",t}const e=document.createElement(\"div\");let n=\"\";const o=window.PERFORMANCE_RECORDING_STORAGE.perf;n+='<table style=\"border-collapse: collapse;\">',n+=`<tr style=\"text-weight: bold; border-bottom: 1px solid \"${t}\";\"><td>Name</td><td>Total</td><td>Runs</td><td>Average</td><td>Min</td><td>Distribution</td><td>Max</td><td>Histogram (50 bins)</td></tr>`;const l=[];for(const t in o)l.push({name:t,value:o[t].time/o[t].samples.length,sortkey:o[t].max});l.sort(((t,e)=>-(t.sortkey-e.sortkey)));const i=l.map((t=>t.name));for(const t of i)n+=\"<tr>\",n+=`<td>${t}</td>`,n+=`<td>${r(o[t].time,o[t].unit)}</td>`,n+=`<td>${o[t].samples.length}</td>`,n+=`<td>${r(o[t].time/o[t].samples.length,o[t].unit)}</td>`,n+=`<td style=\"text-align: right;\">${r(o[t].min,o[t].unit)}</td>`,n+=\"<td data-distribution='1'></td>\",n+=`<td>${r(o[t].max,o[t].unit)}</td>`,n+=\"<td data-histogram='1'></td>\",n+=\"</tr>\";n+=\"<table>\",e.innerHTML=n;const s=e.querySelectorAll(\"td[data-distribution='1']\"),d=e.querySelectorAll(\"td[data-histogram='1']\");for(let e=0;e<s.length;e++){let n=s[e];{const r=document.createElement(\"canvas\");r.height=10,r.width=100;const s=r.getContext(\"2d\");if(s.strokeStyle=t,s.beginPath(),s.moveTo(0,5),s.lineTo(100,5),o[i[e]].max>o[i[e]].min+.001)for(const t of o[i[e]].samples){const n=(t-o[i[e]].min)/(o[i[e]].max-o[i[e]].min);s.moveTo(100*n,3),s.lineTo(100*n,7)}s.stroke(),s.strokeRect((l[e].value-o[i[e]].min)/(o[i[e]].max-o[i[e]].min)*100-2,0,4,9),n.appendChild(r)}n=d[e];{const l=new Array(50);for(let t=0;t<l.length;t++)l[t]=0;for(const t of o[i[e]].samples){const n=(t-o[i[e]].min)/(o[i[e]].max-o[i[e]].min);l[1===n?l.length-1:Math.floor(n*l.length)]++}const r=document.createElement(\"canvas\");r.height=30,r.width=120;const s=r.getContext(\"2d\");s.strokeStyle=t,s.fillStyle=t;let d=0;for(let t=0;t<l.length;t++){const e=l[t];d=Math.max(d,e)}for(let t=0;t<l.length;t++){const e=l[t];s.fillRect(t*r.width/l.length,r.height*(1-e/d),r.width/l.length,r.height*(e/d))}s.beginPath(),s.moveTo(0,r.height),s.lineTo(r.width,r.height),s.stroke(),n.appendChild(r)}}const a=e.querySelectorAll(\"td\");for(let t=0;t<a.length;t++)a[t].style.padding=\"5px\";return e}export{o as drawColliders,n as drawGridIndex,l as perfAdd,i as perfClear,s as perfElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{isSome as t,isNone as s}from\"../../../../core/maybe.js\";import{all as i,create as r,resolve as o,throwIfAborted as a,isAbortError as n,eachAlways as l}from\"../../../../core/promiseUtils.js\";import c from\"../../../../request.js\";import{create as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{MIN_PRIORITY as u}from\"../../../../core/MemCache.js\";import p from\"../../../../core/ItemCache.js\";import{open as f}from\"../../../../core/workers/workers.js\";import _ from\"../../tiling/TileKey.js\";import y from\"./TileIndex.js\";import{VectorTile as g}from\"./VectorTile.js\";import m from\"./GlyphMosaic.js\";import d from\"./GlyphSource.js\";import T from\"./SpriteMosaic.js\";import{perfAdd as M}from\"./decluttering/debugging.js\";const R=new p(10),v=new Map;class S{constructor(e,t,s,i){this._vectorTileLayer=e,this._styleRepository=t,this.devicePixelRatio=s,this._memCache=i,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._ongoingTileRequests=new Map,this._ongoingRequestToController=new Map}destroy(){this._ongoingTileRequests&&this.abortAll(),this._connection&&(this._connection.close(),this._connection=null),this._styleRepository=null,this._vectorTileLayer=null,this._spriteMosaic&&(this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic=null)}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){const s=this._vectorTileLayer,r=s.sourceNameToSource,o=[];for(const e in r)o.push(this._fetchTileMap(r[e],t));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,t),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new T(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const a=this._styleRepository,n=new d(a.glyphs);return this._glyphMosaic=new m(1024,1024,n),this._broadcastPromise=f(\"WorkerTileHandler\",{client:this,scheduler:t.scheduler,signal:t.signal}).then((r=>(this._connection=r,i(this._connection.broadcast(\"setStyle\",{style:s.currentStyleInfo.style,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")},t))))),i(o)}async updateStyle(e){return await this._broadcastPromise,this._broadcastPromise=r(((t,s)=>{i(this._connection.broadcast(\"updateStyle\",e)).then(t,s)})),this._broadcastPromise}async setStyle(t,s){await this._broadcastPromise,this._styleRepository=t;const o=this._vectorTileLayer.sourceNameToSource,a=[];for(const e in o)a.push(this._fetchTileMap(o[e],null));this._spriteSourcePromise=this._vectorTileLayer.loadSpriteSource(this.devicePixelRatio,null),this._spriteSourcePromise.then((e=>{this._spriteMosaic=new T(1024,1024,250),this._spriteMosaic.setSpriteSource(e)}));const n=new d(t.glyphs);return this._glyphMosaic=new m(1024,1024,n),this._broadcastPromise=r(((t,r)=>{i(this._connection.broadcast(\"setStyle\",{style:s,vectorTileLayerMaxBuffers:e(\"vectortilelayer-max-buffers\")})).then(t,r)})),a.push(this._broadcastPromise),i(a)}getVectorTile(e,s,i,r){const n=new _(e,s,i,0);if(t(this._memCache)){const e=this._memCache.get(n.id);if(t(e))return e.reference(),o(e)}return this._getVectorTileData(n).then((e=>{if(a(r),t(this._memCache)){const e=this._memCache.get(n.id);if(t(e))return e.reference(),e}if(!this._vectorTileLayer)return null;const s=this._vectorTileLayer.tileInfo.getTileBounds(h(),n),i=new g(n,this._styleRepository,s,[512,512]);if(e&&e.tileData){if(i.setData(e.tileData),t(this._memCache)){i.reference();const e=i.getMemoryUsage();e>0&&this._memCache.put(i.key.id,i,e*i.referenced,u)}}else i.setData(null);return i}))}releaseVectorTile(e){s(this._memCache)||e.release()||this._memCache.updateSize(e.key.id,e,e.getMemoryUsage()*e.referenced)}fetchTileData(e,t){return this._getRefKeys(e,t).then((e=>{const s=this._vectorTileLayer.sourceNameToSource,i=[];for(const e in s)i.push(e);return this._getSourcesData(i,e,t)}))}parseTileData(t,s){const i=t&&t.data;if(!i)return o(null);const{sourceName2DataAndRefKey:r,transferList:a}=i;return 0===Object.keys(r).length?o(null):this._broadcastPromise.then((()=>this._connection.getAvailableClient().then((i=>i.invoke(\"createTileAndParse\",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...s,transferList:a}).then((t=>{if(e(\"esri-vector-tiles-debug\")){const e={};for(const t in r)e[t]=r[t].refKey;return{tileData:t,refKeys:e}}return{tileData:t}}))))))}get updating(){return this._ongoingTileRequests.size>0}abortAll(){this._ongoingRequestToController.forEach((e=>e.abort())),this._ongoingRequestToController.clear(),this._ongoingTileRequests.clear()}async getSprites(e){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(e)}getGlyphs(e){return this._glyphMosaic.getGlyphItems(e.font,e.codePoints)}perfReport({key:e,milliseconds:t}){M(e,t,\"ms\")}async _getTilePayload(e,t,s){const i=_.pool.acquire(e.id),r=this._vectorTileLayer.sourceNameToSource[t].getSourceTileUrl(i.level,i.row,i.col);_.pool.release(i);try{return{protobuff:(await c(r,{responseType:\"array-buffer\",...s})).data,sourceName:t}}catch(e){if(n(e))throw e;return{protobuff:null,sourceName:t}}}async _fetchTileMap(e,t){if(e.capabilities.operations.supportsTileMap&&e.tileIndex)return o();if(!e.tileMapURL)return;const s=R.get(e.tileMapURL);if(s)return void(e.tileIndex=s);let i;if(v.has(e.tileMapURL)){try{i=await v.get(e.tileMapURL),e.tileIndex=new y(i.data)}catch(e){if(n(e))throw e}return}const r=c(e.tileMapURL,t);v.set(e.tileMapURL,r);try{i=await r,v.delete(e.tileMapURL),R.put(e.tileMapURL,e.tileIndex),e.tileIndex=new y(i.data)}catch(t){if(v.delete(e.tileMapURL),n(t))throw t}}_getRefKeys(e,t){const s=this._vectorTileLayer.sourceNameToSource,i=new Array;for(const r in s){const o=s[r].getRefKey(e,t);i.push(o)}return l(i)}_getSourcesData(e,t,s){const i=[];for(let r=0;r<t.length;r++)if(null==t[r].value||null==e[r])i.push(null);else{const o=this._getTilePayload(t[r].value,e[r],s);i.push(o)}return l(i).then((e=>{const s={},i=[];for(let r=0;r<e.length;r++)if(e[r].value&&e[r].value&&e[r].value.protobuff&&e[r].value.protobuff.byteLength>0){const o=t[r].value.id;s[e[r].value.sourceName]={refKey:o,protobuff:e[r].value.protobuff},i.push(e[r].value.protobuff)}return{sourceName2DataAndRefKey:s,transferList:i}}))}_getVectorTileData(e){const t=e.id;if(this._ongoingTileRequests.has(t))return this._ongoingTileRequests.get(t);const s=new AbortController,i={signal:s.signal},r=this._getParsedVectorTileData(e,i).then((e=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),e))).catch((()=>(this._ongoingTileRequests.delete(t),this._ongoingRequestToController.delete(t),null)));return this._ongoingTileRequests.set(t,r),this._ongoingRequestToController.set(t,s),r}_getParsedVectorTileData(e,t){return this.fetchTileData(e,t).then((s=>this.parseTileData({key:e,data:s},t)))}}export{S as TileHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as i}from\"../../../../core/maybe.js\";import t from\"../../../../core/LRUCache.js\";import l from\"../../tiling/TileKey.js\";import s from\"../../tiling/TileCoverage.js\";const r=(e,i)=>e+1/(1<<2*i);class o{constructor(e,i){this._tiles=new Map,this._tileCache=new t(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this._container=i}destroy(){this._tiles.clear(),this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const i=this.tileInfoView,t=i.getTileCoverage(e.state,0,\"smallest\"),{spans:r,lodInfo:o}=t,{level:n}=o,a=new Set,h=new Set;for(const{row:e,colFrom:i,colTo:t}of r)for(let s=i;s<=t;s++){const i=l.getId(n,e,o.normalizeCol(s),o.getWorldForColumn(s)),t=this._getOrAcquireTile(i);a.add(i),t.processed()?this._addToContainer(t):h.add(new l(i))}for(const[e,i]of this._tiles)i.isCoverage=a.has(e);for(const e of h)this._findPlaceholdersForMissingTiles(e,a);let c=!1;for(const[e,l]of this._tiles)l.neededForCoverage=a.has(e),l.neededForCoverage||l.isHoldingForFade&&i.intersects(t,l.key)&&a.add(e),l.isFading&&(c=!0);for(const[e,i]of this._tiles)a.has(e)||this._releaseTile(e);return s.pool.release(t),!c}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[l,s]of this._tiles)this._addPlaceholderChild(t,s,e,i);const l=t.reduce(r,0);Math.abs(1-l)<1e-6||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,l){i.key.level<=t.level||!i.hasData()||function(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}(t,i.key)&&(this._addToContainer(i),l.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=e;for(;;){if(t=n(t),!t||i.has(t))return;const e=this._getTile(t);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new l(e))),this._tiles.set(e,i),i)}_getTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i&&this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(t){let l;const s=[],r=this._container;if(r.contains(t))return;const o=this._visibleTiles;for(const[i,r]of o)this._canConnectDirectly(t,r)&&s.push(r),e(l)&&this._canConnectDirectly(r,t)&&(l=r);if(i(l)){for(const e of s)l.childrenTiles.delete(e),t.childrenTiles.add(e),e.parentTile=t;l.childrenTiles.add(t),t.parentTile=l}else for(const e of s)t.childrenTiles.add(e),e.parentTile=t;o.set(t.id,t),r.addChild(t)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),i(e.parentTile)){e.parentTile.childrenTiles.delete(e);for(const t of e.childrenTiles)i(e.parentTile)&&e.parentTile.childrenTiles.add(t)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:l,row:s,col:r,world:o}=i.key;const n=this._visibleTiles;for(;l>0;){if(l--,s>>=1,r>>=1,t.level===l&&t.row===s&&t.col===r&&t.world===o)return!0;if(n.has(`${l}/${s}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/512)+1,l=Math.ceil(i[1]/512)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*l}}function n(e){const[i,t,l,s]=e.split(\"/\"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(l,10)>>1}/${parseInt(s,10)}`}export{o as TileManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as e}from\"../../../../../chunks/mat3f32.js\";import{COLLISION_GRID_CELL_SIZE as t}from\"./config.js\";import{GridIndex as n}from\"./util.js\";function o(e,t,n,o,r,s){const{iconRotationAlignment:i,textRotationAlignment:l,iconTranslate:a,iconTranslateAnchor:c,textTranslate:h,textTranslateAnchor:u}=o;let d=0;for(const o of e.colliders){const[e,y]=0===o.partIndex?a:h,x=0===o.partIndex?c:u,g=o.minLod<=s&&s<=o.maxLod;d+=g?0:1,o.enabled=g,o.xScreen=o.xTile*r[0]+o.yTile*r[3]+r[6],o.yScreen=o.xTile*r[1]+o.yTile*r[4]+r[7],0===x?(o.xScreen+=n*e-t*y,o.yScreen+=t*e+n*y):(o.xScreen+=e,o.yScreen+=y),1===(0===o.partIndex?i:l)?(o.dxScreen=o.dxPixels,o.dyScreen=o.dyPixels):(o.dxScreen=n*(o.dxPixels+o.width/2)-t*(o.dyPixels+o.height/2)-o.width/2,o.dyScreen=t*(o.dxPixels+o.width/2)+n*(o.dyPixels+o.height/2)-o.height/2)}e.colliders.length>0&&d===e.colliders.length&&(e.unique.show=!1)}class r{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new n(r,s,t),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,e(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let e=l;e<=c;e++)for(let l=i;l<=a;l++){const i=t.cells[e][l];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const r=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],s=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-r>e)return!1;const i=t.symbols[this._currentSymbolCursor];if(!i.unique.show)continue;o(i,this._si,this._co,s,this._allNeededMatrices.get(i.tile),this._zoom);const l=i.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=s;for(const e of i.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of i.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let t=i;t<=h;t++)for(let n=s;n<=a;n++){this._gridIndex.cells[t][n].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,o=this._styleRepository.getStyleLayerByUID(e),r=0!==o.getLayoutValue(\"symbol-placement\",n);let s=o.getLayoutValue(\"icon-rotation-alignment\",n);2===s&&(s=r?0:1);let i=o.getLayoutValue(\"text-rotation-alignment\",n);2===i&&(i=r?0:1);const l=o.getPaintValue(\"icon-translate\",n),a=o.getPaintValue(\"icon-translate-anchor\",n),c=o.getPaintValue(\"text-translate\",n),h=o.getPaintValue(\"text-translate-anchor\",n),u={iconAllowOverlap:o.getLayoutValue(\"icon-allow-overlap\",n),iconIgnorePlacement:o.getLayoutValue(\"icon-ignore-placement\",n),textAllowOverlap:o.getLayoutValue(\"text-allow-overlap\",n),textIgnorePlacement:o.getLayoutValue(\"text-ignore-placement\",n),iconRotationAlignment:s,textRotationAlignment:i,iconTranslateAnchor:a,iconTranslate:l,textTranslateAnchor:h,textTranslate:c};return this._styleProps.set(e,u),u}}export{r as CollisionJob};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{FADE_DURATION as o}from\"./config.js\";function e(o,e){if(o.priority-e.priority)return o.priority-e.priority;const t=o.tile.key,i=e.tile.key;return t.world-i.world?t.world-i.world:t.level-i.level?t.level-i.level:t.row-i.row?t.row-i.row:t.col-i.col?t.col-i.col:o.xTile-e.xTile?o.xTile-e.xTile:o.yTile-e.yTile}class t{constructor(o,e,t,i,s,r){this._visibleTiles=o,this._symbolRepository=e,this._createCollisionJob=t,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=r,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}get running(){return this._running}setScreenSize(o,e){this._screenWidth===o&&this._screenHeight===e||this.restart(),this._screenWidth=o,this._screenHeight=e}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const e=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const e=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const e=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-e))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols,t=[];let i=0,s=0;const r=this._isLayerVisible;const n=this._symbolLayerSorter;return{work:function(n){let l;const c=performance.now();for(;s<o.length;s++,i=0){const e=o[s],h=e.styleLayerUID;if(!r(h)){t[s]||(t[s]={styleLayerUID:h,symbols:[]});continue}t[s]=t[s]||{styleLayerUID:h,symbols:[]};const a=t[s];for(;i<e.uniqueSymbols.length;i++){if(l=e.uniqueSymbols[i],i%100==99&&performance.now()-c>n)return!1;let o=null,t=!1,s=!1;for(const e of l.tileSymbols)if(e.selectedForRendering=!1,!s||!t){const i=e.tile;(!o||i.isCoverage||i.neededForCoverage&&!t)&&(o=e,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(t=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of t)o.symbols.sort(e);return!0},get sortedSymbols(){return t.sort(n)}}}_createOpacityJob(){const o=this._assignTileSymbolsOpacity,e=this._visibleTiles;let t=0;function s(e,t){const r=e.symbols;for(const[o,e]of r)i(e,t);o(e,t);for(const o of e.childrenTiles)s(o,t)}return{work(o){const i=performance.now();for(;t<e.length;t++){if(performance.now()-i>o)return!1;const r=e[t];if(r.parentTile)continue;s(r,performance.now())}return!0}}}}function i(e,t){for(const i of e){const e=i.unique;for(const i of e.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((t-i.startTime)/o),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=t,i.targetOpacity=e.show&&i.show?1:0}}}export{t as SymbolDeclutterer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as s}from\"../../../../../core/maybe.js\";import{GridIndex as o,tileCoordChange as t}from\"./util.js\";class l{constructor(e,s,o){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=o,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return e(this._uniqueSymbolLayerArray)&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(e,s){this._uniqueSymbolLayerArray=null;let t=this._tiles.get(e.id);t||(t={symbols:new Map},this._tiles.set(e.id,t));const l=new Map;if(s)for(const e of s)t.symbols.has(e)&&(l.set(e,t.symbols.get(e)),t.symbols.delete(e));else for(const[s,o]of e.layerData)t.symbols.has(s)&&(l.set(s,t.symbols.get(s)),t.symbols.delete(s));this._removeSymbols(l);const i=e.symbols,n=new Map;for(const[e,s]of i){let l=s.length;if(l>=32){let i=this.tileCoordRange;do{i/=2,l/=4}while(l>8&&i>64);const r=new o(this.tileCoordRange,this.tileCoordRange,i);n.set(e,{flat:s,index:r}),t.symbols.set(e,{flat:s,index:r});for(const e of s)r.getCell(e.xTile,e.yTile).push(e)}else n.set(e,{flat:s}),t.symbols.set(e,{flat:s})}this._addSymbols(e.key,i)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,o]of this._tiles){const t=new Map;for(const s of e)o.symbols.has(s)&&(t.set(s,o.symbols.get(s)),o.symbols.delete(s));this._removeSymbols(t),0===o.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const o=new Map;for(const[t,l]of e.symbols)s.symbols.has(t)&&(o.set(t,s.symbols.get(t)),s.symbols.delete(t));this._removeSymbols(o),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:o}]of e)for(const e of o){const o=e.unique,t=o.tileSymbols,l=t.length-1;for(let s=0;s<l;s++)if(t[s]===e){t[s]=t[l];break}if(t.length=l,0===l){const e=this._uniqueSymbolsReferences.get(s);e.delete(o),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(s,o){if(0===o.size)return;const t=this._visibleTiles;for(const e of t)e.parentTile||e.key.world!==s.world||e.key.level===s.level&&!e.key.equals(s)||this._matchSymbols(e,s,o);for(const[s,t]of o)for(const o of t)if(e(o.unique)){const e=this._createUnique();o.unique=e,e.tileSymbols.push(o);let t=this._uniqueSymbolsReferences.get(s);t||(t=new Set,this._uniqueSymbolsReferences.set(s,t)),t.add(e)}}_matchSymbols(e,o,l){if(e.key.level>o.level){const s=e.key.level-o.level;if(e.key.row>>s!==o.row||e.key.col>>s!==o.col)return}if(o.level>e.key.level){const s=o.level-e.key.level;if(o.row>>s!==e.key.row||o.col>>s!==e.key.col)return}if(o.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,o,l);return}const i=new Map;for(const[n,r]of l){const l=[];for(const s of r){const i=t(this.tileCoordRange,s.xTile,o.level,o.col,e.key.level,e.key.col),n=t(this.tileCoordRange,s.yTile,o.level,o.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&l.push({symbol:s,xTransformed:i,yTransformed:n})}const y=[],a=e.key.level<o.level?1:1<<e.key.level-o.level,f=this._tiles.get(e.id).symbols.get(n);if(f){const e=f.flat;for(const o of l){let t,l=!1;const i=o.xTransformed,n=o.yTransformed;t=s(f.index)?f.index.getCell(i,n):e;const r=o.symbol,m=r.hash;for(const e of t)if(m===e.hash&&Math.abs(i-e.xTile)<=a&&Math.abs(n-e.yTile)<=a){const s=e.unique;r.unique=s,s.tileSymbols.push(r),l=!0;break}l||y.push(r)}}y.length>0&&i.set(n,y)}for(const s of e.childrenTiles)this._matchSymbols(s,o,i)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let o,t=0;for(const[l,i]of e){const e=new Array(i.size);o=0;for(const s of i)e[o++]=s;s[t]={styleLayerUID:l,uniqueSymbols:e},t++}return s}}export{l as SymbolRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{DECLUTTER_BUDGET as i,FADE_DURATION as s}from\"./config.js\";import{VTLUniqueSymbol as o}from\"./core.js\";import{writeOpacityToBuffers as r}from\"./util.js\";import{CollisionJob as l}from\"./jobs.js\";import{SymbolDeclutterer as a}from\"./SymbolDeclutterer.js\";import{SymbolRepository as h}from\"./SymbolRepository.js\";class c extends e{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new h(4096,e,(()=>new o)),this._symbolDeclutterer=new a(e,this._symbolRepository,((t,e,i)=>new l(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,r(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t).getLayoutProperty(\"visibility\");return!e||\"none\"!==e.getValue()}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on(\"symbols-changed\",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(i),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){t(this._stableNotificationHandle)&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit(\"fade-complete\")}),1.5*s)}_notifyUnstable(){t(this._stableNotificationHandle)&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit(\"fade-start\")}}export{c as SymbolFader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t,unwrap as s}from\"../../../../core/maybe.js\";import{createResolver as r}from\"../../../../core/promiseUtils.js\";import{create as i}from\"../../../../geometry/support/aaBoundingRect.js\";import o from\"../../tiling/TileKey.js\";import l from\"../../tiling/TileCoverage.js\";import{TiledDisplayObject as n}from\"../webgl/TiledDisplayObject.js\";import{WGLDrawPhase as a}from\"../webgl/enums.js\";import d from\"../webgl/TileContainer.js\";import{drawGridIndex as h,drawColliders as c}from\"./decluttering/debugging.js\";import{SymbolFader as y}from\"./decluttering/SymbolFader.js\";function u(e,t){if(e){const s=e.getLayoutProperty(\"visibility\");if(!s||\"none\"!==s.getValue()&&(void 0===e.minzoom||e.minzoom<t+1e-6)&&(void 0===e.maxzoom||e.maxzoom>=t-1e-6))return!0}return!1}class p extends d{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map,this._fading=!1}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this._spriteMosaic&&(this._spriteMosaic.dispose(),this._spriteMosaic=null),this._glyphMosaic&&(this._glyphMosaic.dispose(),this._glyphMosaic=null),e(this._symbolFader)&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,r,i){if(this._spriteMosaic=e,this._glyphMosaic=r,this._styleRepository=i,t(this._symbolFader)){const e=new y(this._styleRepository,this.children);e.on(\"fade-start\",(()=>{this.emit(\"fade-start\"),this._fading=!0,this.requestRender()})),e.on(\"fade-complete\",(()=>{this.emit(\"fade-complete\"),this._fading=!1,this.requestRender()})),this._symbolFader=e}s(this._symbolFader).styleRepository=i}deleteStyleLayers(t){e(this._symbolFader)&&this._symbolFader.deleteStyleLayers(t)}async hitTest(e,t){const s=[e,t],i=r();return this._pointToCallbacks.set(s,i),this.requestRender(),i.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==a.MAP&&e.drawPhase!==a.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(t){return super.addChild(t),e(this._symbolFader)?this._symbolFader.addTile(t):t.decluttered=!0,this.requestRender(),t}removeChild(t){return e(this._symbolFader)&&this._symbolFader.removeTile(t),this.requestRender(),super.removeChild(t)}renderChildren(e){if(e.drawPhase!==a.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){const{context:t}=e,s=t.getBoundFramebufferObject();e.drawPhase=a.HITTEST;const r=e.painter.effects.hittest;r.bind(e),this._doRender(e),r.draw(e,this._pointToCallbacks),t.bindFramebuffer(s)}}else super.renderChildren(e)}removeAllChildren(){for(let t=0;t<this.children.length;t++){const s=this.children[t];e(this._symbolFader)&&this._symbolFader.removeTile(s),s.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){e(this._symbolFader)&&this._symbolFader.restartDeclutter()}_doRender(t){const{context:s}=t,r=this._styleRepository;if(!r)return;const i=r.layers;let o=!0;t.drawPhase===a.HITTEST&&(o=!1),r.backgroundBucketIds.length>0&&(t.renderPass=\"background\",this._renderBackgroundLayers(t,r.backgroundBucketIds)),super.renderChildren(t);const l=this.children.filter((e=>e.visible&&e.hasData()));if(l&&0!==l.length){for(const e of l)e.triangleCount=0;s.setStencilWriteMask(0),s.setColorMask(!0,!0,!0,!0),s.setStencilOp(7680,7680,7681),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!1),s.setDepthTestEnabled(!0),s.setDepthWriteEnabled(!0),s.setDepthFunction(515),s.setClearDepth(1),s.clear(s.gl.DEPTH_BUFFER_BIT),t.renderPass=\"opaque\";for(let e=i.length-1;e>=0;e--)this._renderStyleLayer(i[e],t,l);s.setDepthWriteEnabled(!1),s.setBlendingEnabled(o),s.setBlendFunctionSeparate(1,771,1,771),t.renderPass=\"translucent\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);s.setDepthTestEnabled(!1),t.renderPass=\"symbol\";for(let e=0;e<i.length;e++)this._renderStyleLayer(i[e],t,l);if(s.bindVAO(),s.setStencilTestEnabled(!0),s.setBlendingEnabled(!0),t.drawPhase===a.MAP){this._fade(t.displayLevel,t.state);const s=window.COLLISION_DEBUG_CTX;if(s&&e(this._symbolFader)&&(s.clearRect(0,0,s.canvas.width,s.canvas.height),!this._fading||window.COLLISION_XRAY))for(const e of this.children)if(e.symbols){const t=[];if(e.symbols.forEach((e=>{t.push(...e)})),window.COLLISION_SHOW_GRID){var n,d,y;const e=null==(n=this._symbolFader)||null==(d=n._symbolDeclutterer)||null==(y=d._collisionJob)?void 0:y._gridIndex;e&&h(s,e)}c(s,t)}}}}_fade(t,s){e(this._symbolFader)&&(this._symbolFader.update(t,s)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:r,renderPass:i}=t;if(void 0===e)return;const o=e.getLayoutProperty(\"visibility\");if(o&&\"none\"===o.getValue())return;let l;switch(e.type){case 0:return;case 1:if(\"opaque\"!==i&&\"translucent\"!==t.renderPass)return;l=\"vtlFill\";break;case 2:if(\"translucent\"!==i)return;l=\"vtlLine\";break;case 4:if(\"symbol\"!==i)return;l=\"vtlCircle\";break;case 3:if(\"symbol\"!==i)return;l=\"vtlSymbol\"}if(s=3===e.type?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),\"vtlSymbol\"!==l){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+1e-6||void 0!==e.maxzoom&&e.maxzoom<r-1e-6)return}const n=e.uid;t.styleLayerUID=n,t.styleLayer=e;for(const e of s)if(e.layerData.has(n)){r.renderObjects(t,s,l);break}}_renderBackgroundLayers(t,s){const{context:r,displayLevel:d,painter:h,state:c}=t,y=this._styleRepository;let p=!1;for(const e of s)if(u(y.getLayerById(e),d)){p=!0;break}if(!p)return;const m=this._tileInfoView.getTileCoverage(t.state,0,\"smallest\"),{spans:f,lodInfo:_}=m,{level:b}=_,g=i(),T=[];if(this._renderPasses){const s=this._renderPasses[0];e(this._clippingInfos)&&(s.brushes[0].prepareState(t,this._clippingInfos[0]),s.brushes[0].drawMany(t,this._clippingInfos))}const v=this._backgroundTiles;let C,F=0;for(const{row:e,colFrom:t,colTo:s}of f)for(let r=t;r<=s;r++){if(F<v.length)C=v[F],C.key.set(b,e,_.normalizeCol(r),_.getWorldForColumn(r)),this._tileInfoView.getTileBounds(g,C.key,!1),C.bounds=g,C.coords[0]=g[0],C.coords[1]=g[3];else{const t=new o(b,e,_.normalizeCol(r),_.getWorldForColumn(r));C=new n(t,this._tileInfoView.getTileBounds(i(),t),[512,512],[4096,4096]),v.push(C)}C.setTransform(c,this._tileInfoView.getTileResolution(C.key)),T.push(C),F++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(7680,7680,7681),r.setStencilFunction(514,0,255);let w=!0;t.drawPhase===a.HITTEST&&(w=!1),r.setStencilTestEnabled(w);for(const e of s){const s=y.getLayerById(e);u(s,d)&&(t.styleLayerUID=s.uid,t.styleLayer=s,h.renderObjects(t,T,\"vtlBackground\"))}l.pool.release(m)}}export{p as VectorTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../layers/support/TileInfo.js\";import l from\"./TileKey.js\";import s from\"./TileInfoView.js\";export default class extends s{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const s=l.pool.acquire(e),t=0===s.level?null:l.getId(s.level-1,s.row>>1,s.col>>1,s.world);return l.pool.release(s),t}getTileCoverage(e,l,s){const t=super.getTileCoverage(e,l,s);if(!t)return t;const o=1<<t.lodInfo.level;return t.spans=t.spans.filter((e=>e.row>=0&&e.row<o)),t}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=e.create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isNone as t}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../../core/Error.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{reject as l,isAbortError as n,all as o,createAbortController as h}from\"../../../core/promiseUtils.js\";import u from\"../../../Graphic.js\";import y from\"../../../core/Handles.js\";import{create as c}from\"../../../geometry/support/aaBoundingRect.js\";import{diff as p,hasDiff as d}from\"../../../core/accessorSupport/diffUtils.js\";import _ from\"../engine/vectorTiles/style/StyleRepository.js\";import f from\"../tiling/TileQueue.js\";import{VectorTile as g}from\"../engine/vectorTiles/VectorTile.js\";import m from\"../../layers/LayerView.js\";import{LayerView2DMixin as T}from\"./LayerView2D.js\";import{TileHandler as v}from\"../engine/vectorTiles/TileHandler.js\";import{TileManager as C}from\"../engine/vectorTiles/TileManager.js\";import{VectorTileContainer as w}from\"../engine/vectorTiles/VectorTileContainer.js\";import Q from\"../tiling/TileInfoViewPOT.js\";const H=i.getLogger(\"esri.views.2d.layers.VectorTileLayerView2D\");let R=class extends(T(m)){constructor(){super(...arguments),this._styleChanges=[],this._handles=new y,this._fetchQueue=null,this._parseQueue=null,this._isTileHandlerReady=!1,this.fading=!1}initialize(){const e=this.layer.tileInfo;if(!(e&&e.spatialReference).equals(this.view.spatialReference))return void this.addResolvingPromise(l(new a(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer})));const{style:t,spriteUrl:i,glyphsUrl:s}=this.layer.currentStyleInfo;this._styleRepository=new _(t,{spriteUrl:i,glyphsUrl:s}),this._tileInfoView=new Q(this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new w(this._tileInfoView),this._tileHandler=new v(this.layer,this._styleRepository,window.devicePixelRatio||1,null),this.container.addChild(this._vectorTileContainer),this.handles.add([this._vectorTileContainer.on(\"fade-start\",(()=>{this.fading=!0})),this._vectorTileContainer.on(\"fade-complete\",(()=>{this.fading=!1,this.requestUpdate()}))])}destroy(){var e;this._stop(),this.container.removeAllChildren(),this._vectorTileContainer&&(this._vectorTileContainer.destroy(),this._vectorTileContainer=null),null==(e=this._tileHandler)||e.destroy(),this._tileHandler=null}async hitTest(e,t){if(this.suspended||!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const i=await this._vectorTileContainer.hitTest(e,t);if(!i||0===i.length)return null;const s=i[0]-1,r=this._styleRepository,a=r.getStyleLayerByUID(s);if(!a)return null;const l=r.getStyleLayerIndex(a.id),n=new u({attributes:{layerId:l,layerName:a.id,layerUID:s}});return n.layer=this.layer,n.sourceLayer=this.layer,n}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){this._start(),this._handles.add([this.layer.on(\"paint-change\",(e=>{if(e.isDataDriven)this._styleChanges.push({type:0,data:e}),this.notifyChange(\"updating\"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layerName);if(!i)return;const s=3===i.type;t.setPaintProperties(e.layerName,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on(\"layout-change\",(e=>{const i=this._styleRepository,s=i.getLayerById(e.layer);if(!s)return;const r=p(s.layout,e.layout);if(!t(r)){if(d(r,\"visibility\")&&1===function(e){if(t(e))return 0;switch(e.type){case\"partial\":return Object.keys(e.diff).length;case\"complete\":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case\"collection\":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}(r))return i.setLayoutProperties(e.layer,e.layout),3===s.type&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:1,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()}})),this.layer.on(\"style-layer-visibility-change\",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),3===i.type&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on(\"style-layer-change\",(e=>{this._styleChanges.push({type:2,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"delete-style-layer\",(e=>{this._styleChanges.push({type:3,data:e}),this.notifyChange(\"updating\"),this.requestUpdate()})),this.layer.on(\"load-style\",(()=>this._loadStyle()))])}detach(){this._stop(),this._handles.removeAll()}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}canResume(){let e=super.canResume();const t=this.layer;if(e&&t.currentStyleInfo){const i=this.view.scale,s=t.currentStyleInfo;if(s&&s.layerDefinition){const t=s.layerDefinition;t.minScale&&t.minScale<i&&(e=!1),t.maxScale&&t.maxScale>i&&(e=!1)}}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.filter((e=>e.invalidating)).length>0||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once(\"attach\",(()=>this.requestUpdate())),e&&(t.setData(e.tileData),this.requestUpdate(),this.notifyChange(\"updating\"))})).catch((e=>{this.notifyChange(\"updating\"),n(e)||H.error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new C({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new f({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new f({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue&&(this._fetchQueue.destroy(),this._fetchQueue=null),this._parseQueue&&(this._parseQueue.destroy(),this._parseQueue=null),this._tileManager&&(this._tileManager.destroy(),this._tileManager=null),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange(\"updating\"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(e){H.error(\"error applying vector-tiles style update\",e.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(3!==e.type)return;const s=e.data,r=t.getLayerById(s.layerName);r&&i.push(r.uid)}));const s=[];let r;e.forEach((e=>{const i=e.type,a=e.data;switch(i){case 0:t.setPaintProperties(a.layer,a.paint),r=a.layer;break;case 1:t.setLayoutProperties(a.layer,a.layout),r=a.layer;break;case 3:return void t.deleteStyleLayer(a.layerName);case 2:t.setStyleLayer(a.layer,a.index),r=a.layer.id}const l=t.getLayerById(r);l&&s.push(l.uid)}));const a=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of a)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),s.length>0){const e=[];for(const t of a){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:s}))).then((e=>t.setData(e.tileData)));e.push(i)}await o(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}async _loadStyle(){const{style:e,spriteUrl:t,glyphsUrl:i}=this.layer.currentStyleInfo;this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange(\"updating\"),this._styleRepository=new _(e,{spriteUrl:t,glyphsUrl:i}),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=h();const{signal:s}=this._tileHandlerAbortController;if(this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,e),await this._tileHandlerPromise,s.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange(\"updating\"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds(c(),e);return new g(e,this._styleRepository,t,[512,512])}};e([s()],R.prototype,\"_fetchQueue\",void 0),e([s()],R.prototype,\"_parseQueue\",void 0),e([s()],R.prototype,\"_isTileHandlerReady\",void 0),e([s({dependsOn:[\"view.scale\",\"layer.currentStyleInfo\"]})],R.prototype,\"suspended\",void 0),e([s()],R.prototype,\"fading\",void 0),e([s({dependsOn:[\"_isTileHandlerPromiseFulfilled\",\"_parseQueue.updating\",\"_parseQueue.updating\",\"fading\"]})],R.prototype,\"updating\",void 0),R=e([r(\"esri.views.2d.layers.VectorTileLayerView2D\")],R);var U=R;export default U;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as e}from\"../maybe.js\";import{getProperties as n}from\"./utils.js\";import o from\"../Accessor.js\";import r from\"../Collection.js\";const f=[\"esri.Color\",\"esri.portal.Portal\",\"esri.symbols.support.Symbol3DAnchorPosition2D\",\"esri.symbols.support.Symbol3DAnchorPosition3D\"];function i(t){return t instanceof o}function c(t){return t instanceof r?Object.keys(t.items):i(t)?n(t).keys():t?Object.keys(t):[]}function u(t,e){return t instanceof r?t.items[e]:t[e]}function l(t){return t?t.declaredClass:null}function s(t,n){const o=t.diff;if(o&&\"function\"==typeof o)return o(t,n);const r=c(t),p=c(n);if(0===r.length&&0===p.length)return;if(!r.length||!p.length||function(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}(t,n))return{type:\"complete\",oldValue:t,newValue:n};const a=p.filter((t=>-1===r.indexOf(t))),y=r.filter((t=>-1===p.indexOf(t))),m=r.filter((e=>p.indexOf(e)>-1&&u(t,e)!==u(n,e))).concat(a,y).sort(),d=l(t);if(d&&f.indexOf(d)>-1&&m.length)return{type:\"complete\",oldValue:t,newValue:n};let b;const h=i(t)&&i(n);for(const r of m){const f=u(t,r),i=u(n,r);let c;(h||\"function\"!=typeof f&&\"function\"!=typeof i)&&(f!==i&&(null==f&&null==i||(c=o&&o[r]&&\"function\"==typeof o[r]?o[r](f,i):\"object\"==typeof f&&\"object\"==typeof i&&l(f)===l(i)?s(f,i):{type:\"complete\",oldValue:f,newValue:i},e(c)&&(e(b)?b.diff[r]=c:b={type:\"partial\",diff:{[r]:c}}))))}return b}function p(e,n){if(t(e))return!1;const o=n.split(\".\");let r=e;for(const t of o){if(\"complete\"===r.type)return!0;if(\"partial\"!==r.type)return!1;{const e=r.diff[t];if(!e)return!1;r=e}}return!0}function a(t,e){for(const n of e)if(p(t,n))return!0;return!1}function y(t,e){if(\"function\"!=typeof t&&\"function\"!=typeof e&&(t||e))return!t||!e||\"object\"==typeof t&&\"object\"==typeof e&&l(t)!==l(e)?{type:\"complete\",oldValue:t,newValue:e}:s(t,e)}function m(e){if(t(e))return!0;switch(e.type){case\"complete\":return!1;case\"collection\":{const t=e;for(const e of t.added)if(!m(e))return!1;for(const e of t.removed)if(!m(e))return!1;for(const e of t.changed)if(!m(e))return!1;return!0}case\"partial\":for(const t in e.diff){if(!m(e.diff[t]))return!1}return!0}}export{y as diff,p as hasDiff,a as hasDiffAny,m as isEmpty};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3;class s{constructor(t,e,s){this._namespace=t,this._storage=e,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=\":\",s&&(this._storage.registerRemoveFunc(this._namespace,s),this._removeFunc=!0)}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}put(t,e,s,i=0){this._storage.put(this._namespace+t,e,s,i)}get(t){const e=this._storage.get(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this._namespace+t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,s){this._storage.updateSize(this._namespace+t,e,s)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new t}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs=this._removeFuncs.filter((e=>e[0]!==t))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimit()}put(t,e,s,i){const h=this._db.get(t);if(h&&(this._size-=h.size,this._db.delete(t),h.entry!==e&&this._notifyRemoved(t,h.entry)),s>this._maxSize)return void this._notifyRemoved(t,e);if(void 0===e)return void console.warn(\"Refusing to cache undefined entry \");if(!s||s<0)return void console.warn(\"Refusing to cache entry with invalid size \"+s);const r=1+Math.max(i,-3)- -3;this._db.set(t,{entry:e,size:s,lifetime:r,lives:r}),this._size+=s,this._checkSizeLimit()}updateSize(t,e,s){const i=this._db.get(t);i&&i.entry===e&&(this._size-=i.size,s>this._maxSize?this._notifyRemoved(t,e):(i.size=s,this._size+=s,this._checkSizeLimit()))}pop(t){const e=this._db.get(t);if(e)return this._size-=e.size,this._db.delete(t),++this._hit,e.entry;++this._miss}get(t){const e=this._db.get(t);if(void 0!==e)return this._db.delete(t),e.lives=e.lifetime,this._db.set(t,e),++this._hit,e.entry;++this._miss}getStats(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},e={},s=new Array;this._db.forEach(((t,i)=>{const h=t.lifetime;s[h]=(s[h]||0)+t.size,this._users.forAll((s=>{const h=s.namespace;if(i.startsWith(h)){const s=e[h]||0;e[h]=s+t.size}}))}));const i={};this._users.forAll((t=>{const s=t.namespace;if(!isNaN(t.hitRate)&&t.hitRate>0){const h=e[s]||0;e[s]=h,i[s]=Math.round(100*t.hitRate)+\"%\"}else i[s]=\"0%\"}));const h=Object.keys(e);h.forEach((t=>e[t]=e[t]/this._size*100)),h.sort(((t,s)=>e[s]-e[t])),h.forEach((s=>t[s]=Math.round(e[s])+\"% / \"+i[s]));for(let e=s.length-1;e>=0;--e){const i=s[e];i&&(t[\"Priority \"+(e+-3-1)]=Math.round(i/this.size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemoved(s,e.entry))}))}clearAll(){this._db.forEach(((t,e)=>this._notifyRemoved(e,t.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(t,e){this._removeFuncs.forEach((s=>{t.startsWith(s[0])&&s[1](e)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[t,e]of this._db)if(this._db.delete(t),e.lives<=1?(this._size-=e.size,this._notifyRemoved(t,e.entry)):(--e.lives,this._db.set(t,e)),this._size<=.9*this.maxSize)return}}export{e as MIN_PRIORITY,s as MemCache,i as MemCacheStorage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import i from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{HandleOwnerMixin as a}from\"../../core/HandleOwner.js\";let d=class extends(a(o(l(n.EventedMixin(i))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const r=this.layer&&this.layer.id||\"no id\",s=this.layer&&this.layer.title||\"no title\";throw t.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${s}', id: '${r}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([r({dependsOn:[\"layer.opacity\",\"parent.fullOpacity\"]})],d.prototype,\"fullOpacity\",null),e([r()],d.prototype,\"layer\",void 0),e([r()],d.prototype,\"parent\",void 0),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspended\",null),e([r({readOnly:!0,dependsOn:[\"visible\",\"layer.loaded\",\"parent.suspended\",\"view?.ready\"]})],d.prototype,\"suspendInfo\",null),e([r({readOnly:!0,dependsOn:[\"suspended\",\"layer.legendEnabled?\"]})],d.prototype,\"legendEnabled\",null),e([r({type:Boolean,dependsOn:[\"updatingHandles.updating\"],readOnly:!0})],d.prototype,\"updating\",null),e([r({dependsOn:[\"layer.visible\"]})],d.prototype,\"visible\",null),d=e([s(\"esri.views.layers.LayerView\")],d);var p=d;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";var s;let p=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],p.prototype,\"bottom\",void 0),t([r({readOnly:!0,dependsOn:[\"left\",\"right\",\"top\",\"bottom\"]})],p.prototype,\"version\",null),p=s=t([o(\"esri.views.layers.support.ClipRect\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";let e=class extends s{};e=r([o(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import t from\"../../../geometry/Geometry.js\";import s from\"../../../geometry/Extent.js\";import p from\"../../../geometry/Polygon.js\";import{fromJSON as m}from\"../../../geometry/support/jsonUtils.js\";import\"../../../geometry.js\";import i from\"./ClipArea.js\";var n;const y={base:t,key:\"type\",typeMap:{extent:s,polygon:p}};let c=n=class extends i{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new n({geometry:this.geometry.clone()})}};r([e({types:y,json:{read:m,write:!0}})],c.prototype,\"geometry\",void 0),r([e({readOnly:!0,dependsOn:[\"geometry\"]})],c.prototype,\"version\",null),c=n=r([o(\"esri.views.layers.support.Geometry\")],c);var l=c;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0,dependsOn:[\"path\"]})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import i from\"../../../core/Collection.js\";import{referenceSetter as r}from\"../../../core/collectionUtils.js\";import{init as a}from\"../../../core/watchUtils.js\";import o from\"../../layers/support/ClipArea.js\";import p from\"../../layers/support/ClipRect.js\";import{Container as n}from\"../engine/Container.js\";import h from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=i.ofType({key:\"type\",base:o,typeMap:{rect:p,path:d,geometry:h}}),l=i=>{let o=class extends i{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var e;this.container||(this.container=new n),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([a(this,\"suspended\",(e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),!0),a(this,[\"layer.opacity\",\"container\"],(()=>{var e,t;this.container&&(this.container.opacity=null!=(e=null==(t=this.layer)?void 0:t.opacity)?e:1)}),!0),a(this,[\"layer.blendMode\"],(e=>{this.container&&(this.container.blendMode=e)}),!0),a(this,[\"layer.effect\"],(e=>{this.container&&(this.container.effect=e)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(e=this.view)&&e.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(e){let t=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,a=!r;!s&&e<=i&&(s=!0),!a&&e>=r&&(a=!0),t=s&&a}return t}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return e([t({type:c,set(e){const t=r(e,this._get(\"clips\"),c);this._set(\"clips\",t)}})],o.prototype,\"clips\",void 0),e([t()],o.prototype,\"moving\",void 0),e([t()],o.prototype,\"attached\",void 0),e([t()],o.prototype,\"container\",void 0),e([t({dependsOn:[\"view.scale\",\"layer.minScale\",\"layer.maxScale\"]})],o.prototype,\"suspended\",void 0),e([t({readOnly:!0})],o.prototype,\"updateParameters\",void 0),e([t()],o.prototype,\"updateRequested\",void 0),e([t({dependsOn:[\"attached\",\"updateRequested\",\"suspended\"]})],o.prototype,\"updating\",null),e([t()],o.prototype,\"view\",void 0),o=e([s(\"esri.views.2d.layers.LayerView2D\")],o),o};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;export default class extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../core/lang.js\";import i from\"../../core/Error.js\";import{constant as e}from\"../../core/arrayUtils.js\";import a from\"../../request.js\";class l{constructor(){this.location={left:0,top:0,width:0,height:0},this._allAvailability=\"unknown\",this.byteSize=40}getAvailability(t,i){if(\"unknown\"!==this._allAvailability)return this._allAvailability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%8,l=e>>3,o=this._tileAvailabilityBitSet;return l<0||l>o.length?\"unknown\":o[l]&1<<a?\"available\":\"unavailable\"}_updateFromData(t){const i=this.location.width,e=this.location.height;let a=!0,l=!0;const o=Math.ceil(i*e/8),n=new Uint8Array(o);let r=0;for(let i=0;i<t.length;i++){const e=i%8;t[i]?(l=!1,n[r]|=1<<e):a=!1,7===e&&++r}l?this._allAvailability=\"unavailable\":a?this._allAvailability=\"available\":(this._allAvailability=\"unknown\",this._tileAvailabilityBitSet=n,this.byteSize+=n.length)}static fromDefinition(t,o){const r=t.service.request||a,{row:s,col:h,width:c,height:m}=t,d={query:{f:\"json\"}};return o=o?{...d,...o}:d,r(n(t),o).then((t=>t.data)).catch((t=>{if(t&&t.details&&422===t.details.httpStatus)return{location:{top:s,left:h,width:c,height:m},valid:!0,data:e(c*m,0)};throw t})).then((t=>{if(t.location&&(t.location.top!==s||t.location.left!==h||t.location.width!==c||t.location.height!==m))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:s,left:h,width:c,height:m}});return l.fromJSON(t)}))}static fromJSON(i){l.validateJSON(i);const e=new l;return e.location=Object.freeze(t(i.location)),e._updateFromData(i.data),Object.freeze(e)}static validateJSON(t){if(!t||!t.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}}function o(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(\"vector-tile\"===t.service.type)i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;else{const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}const e=t.service.query;return e&&(i=`${i}?${e}`),i}export default l;export{l as Tilemap,o as tilemapDefinitionId,n as tilemapDefinitionUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import t from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{cast as l}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../core/Error.js\";import{objectToQuery as a}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import o from\"../../core/PooledArray.js\";import{reject as n,resolve as h,create as c,onAbort as p,createAbortError as m,isAbortError as u,createAbortController as f,isAborted as v}from\"../../core/promiseUtils.js\";import{waitTicks as y}from\"../../core/scheduling.js\";import d from\"../../core/Accessor.js\";import _ from\"../../request.js\";import b from\"../../core/Handles.js\";import{init as g}from\"../../core/watchUtils.js\";import w from\"../../core/LRUCache.js\";import{tilemapDefinitionId as T,Tilemap as j}from\"./Tilemap.js\";var z;const A=t.getLogger(\"esri.layers.support.TilemapCache\");let L=z=class extends d{constructor(e){super(e),this._handles=new b,this._pendingTilemapRequests={},this._availableLevels={},this.levels=5,this.cacheByteSize=2097152,this.request=_,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new w(this.cacheByteSize),this._handles.add([this.watch([\"layer.parsedUrl\",\"layer.tileServers?\"],(()=>this._initializeTilemapDefinition())),g(this,\"layer.tileInfo.lods\",(e=>this._initializeAvailableLevels(e)),!0)]),this._initializeTilemapDefinition()}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}castLevels(e){return e<=2?(A.error(\"Minimum levels for Tilemap is 3, but got \",e),3):e}get size(){return 1<<this.levels}fetchTilemap(e,t,i,l){if(!this._availableLevels[e])return n(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const r=this._tmpTilemapDefinition,a=this._tilemapFromCache(e,t,i,r);if(a)return h(a);const o=l&&l.signal;return l={...l,signal:null},c(((e,t)=>{p(o,(()=>t(m())));const i=T(r);let s=this._pendingTilemapRequests[i];if(!s){s=j.fromDefinition(r,l).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>delete this._pendingTilemapRequests[i];this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}getAvailability(e,t,i){if(!this._availableLevels[e])return\"unavailable\";const l=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return l?l.getAvailability(t,i):\"unknown\"}getAvailabilityUpsample(e,t,i,l){l.level=e,l.row=t,l.col=i;const r=this.layer.tileInfo;for(r.updateTileInfo(l);;){const e=this.getAvailability(l.level,l.row,l.col);if(\"unavailable\"!==e)return e;if(!r.upsampleTile(l))return\"unavailable\"}}fetchAvailability(e,t,i,l){return this._availableLevels[e]?this.fetchTilemap(e,t,i,l).catch((e=>e)).then((l=>{if(l instanceof j){const r=l.getAvailability(t,i);return\"unavailable\"===r?n(new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})):r}if(u(l))throw l;return\"unknown\"})):n(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`))}fetchAvailabilityUpsample(e,t,i,l,r){l.level=e,l.row=t,l.col=i;const s=this.layer.tileInfo;s.updateTileInfo(l);const a=this.fetchAvailability(e,t,i,r).catch((e=>{if(u(e))throw e;if(s.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l);throw e}));return this._fetchAvailabilityUpsamplePrefetch(l.id,e,t,i,r,a),a}async _fetchAvailabilityUpsamplePrefetch(e,t,i,l,r,s){if(!this._prefetchingEnabled)return;const a=`prefetch-${e}`;if(this._handles.has(a))return;const o=f();s.then((()=>o.abort()),(()=>o.abort()));let n=!1;const h={remove(){n||(n=!0,o.abort())}};if(this._handles.add(h,a),await y(10,o.signal).catch((()=>{})),n||(n=!0,this._handles.remove(a)),v(o))return;const c={id:e,level:t,row:i,col:l},p={...r,signal:o.signal},m=this.layer.tileInfo;for(let e=0;z._prefetches.length<z._maxPrefetch&&m.upsampleTile(c);++e){const e=this.fetchAvailability(c.level,c.row,c.col,p);z._prefetches.push(e);const t=()=>{z._prefetches.removeUnordered(e)};e.then(t,t)}}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?a(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,l){l.level=e,l.row=t-t%this.size,l.col=i-i%this.size;const r=T(l);return this._tilemapCache.get(r)}_initializeAvailableLevels(e){this._availableLevels={},e&&e.forEach((e=>this._availableLevels[e.level]=!0))}get test(){const e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:(t,i,l)=>!!e._tilemapFromCache(t,i,l,e._tmpTilemapDefinition)}}};L._maxPrefetch=4,L._prefetches=new o({initialSize:z._maxPrefetch}),e([i({constructOnly:!0,type:Number})],L.prototype,\"levels\",void 0),e([l(\"levels\")],L.prototype,\"castLevels\",null),e([i({readOnly:!0,dependsOn:[\"levels\"],type:Number})],L.prototype,\"size\",null),e([i({constructOnly:!0,type:Number})],L.prototype,\"cacheByteSize\",void 0),e([i({constructOnly:!0})],L.prototype,\"layer\",void 0),e([i({constructOnly:!0})],L.prototype,\"request\",void 0),L=z=e([r(\"esri.layers.support.TilemapCache\")],L);export{L as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e){this._storage.put(t,e,1,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}}\n"],"sourceRoot":""}