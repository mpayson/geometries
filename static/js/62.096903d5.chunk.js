(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[62],{1003:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var i=r(12),a=r(9),n=r(10),l=r.n(n),o=r(21),s=r(2),c=r(3),u=r(5),p=r(6),f=r(0),b=(r(13),r(14),r(15),r(1)),d=r(63),y=r(8),v=r(11),h=(r(19),r(20),r(16)),O=r(44),m=r(62),j=r(81),g=r(788),w=function(e){var t=function(e){Object(u.a)(r,e);var t=Object(p.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.apply(this,arguments)).capabilities=void 0,e.copyright=null,e.fullExtent=null,e.legendEnabled=!0,e.spatialReference=null,e.version=null,e}return Object(c.a)(r,[{key:"readCapabilities",value:function(e,t){var r=t.capabilities&&t.capabilities.split(",").map((function(e){return e.toLowerCase().trim()}));if(!r)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,supportsTileMap:!1},exportMap:null,exportTiles:null};var i=this.type,a=-1!==r.indexOf("query"),n=-1!==r.indexOf("map"),l=!!t.exportTilesAllowed,o=-1!==r.indexOf("tilemap"),s="tile"!==i&&!!t.supportsDynamicLayers,c="tile"!==i&&(!t.tileInfo||s),u="tile"!==i&&(!t.tileInfo||s);return{operations:{supportsQuery:a,supportsExportMap:n,supportsExportTiles:l,supportsTileMap:o},exportMap:n?{supportsSublayersChanges:"tile"!==i,supportsDynamicLayers:s,supportsSublayerVisibility:c,supportsSublayerDefinitionExpression:u}:null,exportTiles:l?{maxExportTilesCount:+t.maxExportTilesCount}:null}}},{key:"readVersion",value:function(e,t){var r=t.currentVersion;return r||(r=t.hasOwnProperty("capabilities")||t.hasOwnProperty("tables")?10:t.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3),r}},{key:"fetchSublayerInfo",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLayersAndTables(r);case 2:return e.abrupt("return",this._allLayersAndTablesMap.get(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchAllLayersAndTables",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load(t);case 2:return this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=Object(j.default)(Object(v.I)(this.url).path+"/layers",{responseType:"json",query:Object(a.a)({f:"json"},this.customParameters)}).then((function(e){n._allLayersAndTablesMap=new Map;var t,r=Object(i.a)(e.data.layers);try{for(r.s();!(t=r.n()).done;){var a=t.value;n._allLayersAndTablesMap.set(a.id,a)}}catch(l){r.e(l)}finally{r.f()}return{result:e.data}}),(function(e){return{error:e}}))),e.next=5,this._allLayersAndTablesPromise;case 5:if(r=e.sent,Object(h.w)(t),!("result"in r)){e.next=8;break}return e.abrupt("return",r.result);case 8:throw r.error;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(e);return Object(f.a)([Object(b.b)({readOnly:!0})],t.prototype,"capabilities",void 0),Object(f.a)([Object(d.a)("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],t.prototype,"readCapabilities",null),Object(f.a)([Object(b.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(f.a)([Object(b.b)({type:m.a})],t.prototype,"fullExtent",void 0),Object(f.a)([Object(b.b)({json:{origins:{service:{read:!1},"portal-item":{read:!1}}}})],t.prototype,"id",void 0),Object(f.a)([Object(b.b)({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],t.prototype,"legendEnabled",void 0),Object(f.a)([Object(b.b)(g.g)],t.prototype,"popupEnabled",void 0),Object(f.a)([Object(b.b)({type:O.a})],t.prototype,"spatialReference",void 0),Object(f.a)([Object(b.b)()],t.prototype,"version",void 0),Object(f.a)([Object(d.a)("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],t.prototype,"readVersion",null),t=Object(f.a)([Object(y.a)("esri.layers.mixins.ArcGISMapService")],t)}},1004:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var i=r(12),a=r(2),n=r(3),l=r(34),o=r(61),s=r(55),c=r(5),u=r(6),p=r(0),f=(r(13),r(14)),b=(r(15),r(98)),d=r(1),y=r(8),v=r(23),h=(r(11),r(19),r(230)),O=(r(20),r(41)),m=r(201),j=r(949),g=r(926),w=f.a.getLogger("esri.layers.TileLayer"),S=O.a.ofType(j.a);function _(e,t){e&&e.forEach((function(e){t(e),e.sublayers&&e.sublayers.length&&_(e.sublayers,t)}))}var x=function(e){var t=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(a.a)(this,r);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).allSublayers=new m.a({root:Object(l.a)(e),rootCollectionNames:["sublayers"],getChildrenFunction:function(e){return e.sublayers}}),e.sublayersSourceJSON={2:{},3:{},4:{},5:{}},e.watch("sublayers",(function(t,r){return e._handleSublayersChange(t,r)}),!0),e}return Object(n.a)(r,[{key:"readSublayers",value:function(e,t){if(t&&e){var r=this.sublayersSourceJSON,i=Object(h.d)(t.origin);if(!(i<2)&&(r[i]={context:t,visibleLayers:e.visibleLayers||r[i].visibleLayers,layers:e.layers||r[i].layers},!(i>2))){this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);var a=this.createSublayersForOrigin("web-document"),n=a.sublayers,l=a.origin,o=Object(b.a)(this);o.setDefaultOrigin(l),this._set("sublayers",new S(n)),o.setDefaultOrigin("user")}}}},{key:"findSublayerById",value:function(e){return this.allSublayers.find((function(t){return t.id===e}))}},{key:"createServiceSublayers",value:function(){return this.createSublayersForOrigin("service").sublayers}},{key:"createSublayersForOrigin",value:function(e){var t,r=Object(h.d)("web-document"===e?"web-map":e),a=2,n=this.sublayersSourceJSON[2].layers,l=this.sublayersSourceJSON[2].context,o=null,s=[3,4,5].filter((function(e){return e<=r})),c=Object(i.a)(s);try{for(c.s();!(t=c.n()).done;){var u=t.value,p=this.sublayersSourceJSON[u];Object(g.b)(p.layers)&&(a=u,n=p.layers,l=p.context,p.visibleLayers&&(o={visibleLayers:p.visibleLayers,context:p.context}))}}catch(A){c.e(A)}finally{c.f()}var f,b=[3,4,5].filter((function(e){return e>a&&e<=r})),d=null,y=Object(i.a)(b);try{for(y.s();!(f=y.n()).done;){var v=f.value,O=this.sublayersSourceJSON[v],m=O.layers,w=O.visibleLayers,x=O.context;m&&(d={layers:m,context:x}),w&&(o={visibleLayers:w,context:x})}}catch(A){y.e(A)}finally{y.f()}var k=function(e,t){var r=[],i={};return e?(e.forEach((function(e){var a=new j.a;if(a.read(e,t),i[a.id]=a,null!=e.parentLayerId&&-1!==e.parentLayerId){var n=i[e.parentLayerId];n.sublayers||(n.sublayers=[]),n.sublayers.unshift(a)}else r.unshift(a)})),r):r}(n,l),I=new Map,L=new Set;if(d){var E,T=Object(i.a)(d.layers);try{for(T.s();!(E=T.n()).done;){var F=E.value;I.set(F.id,F)}}catch(A){T.e(A)}finally{T.f()}}if(o){var D,P=Object(i.a)(o.visibleLayers);try{for(P.s();!(D=P.n()).done;){var z=D.value;L.add(z)}}catch(A){P.e(A)}finally{P.f()}}return _(k,(function(e){d&&e.read(I.get(e.id),d.context),o&&e.read({defaultVisibility:L.has(e.id)},o.context)})),{origin:Object(h.b)(a),sublayers:new S({items:k})}}},{key:"read",value:function(e,t){Object(o.a)(Object(s.a)(r.prototype),"read",this).call(this,e,t),this.readSublayers(e,t)}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.remove("sublayers-owner")),e&&(e.forEach((function(e){e.parent=r,e.layer=r})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null}))],"sublayers-owner"),"tile"===this.type&&this.handles.add(e.on("before-changes",(function(e){w.error(new v.a("tilelayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{layer:r})),e.preventDefault()})),"sublayers-owner"))}}]),r}(e);return Object(p.a)([Object(d.b)({readOnly:!0})],t.prototype,"allSublayers",void 0),Object(p.a)([Object(d.b)({readOnly:!0,type:O.a.ofType(j.a)})],t.prototype,"serviceSublayers",void 0),Object(p.a)([Object(d.b)({value:null,type:S,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],t.prototype,"sublayers",void 0),Object(p.a)([Object(d.b)({readOnly:!0})],t.prototype,"sublayersSourceJSON",void 0),t=Object(p.a)([Object(y.a)("esri.layers.mixins.SublayersOwner")],t),t}},1030:function(e,t,r){"use strict";r.r(t);var i=r(9),a=r(2),n=r(3),l=r(5),o=r(6),s=r(0),c=(r(13),r(4)),u=(r(14),r(1)),p=r(73),f=r(63),b=r(8),d=r(47),y=r(23),v=r(11),h=(r(19),r(20),r(16)),O=r(44),m=(r(77),r(81)),j=r(244),g=r(796),w=r(386),S=r(788),_=r(810),x=r(867),k=r(381),I=r(846),L=r(803),E=r(802),T=r(380),F=r(158),D=r(985),P=r(1003),z=r(949),A=r(1004),V=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"],N=function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(a.a)(this,r);for(var i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).listMode="show",e.isReference=null,e.operationalLayerType="ArcGISTiledMapServiceLayer",e.resampling=!0,e.sourceJSON=null,e.spatialReference=null,e.path=null,e.sublayers=null,e.type="tile",e.url=null,e}return Object(n.a)(r,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(i.a)({url:e},t):e}},{key:"load",value:function(e){var t=this,r=Object(c.i)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).then((function(){return t._fetchService(r)}),(function(){return t._fetchService(r)}))),Object(h.u)(this)}},{key:"attributionDataUrl",get:function(){var e,t=null==(e=this.parsedUrl)?void 0:e.path.toLowerCase();return t&&this._getDefaultAttribution(this._getMapName(t))}},{key:"readSpatialReference",value:function(e,t){return(e=e||t.tileInfo&&t.tileInfo.spatialReference)&&O.a.fromJSON(e)}},{key:"writeSublayers",value:function(e,t,r,a){if(this.loaded&&e){var n=e.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).toArray(),l=[],o=Object(i.a)({writeSublayerStructure:!1},a);n.forEach((function(e){var t=e.write({},o);l.push(t)})),l.some((function(e){return Object.keys(e).length>1}))&&(t.layers=l)}}},{key:"tileServers",get:function(){return this._getDefaultTileServers(this.parsedUrl.path)}},{key:"castTileServers",value:function(e){return Array.isArray(e)?e.map((function(e){return Object(v.I)(e).path})):null}},{key:"fetchTile",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.signal,n=i.timestamp,l=this.getTileUrl(e,t,r),o={responseType:"image",signal:a};return null!=n&&(o.query={_ts:i.timestamp}),Object(m.default)(l,o).then((function(e){return e.data}))}},{key:"getTileUrl",value:function(e,t,r){var a=!this.tilemapCache&&this.supportsBlankTile,n=Object(v.C)(Object(i.a)(Object(i.a)({},this.parsedUrl.query),{},{blankTile:!a&&null},this.customParameters)),l=this.tileServers;return"".concat(l&&l.length?l[t%l.length]:this.parsedUrl.path,"/tile/").concat(e,"/").concat(t,"/").concat(r).concat(n?"?"+n:"")}},{key:"_fetchService",value:function(e){var t=this;return Object(h.c)((function(r,a){if(t.sourceJSON){if(null!=t.sourceJSON.bandCount&&null!=t.sourceJSON.pixelSizeX)throw new y.a("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");r({data:t.sourceJSON})}else{if(!t.parsedUrl)throw new y.a("tile-layer:undefined-url","layer's url is not defined");var n=Object(w.e)(t.parsedUrl.path);if(Object(c.i)(n)&&"ImageServer"===n.serverType)throw new y.a("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");Object(m.default)(t.parsedUrl.path,{query:Object(i.a)(Object(i.a)({f:"json"},t.parsedUrl.query),t.customParameters),responseType:"json",signal:e}).then(r,a)}})).then((function(r){if(r.ssl&&(t.url=t.url.replace(/^http:/i,"https:")),t.sourceJSON=r.data,t.read(r.data,{origin:"service",url:t.parsedUrl}),10.1===t.version&&!Object(w.c)(t.url))return t._fetchServerVersion(t.url,e).then((function(e){t.read({currentVersion:e})})).catch((function(){}))}))}},{key:"_fetchServerVersion",value:function(e,t){if(!Object(w.b)(e))return Object(h.t)();var r=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return Object(m.default)(r,{query:Object(i.a)({f:"json"},this.customParameters),responseType:"json",signal:t}).then((function(e){if(e.data&&e.data.currentVersion)return e.data.currentVersion;throw new y.a("tile-layer:version-not-available")}))}},{key:"_getMapName",value:function(e){var t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);return t&&t[2]}},{key:"_getDefaultAttribution",value:function(e){if(e){var t;e=e.toLowerCase();for(var r=0,i=V.length;r<i;r++)if((t=V[r]).toLowerCase().indexOf(e)>-1)return Object(v.y)("//static.arcgis.com/attribution/"+t)}}},{key:"_getDefaultTileServers",value:function(e){var t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),r=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||r?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}}]),r}(Object(k.a)(Object(A.a)(Object(T.a)(Object(E.a)(Object(_.a)(Object(L.a)(Object(D.a)(Object(P.a)(Object(x.a)(Object(g.a)(Object(F.b)(Object(I.a)(j.a)))))))))))));Object(s.a)([Object(u.b)({readOnly:!0,dependsOn:["parsedUrl"]})],N.prototype,"attributionDataUrl",null),Object(s.a)([Object(u.b)({type:["show","hide","hide-children"]})],N.prototype,"listMode",void 0),Object(s.a)([Object(u.b)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:function(){return{enabled:!1}}}}})],N.prototype,"isReference",void 0),Object(s.a)([Object(u.b)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],N.prototype,"operationalLayerType",void 0),Object(s.a)([Object(u.b)({type:Boolean})],N.prototype,"resampling",void 0),Object(s.a)([Object(u.b)()],N.prototype,"sourceJSON",void 0),Object(s.a)([Object(u.b)({type:O.a})],N.prototype,"spatialReference",void 0),Object(s.a)([Object(f.a)("spatialReference",["spatialReference","tileInfo"])],N.prototype,"readSpatialReference",null),Object(s.a)([Object(u.b)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],N.prototype,"path",void 0),Object(s.a)([Object(u.b)({readOnly:!0})],N.prototype,"sublayers",void 0),Object(s.a)([Object(d.a)("sublayers",{layers:{type:[z.a]}})],N.prototype,"writeSublayers",null),Object(s.a)([Object(u.b)({json:{read:!1,write:!1}})],N.prototype,"popupEnabled",void 0),Object(s.a)([Object(u.b)({dependsOn:["parsedUrl"]})],N.prototype,"tileServers",null),Object(s.a)([Object(p.a)("tileServers")],N.prototype,"castTileServers",null),Object(s.a)([Object(u.b)({readOnly:!0,json:{read:!1}})],N.prototype,"type",void 0),Object(s.a)([Object(u.b)(S.j)],N.prototype,"url",void 0);var M=N=Object(s.a)([Object(b.a)("esri.layers.TileLayer")],N);t.default=M},791:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(12),a=r(2),n=r(3);function l(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function o(e){return e.toLowerCase().trim()}var s=function(){function e(t){if(Object(a.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var r,n=[],s=Object(i.a)(t);try{for(s.s();!(r=s.n()).done;){var c=r.value,u=c&&c.name;if(u){var p=o(u);this._fieldsMap.set(u,c),this._fieldsMap.set(p,c),n.push(p),l(c)&&(this.dateFields.push(c),this._dateFieldsSet.add(c))}}}catch(f){s.e(f)}finally{s.f()}n.sort(),this.uid=n.join(",")}}return Object(n.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(o(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}()},793:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return b}));r(13);var i=r(4),a=r(110),n=r(150),l=r(118),o=r(232),s=r(799),c=l.a.fromJSON(s.a),u=a.a.fromJSON(s.c),p=n.a.fromJSON(s.b),f=o.a.fromJSON(s.d);function b(e){if(Object(i.h)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return p}return null}var d=l.a.fromJSON(s.e),y=a.a.fromJSON(s.g),v=n.a.fromJSON(s.f)},794:function(e,t,r){"use strict";var i,a=r(2),n=r(3),l=r(5),o=r(6),s=r(0),c=(r(13),r(24)),u=(r(14),r(15),r(1)),p=r(50),f=r(63),b=r(8),d=r(47),y=(r(11),r(19),r(20),r(28)),v=r(149),h=r(806),O=i=function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(){var e;return Object(a.a)(this,r),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(n.a)(r,[{key:"readExpression",value:function(e,t){return t.value?Object(h.a)(t.value):e}},{key:"writeExpression",value:function(e,t,r){null!=this.value&&(e=Object(h.a)(this.value)),t[r]=e}},{key:"clone",value:function(){return new i({expression:this.expression,title:this.title,value:this.value})}}]),r}(y.a);Object(s.a)([Object(u.b)({type:String,json:{write:{allowNull:!0}}})],O.prototype,"expression",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],O.prototype,"title",void 0),Object(s.a)([Object(u.b)({json:{read:!1,write:!1}})],O.prototype,"value",void 0),Object(s.a)([Object(f.a)("expression",["expression","value"])],O.prototype,"readExpression",null),Object(s.a)([Object(d.a)("expression")],O.prototype,"writeExpression",null);var m,j=O=i=Object(s.a)([Object(b.a)("esri.layers.support.LabelExpressionInfo")],O),g=r(793),w=new p.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function S(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}var _=m=function(e){Object(l.a)(r,e);var t=Object(o.a)(r);function r(e){var i;return Object(a.a)(this,r),(i=t.call(this,e)).type="label",i.name=null,i.deconflictionStrategy="static",i.labelExpression=null,i.labelExpressionInfo=null,i.labelPlacement=null,i.maxScale=0,i.minScale=0,i.symbol=g.a,i.useCodedValues=void 0,i.where=null,i}return Object(n.a)(r,[{key:"readLabelExpression",value:function(e,t){var r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}},{key:"writeLabelExpression",value:function(e,t,r,i){if(this.labelExpressionInfo&&(S(i)||i&&"service"===i.origin))if(null!=this.labelExpressionInfo.value)e=Object(h.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var a=Object(h.e)(this.labelExpressionInfo.expression);a&&(e="["+a+"]")}null!=e&&(t[r]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,r,i){if(null==e&&null!=this.labelExpression&&S(i))e=new j({expression:this.getLabelExpressionArcade()});else if(!e)return;var a=e.toJSON(i);a.expression&&(t[r]=a)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(h.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(h.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(h.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new m({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(c.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(c.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var r=function(e,t,r){switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;var i=e.split(" ");if(3===i.length)return r(t[i[0]],i[1],i[2]);if(7===i.length){var a=r(t[i[0]],i[1],i[2]),n=i[3],l=r(t[i[4]],i[5],i[6]);switch(n){case"AND":return a&&l;case"OR":return a||l}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}}]),r}(y.a);Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],_.prototype,"name",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],_.prototype,"deconflictionStrategy",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:{allowNull:!0}}})],_.prototype,"labelExpression",void 0),Object(s.a)([Object(f.a)("labelExpression")],_.prototype,"readLabelExpression",null),Object(s.a)([Object(d.a)("labelExpression")],_.prototype,"writeLabelExpression",null),Object(s.a)([Object(u.b)({type:j,json:{write:{overridePolicy:function(e,t,r){return S(r)?{allowNull:!0}:{enabled:!1}}}}})],_.prototype,"labelExpressionInfo",void 0),Object(s.a)([Object(d.a)("labelExpressionInfo")],_.prototype,"writeLabelExpressionInfo",null),Object(s.a)([Object(u.b)({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],_.prototype,"labelPlacement",void 0),Object(s.a)([Object(u.b)({type:Number})],_.prototype,"maxScale",void 0),Object(s.a)([Object(d.a)("maxScale")],_.prototype,"writeMaxScale",null),Object(s.a)([Object(u.b)({type:Number})],_.prototype,"minScale",void 0),Object(s.a)([Object(d.a)("minScale")],_.prototype,"writeMinScale",null),Object(s.a)([Object(u.b)({types:v.d,json:{origins:{"web-scene":{types:v.g,write:v.j,default:null}},write:v.j,default:null}})],_.prototype,"symbol",void 0),Object(s.a)([Object(u.b)({type:Boolean,json:{write:!0}})],_.prototype,"useCodedValues",void 0),Object(s.a)([Object(u.b)({type:String,json:{write:!0}})],_.prototype,"where",void 0);var x=_=m=Object(s.a)([Object(b.a)("esri.layers.support.LabelClass")],_);t.a=x},795:function(e,t,r){"use strict";function i(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function a(e){return null!=e&&!isNaN(e)&&isFinite(e)}function n(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function l(e,t){var r=t||n(e),i=e.valueUnit||"unknown";return"unknown"===r?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return a}))},799:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c}));var i=[252,146,31,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},o={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},s={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},802:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var i=r(2),a=r(3),n=r(5),l=r(6),o=r(0),s=(r(13),r(14),r(15),r(1)),c=r(8),u=(r(11),r(19),r(20),function(e){var t=function(e){Object(n.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).refreshInterval=0,e}return Object(a.a)(r,[{key:"refresh",value:function(){this.emit("refresh")}}]),r}(e);return Object(o.a)([Object(s.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),t=Object(o.a)([Object(c.a)("esri.layers.mixins.RefreshableLayer")],t)})},805:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v}));var i=r(26),a=r(12),n=r(4),l=r(98),o=r(33),s=r(41),c=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function u(e){return e instanceof o.a}function p(e){return e instanceof s.a?Object.keys(e.items):u(e)?Object(l.a)(e).keys():e?Object.keys(e):[]}function f(e,t){return e instanceof s.a?e.items[t]:e[t]}function b(e){return e?e.declaredClass:null}function d(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var l=p(e),o=p(t);if(0!==l.length||0!==o.length){if(!l.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var s,y=o.filter((function(e){return-1===l.indexOf(e)})),v=l.filter((function(e){return-1===o.indexOf(e)})),h=l.filter((function(r){return o.indexOf(r)>-1&&f(e,r)!==f(t,r)})).concat(y,v).sort(),O=b(e);if(O&&c.indexOf(O)>-1&&h.length)return{type:"complete",oldValue:e,newValue:t};var m,j=u(e)&&u(t),g=Object(a.a)(h);try{for(g.s();!(m=g.n()).done;){var w=m.value,S=f(e,w),_=f(t,w),x=void 0;(j||"function"!=typeof S&&"function"!=typeof _)&&S!==_&&(null==S&&null==_||(x=r&&r[w]&&"function"==typeof r[w]?r[w](S,_):"object"==typeof S&&"object"==typeof _&&b(S)===b(_)?d(S,_):{type:"complete",oldValue:S,newValue:_},Object(n.i)(x)&&(Object(n.i)(s)?s.diff[w]=x:s={type:"partial",diff:Object(i.a)({},w,x)})))}}catch(k){g.e(k)}finally{g.f()}return s}}function y(e,t){if(Object(n.h)(e))return!1;var r,i=t.split("."),l=e,o=Object(a.a)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if("complete"===l.type)return!0;if("partial"!==l.type)return!1;var c=l.diff[s];if(!c)return!1;l=c}}catch(u){o.e(u)}finally{o.f()}return!0}function v(e,t){var r,i=Object(a.a)(t);try{for(i.s();!(r=i.n()).done;){if(y(e,r.value))return!0}}catch(n){i.e(n)}finally{i.f()}return!1}function h(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&b(e)!==b(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},806:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return s}));var i=r(108),a=new RegExp("__begin__","ig"),n=new RegExp("__end__","ig"),l=new RegExp("^__begin__","i"),o=new RegExp("__end__$","i");function s(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function c(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function u(e){var t=c(e);if(!t)return null;switch(t.type){case"conventional":return f(t.expression);case"arcade":return t.expression}return null}function p(e){var t=c(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(b);return t&&t[1].trim()||null}(t.expression);case"arcade":return h(t.expression)}return null}function f(e){var t;return e?(t=Object(i.c)(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),t=l.test(t)?t.replace(l,""):'"'+t,t=(t=o.test(t)?t.replace(o,""):t+'"').replace(a,'" + ').replace(n,' + "')):t='""',t}var b=/^\s*\{([^}]+)\}\s*$/i;var d=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,y=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,v=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function h(e){if(!e)return null;var t=d.exec(e)||y.exec(e);return t?t[1]||t[3]:(t=v.exec(e))?t[2]:null}},807:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u}));var i=r(32),a=r(12),n=r(2),l=r(3),o=r(129),s=-3,c=function(){function e(t,r,i){Object(n.a)(this,e),this._namespace=t,this._storage=r,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",i&&(this._storage.registerRemoveFunc(this._namespace,i),this._removeFunc=!0)}return Object(l.a)(e,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}},{key:"put",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,r,i)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;Object(n.a)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new o.a}return Object(l.a)(e,[{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs=this._removeFuncs.filter((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,r,i){var a=this._db.get(e);if(a&&(this._size-=a.size,this._db.delete(e),a.entry!==t&&this._notifyRemoved(e,a.entry)),r>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!r||r<0)console.warn("Refusing to cache entry with invalid size "+r);else{var n=1+Math.max(i,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:n,lives:n}),this._size+=r,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r){var i=this._db.get(e);i&&i.entry===t&&(this._size-=i.size,r>this._maxSize?this._notifyRemoved(e,t):(i.size=r,this._size+=r,this._checkSizeLimit()))}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=new Array;this._db.forEach((function(t,a){var n=t.lifetime;i[n]=(i[n]||0)+t.size,e._users.forAll((function(e){var i=e.namespace;if(a.startsWith(i)){var n=r[i]||0;r[i]=n+t.size}}))}));var a={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var i=r[t]||0;r[t]=i,a[t]=Math.round(100*e.hitRate)+"%"}else a[t]="0%"}));var n=Object.keys(r);n.forEach((function(t){return r[t]=r[t]/e._size*100})),n.sort((function(e,t){return r[t]-r[e]})),n.forEach((function(e){return t[e]=Math.round(r[e])+"% / "+a[e]}));for(var l=i.length-1;l>=0;--l){var o=i[l];o&&(t["Priority "+(l+-3-1)]=Math.round(o/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(r,i){i.startsWith(e)&&(t._size-=r.size,t._db.delete(i),t._notifyRemoved(i,r.entry))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemoved(r,t.entry)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemoved",value:function(e,t){this._removeFuncs.forEach((function(r){e.startsWith(r[0])&&r[1](t)}))}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=Object(a.a)(this._db);try{for(t.s();!(e=t.n()).done;){var r=Object(i.a)(e.value,2),n=r[0],l=r[1];if(this._db.delete(n),l.lives<=1?(this._size-=l.size,this._notifyRemoved(n,l.entry)):(--l.lives,this._db.set(n,l)),this._size<=.9*this.maxSize)return}}catch(o){t.e(o)}finally{t.f()}}}}]),e}()},813:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var i=r(157),a=(r(130),r(214)),n=(r(308),r(309)),l=r(215),o=r(216),s=(r(217),r(178),r(277)),c=["oid","global-id"],u=["oid","global-id","guid"];function p(e,t){var r=e.displayField,n=e.editFieldsInfo,l=e.fields,c=e.objectIdField,u=e.title;if(!l)return null;var p=h({editFieldsInfo:n,fields:l,objectIdField:c},t);if(!p.length)return null;var f=function(e){var t=Object(i.l)(e),r=e.titleBase;return t?"".concat(r,": {").concat(t.trim(),"}"):r}({titleBase:u,fields:l,displayField:r}),b=[new o.a,new a.a];return new s.a({title:f,content:b,fieldInfos:p})}var f=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],b=function(e,t){var r=t.editFieldsInfo,i=t.objectIdField,a=t.visibleFieldNames;return a?a.has(e.name):!y(e.name,r)&&(!i||e.name!==i)&&!(c.indexOf(e.type)>-1)&&!f.some((function(t){return t.test(e.name)}))};function d(e,t){return"oid"===e.type?-1:"oid"===t.type?1:m(e)?-1:m(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function y(e,t){if(!e||!t)return!1;var r=t.creationDateField,i=t.creatorField,a=t.editDateField,n=t.editorField;return-1!==[r&&r.toLowerCase(),i&&i.toLowerCase(),a&&a.toLowerCase(),n&&n.toLowerCase()].indexOf(e.toLowerCase())}function v(e,t){return e.editable&&-1===u.indexOf(e.type)&&!y(e.name,t)}function h(e,t){var r=e.editFieldsInfo,i=e.fields,a=e.objectIdField;return function(e,t){var r=e;return t&&(e=e.filter((function(e){return-1===t.indexOf(e.type)}))),e===r&&(e=e.slice()),e.sort(d),e}(i,(null==t?void 0:t.ignoreFieldTypes)||j).map((function(e){return new l.a({fieldName:e.name,isEditable:v(e,r),label:e.alias,format:O(e),visible:b(e,{editFieldsInfo:r,objectIdField:a,visibleFieldNames:null==t?void 0:t.visibleFieldNames})})}))}function O(e){switch(e.type){case"small-integer":case"integer":case"single":return new n.a({digitSeparator:!0,places:0});case"double":return new n.a({digitSeparator:!0,places:2});case"date":return new n.a({dateFormat:"long-month-day-year"});default:return null}}function m(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var j=["geometry","blob","raster","guid","xml"]},817:function(e,t,r){"use strict";var i=r(2),a=r(3),n=r(5),l=r(6),o=r(0),s=(r(13),r(24)),c=(r(14),r(15),r(1)),u=r(50),p=r(8),f=r(47),b=(r(11),r(19),r(20),r(28)),d=new u.a({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),y=function(e){Object(n.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).name=null,a.description=null,a.drawingTool=null,a.prototype=null,a.thumbnail=null,a}return Object(a.a)(r,[{key:"writeDrawingTool",value:function(e,t){t.drawingTool=d.toJSON(e)}},{key:"writePrototype",value:function(e,t){t.prototype=Object(s.c)(Object(s.a)(e),!0)}},{key:"writeThumbnail",value:function(e,t){t.thumbnail=Object(s.c)(Object(s.a)(e))}}]),r}(b.a);Object(o.a)([Object(c.b)({json:{write:!0}})],y.prototype,"name",void 0),Object(o.a)([Object(c.b)({json:{write:!0}})],y.prototype,"description",void 0),Object(o.a)([Object(c.b)({json:{read:d.read,write:d.write}})],y.prototype,"drawingTool",void 0),Object(o.a)([Object(f.a)("drawingTool")],y.prototype,"writeDrawingTool",null),Object(o.a)([Object(c.b)({json:{write:!0}})],y.prototype,"prototype",void 0),Object(o.a)([Object(f.a)("prototype")],y.prototype,"writePrototype",null),Object(o.a)([Object(c.b)({json:{write:!0}})],y.prototype,"thumbnail",void 0),Object(o.a)([Object(f.a)("thumbnail")],y.prototype,"writeThumbnail",null);var v=y=Object(o.a)([Object(p.a)("esri.layers.support.FeatureTemplate")],y);t.a=v},821:function(e,t,r){"use strict";r.d(t,"a",(function(){return _})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return O})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return w})),r.d(t,"g",(function(){return y}));var i=r(12),a=r(32),n=r(174),l=r(4),o=r(14),s=r(52),c=r(75),u=r(305),p=r(795),f=o.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),b=new c.a,d=Math.PI,y=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function v(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(i)if("esri.renderers.visualVariables.ColorVariable"===i.declaredClass){var a="number"==typeof t,n=a?null:t,o=n&&n.attributes,c=a?t:null,u=i.field,p=i.cache,b=p.ipData,d=p.hasExpression,y=i.cache.compiledFunc;if(!u&&!d){var v=i.stops;return v&&v[0]&&v[0].color}if("number"!=typeof c)if(d){if(!Object(l.i)(r)||!Object(l.i)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");var h={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},O=r.arcade.arcadeUtils,m=O.getViewInfo(h),j=O.createExecContext(n,m);if(!y){var g=O.createSyntaxTree(i.valueExpression);y=O.createFunction(g),i.cache.compiledFunc=y}c=O.executeFunction(y,j)}else o&&(c=o[u]);var w=i.normalizationField,_=o?parseFloat(o[w]):void 0;if(null!=c&&(!w||a||!isNaN(_)&&0!==_)){isNaN(_)||a||(c/=_);var x=S(c,b);if(x){var k=x[0],I=x[1],L=k===I?i.stops[k].color:s.a.blendColors(i.stops[k].color,i.stops[I].color,x[2],Object(l.i)(r)?r.color:void 0);return new s.a(L)}}}else f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function h(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(i)if("esri.renderers.visualVariables.OpacityVariable"===i.declaredClass){var a="number"==typeof t,n=a?null:t,o=n&&n.attributes,s=a?t:null,c=i.field,u=i.cache,p=u.ipData,b=u.hasExpression,d=i.cache.compiledFunc;if(!c&&!b){var y=i.stops;return y&&y[0]&&y[0].opacity}if("number"!=typeof s)if(b){if(Object(l.h)(r)||Object(l.h)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");var v={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},h=r.arcade.arcadeUtils,O=h.getViewInfo(v),m=h.createExecContext(n,O);if(!d){var j=h.createSyntaxTree(i.valueExpression);d=h.createFunction(j),i.cache.compiledFunc=d}s=h.executeFunction(d,m)}else o&&(s=o[c]);var g=i.normalizationField,w=o?parseFloat(o[g]):void 0;if(null!=s&&(!g||a||!isNaN(w)&&0!==w)){isNaN(w)||a||(s/=w);var _=S(s,p);if(_){var x=_[0],k=_[1];if(x===k)return i.stops[x].opacity;var I=i.stops[x].opacity;return I+(i.stops[k].opacity-I)*_[2]}}}else f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function O(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(i){if("esri.renderers.visualVariables.RotationVariable"===i.declaredClass){var a=i.axis||"heading",n="heading"===a&&"arithmetic"===i.rotationType?90:0,o="heading"===a&&"arithmetic"===i.rotationType?-1:1,s="number"==typeof t?null:t,c=s&&s.attributes,u=i.field,p=i.cache.hasExpression,b=i.cache.compiledFunc,d=0;if(!u&&!p)return d;if(p){if(Object(l.h)(r)||Object(l.h)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");var y={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},v=r.arcade.arcadeUtils,h=v.getViewInfo(y),O=v.createExecContext(s,h);if(!b){var m=v.createSyntaxTree(i.valueExpression);b=v.createFunction(m),i.cache.compiledFunc=b}d=v.executeFunction(b,O)}else c&&(d=c[u]||0);return d="number"!=typeof d||isNaN(d)?null:n+o*d}f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function m(e,t,r){var i="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(i){if("esri.renderers.visualVariables.SizeVariable"===i.declaredClass){var n=function(e,t,r,i,n){switch(t.transformationType){case"additive":return function(e,t,r,i){return e+(j(t.minSize,r,i)||t.minDataValue)}(e,t,r,i);case"constant":return function(e,t,r){var i=e.stops,a=i&&i.length&&i[0].size;return null==a&&(a=e.minSize),j(a,t,r)}(t,r,i);case"clamped-linear":return function(e,t,r,i){var a=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),n=j(t.minSize,r,i),o=j(t.maxSize,r,i),s=Object(l.i)(i)?i.shape:void 0;if(e<=t.minDataValue)return n;if(e>=t.maxDataValue)return o;if("area"===t.scaleBy&&s){var c="circle"===s,u=c?d*Math.pow(n/2,2):n*n,p=u+a*((c?d*Math.pow(o/2,2):o*o)-u);return c?2*Math.sqrt(p/d):Math.sqrt(p)}return n+a*(o-n)}(e,t,r,i);case"proportional":return function(e,t,r,i){var a=Object(l.i)(i)?i.shape:void 0,n=e/t.minDataValue,o=j(t.minSize,r,i),s=j(t.maxSize,r,i);return g("circle"===a?2*Math.sqrt(n*Math.pow(o/2,2)):"square"===a||"diamond"===a||"image"===a?Math.sqrt(n*Math.pow(o,2)):n*o,o,s)}(e,t,r,i);case"stops":return function(e,t,r,i,n){var l=S(e,n),o=Object(a.a)(l,3),s=o[0],c=o[1],u=o[2];if(s===c)return j(t.stops[s].size,r,i);var p=j(t.stops[s].size,r,i);return p+(j(t.stops[c].size,r,i)-p)*u}(e,t,r,i,n);case"real-world-size":return function(e,t,r,i){var a=(Object(l.i)(i)&&i.resolution?i.resolution:1)*u.a[t.valueUnit],n=j(t.minSize,r,i),o=j(t.maxSize,r,i),s=t.valueRepresentation;return g("area"===s?2*Math.sqrt(e/d)/a:"radius"===s||"distance"===s?2*e/a:e/a,n,o)}(e,t,r,i);case"identity":return e;case"unknown":return null}}(function(e,t,r){var i="number"==typeof t,a=i?null:t,n=a&&a.attributes,o=i?t:null,s=e.cache.isScaleDriven,c=e.cache.compiledFunc;if(s){var u=Object(l.i)(r)?r.scale:void 0,b=Object(l.i)(r)?r.view:void 0;o=null==u||"3d"===b?function(e){var t=null,r=null,i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}(e):u}else if(!i)switch(e.inputValueType){case"expression":if(Object(l.h)(r)||Object(l.h)(r.arcade))return void f.error("Use of arcade expressions requires an arcade context");var d={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},y=r.arcade.arcadeUtils,v=y.getViewInfo(d),h=y.createExecContext(a,v);if(!c){var O=y.createSyntaxTree(e.valueExpression);c=y.createFunction(O),e.cache.compiledFunc=c}o=y.executeFunction(c,h);break;case"field":n&&(o=n[e.field]);break;case"unknown":o=null}if(!Object(p.d)(o))return null;if(i||!e.normalizationField)return o;var m=n?parseFloat(n[e.normalizationField]):null;return Object(p.d)(m)&&0!==m?o/m:null}(i,t,r),i,t,r,i.cache.ipData);return null==n||isNaN(n)?0:n}f.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function j(e,t,r){return null==e?null:Object(p.c)(e)?m(e,t,r):Object(p.d)(e)?e:null}function g(e,t,r){return Object(p.d)(r)&&e>r?r:Object(p.d)(t)&&e<t?t:e}function w(e,t,r){if(!(e.cache.isScaleDriven&&"3d"===r||t))return null;var i={scale:t,view:r},a=j(e.minSize,b,i),n=j(e.maxSize,b,i);if(null!=a||null!=n){if(a>n){var l=n;n=a,a=l}return{minSize:a,maxSize:n}}}function S(e,t){if(t){var r=0,i=t.length-1;return t.some((function(t,a){return e<t?(i=a,!0):(r=a,!1)})),[r,i,(e-t[r])/(t[i]-t[r])]}}function _(e,t,r){var a,l=["proportional","proportional","proportional"],o=Object(i.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.useSymbolValue?"symbol-value":m(s,t,r);switch(s.axis){case"width":l[0]=c;break;case"depth":l[1]=c;break;case"height":l[2]=c;break;case"width-and-depth":l[0]=c,l[1]=c;break;case"all":case void 0:case null:l[0]=c,l[1]=c,l[2]=c;break;default:Object(n.a)(s.axis)}}}catch(u){o.e(u)}finally{o.f()}return l}},837:function(e,t,r){"use strict";var i=r(2),a=r(3),n=r(5),l=r(6),o=r(0),s=(r(13),r(24)),c=(r(14),r(15),r(1)),u=r(63),p=r(8),f=r(47),b=(r(11),r(19),r(20),r(28)),d=r(283),y=r(281),v=r(282),h=(r(213),r(817)),O=function(e){Object(n.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).id=null,a.name=null,a.domains=null,a.templates=null,a}return Object(a.a)(r,[{key:"readDomains",value:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];switch(i.type){case"range":t[r]=v.a.fromJSON(i);break;case"codedValue":t[r]=d.a.fromJSON(i);break;case"inherited":t[r]=y.a.fromJSON(i)}}return t}},{key:"writeDomains",value:function(e,t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]&&e[i].toJSON());Object(s.c)(r),t.domains=r}},{key:"readTemplates",value:function(e){return e&&e.map((function(e){return new h.a(e)}))}},{key:"writeTemplates",value:function(e,t){t.templates=e&&e.map((function(e){return e.toJSON()}))}}]),r}(b.a);Object(o.a)([Object(c.b)({json:{write:!0}})],O.prototype,"id",void 0),Object(o.a)([Object(c.b)({json:{write:!0}})],O.prototype,"name",void 0),Object(o.a)([Object(c.b)({json:{write:!0}})],O.prototype,"domains",void 0),Object(o.a)([Object(u.a)("domains")],O.prototype,"readDomains",null),Object(o.a)([Object(f.a)("domains")],O.prototype,"writeDomains",null),Object(o.a)([Object(c.b)({json:{write:!0}})],O.prototype,"templates",void 0),Object(o.a)([Object(u.a)("templates")],O.prototype,"readTemplates",null),Object(o.a)([Object(f.a)("templates")],O.prototype,"writeTemplates",null);var m=O=Object(o.a)([Object(p.a)("esri.layers.support.FeatureType")],O);t.a=m},846:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var i=r(2),a=r(5),n=r(6),l=r(0),o=(r(13),r(14),r(15),r(1)),s=r(8),c=(r(11),r(19),r(20),function(e){var t=function(e){Object(a.a)(r,e);var t=Object(n.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).customParameters=null,e}return r}(e);return Object(l.a)([Object(o.b)({json:{write:!0,origins:{"web-scene":{write:!1}}}})],t.prototype,"customParameters",void 0),t=Object(l.a)([Object(s.a)("esri.layers.mixins.CustomParametersMixin")],t)})},921:function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var i=r(10),a=r.n(i),n=r(21),l=r(9),o=r(2),s=r(3),c=r(5),u=r(6),p=r(0),f=(r(13),r(14)),b=r(1),d=r(73),y=r(8),v=r(23),h=r(11),O=(r(19),r(20),r(129)),m=r(16),j=r(102),g=r(33),w=r(81),S=r(56),_=r(30),x=r(820),k=r(24),I=r(132),L=function(){function e(){Object(o.a)(this,e),this.location={left:0,top:0,width:0,height:0},this._allAvailability="unknown",this.byteSize=40}return Object(s.a)(e,[{key:"getAvailability",value:function(e,t){if("unknown"!==this._allAvailability)return this._allAvailability;var r=(e-this.location.top)*this.location.width+(t-this.location.left),i=r%8,a=r>>3,n=this._tileAvailabilityBitSet;return a<0||a>n.length?"unknown":n[a]&1<<i?"available":"unavailable"}},{key:"_updateFromData",value:function(e){for(var t=this.location.width,r=this.location.height,i=!0,a=!0,n=Math.ceil(t*r/8),l=new Uint8Array(n),o=0,s=0;s<e.length;s++){var c=s%8;e[s]?(a=!1,l[o]|=1<<c):i=!1,7===c&&++o}a?this._allAvailability="unavailable":i?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=l,this.byteSize+=l.length)}}],[{key:"fromDefinition",value:function(t,r){var i=t.service.request||w.default,a=t.row,n=t.col,o=t.width,s=t.height,c={query:{f:"json"}};return r=r?Object(l.a)(Object(l.a)({},c),r):c,i(function(e){var t;if("vector-tile"===e.service.type)t="".concat(e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height);else{var r=e.service.tileServers;t="".concat(r&&r.length?r[e.row%r.length]:e.service.url,"/tilemap/").concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var i=e.service.query;return i&&(t="".concat(t,"?").concat(i)),t}(t),r).then((function(e){return e.data})).catch((function(e){if(e&&e.details&&422===e.details.httpStatus)return{location:{top:a,left:n,width:o,height:s},valid:!0,data:Object(I.b)(o*s,0)};throw e})).then((function(t){if(t.location&&(t.location.top!==a||t.location.left!==n||t.location.width!==o||t.location.height!==s))throw new v.a("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:a,left:n,width:o,height:s}});return e.fromJSON(t)}))}},{key:"fromJSON",value:function(t){e.validateJSON(t);var r=new e;return r.location=Object.freeze(Object(k.a)(t.location)),r._updateFromData(t.data),Object.freeze(r)}},{key:"validateJSON",value:function(e){if(!e||!e.location)throw new v.a("tilemap:missing-location","Location missing from tilemap response");if(!1===e.valid)throw new v.a("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new v.a("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new v.a("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new v.a("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}]),e}();function E(e){return"".concat(e.level,"/").concat(e.row,"/").concat(e.col,"/").concat(e.width,"/").concat(e.height)}var T,F=f.a.getLogger("esri.layers.support.TilemapCache"),D=T=function(e){Object(c.a)(r,e);var t=Object(u.a)(r);function r(e){var i;return Object(o.a)(this,r),(i=t.call(this,e))._handles=new S.a,i._pendingTilemapRequests={},i._availableLevels={},i.levels=5,i.cacheByteSize=2097152,i.request=w.default,i._prefetchingEnabled=!0,i}return Object(s.a)(r,[{key:"initialize",value:function(){var e=this;this._tilemapCache=new x.a(this.cacheByteSize),this._handles.add([this.watch(["layer.parsedUrl","layer.tileServers?"],(function(){return e._initializeTilemapDefinition()})),Object(_.a)(this,"layer.tileInfo.lods",(function(t){return e._initializeAvailableLevels(t)}),!0)]),this._initializeTilemapDefinition()}},{key:"destroy",value:function(){this._handles&&(this._handles.destroy(),this._handles=null)}},{key:"castLevels",value:function(e){return e<=2?(F.error("Minimum levels for Tilemap is 3, but got ",e),3):e}},{key:"size",get:function(){return 1<<this.levels}},{key:"fetchTilemap",value:function(e,t,r,i){var a=this;if(!this._availableLevels[e])return Object(m.t)(new v.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")));var n=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,r,n);if(o)return Object(m.u)(o);var s=i&&i.signal;return i=Object(l.a)(Object(l.a)({},i),{},{signal:null}),Object(m.c)((function(e,t){Object(m.r)(s,(function(){return t(Object(m.e)())}));var r=E(n),l=a._pendingTilemapRequests[r];if(!l){l=L.fromDefinition(n,i).then((function(e){return a._tilemapCache.put(r,e,e.byteSize),e}));var o=function(){return delete a._pendingTilemapRequests[r]};a._pendingTilemapRequests[r]=l,l.then(o,o)}l.then(e,t)}))}},{key:"getAvailability",value:function(e,t,r){if(!this._availableLevels[e])return"unavailable";var i=this._tilemapFromCache(e,t,r,this._tmpTilemapDefinition);return i?i.getAvailability(t,r):"unknown"}},{key:"getAvailabilityUpsample",value:function(e,t,r,i){i.level=e,i.row=t,i.col=r;var a=this.layer.tileInfo;for(a.updateTileInfo(i);;){var n=this.getAvailability(i.level,i.row,i.col);if("unavailable"!==n)return n;if(!a.upsampleTile(i))return"unavailable"}}},{key:"fetchAvailability",value:function(e,t,r,i){return this._availableLevels[e]?this.fetchTilemap(e,t,r,i).catch((function(e){return e})).then((function(i){if(i instanceof L){var a=i.getAvailability(t,r);return"unavailable"===a?Object(m.t)(new v.a("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:r})):a}if(Object(m.n)(i))throw i;return"unknown"})):Object(m.t)(new v.a("tilemap-cache:level-unavailable","Level ".concat(e," is unavailable in the service")))}},{key:"fetchAvailabilityUpsample",value:function(e,t,r,i,a){var n=this;i.level=e,i.row=t,i.col=r;var l=this.layer.tileInfo;l.updateTileInfo(i);var o=this.fetchAvailability(e,t,r,a).catch((function(e){if(Object(m.n)(e))throw e;if(l.upsampleTile(i))return n.fetchAvailabilityUpsample(i.level,i.row,i.col,i);throw e}));return this._fetchAvailabilityUpsamplePrefetch(i.id,e,t,r,a,o),o}},{key:"_fetchAvailabilityUpsamplePrefetch",value:function(){var e=Object(n.a)(a.a.mark((function e(t,r,i,n,o,s){var c,u,p,f,b,d,y,v,h,O=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._prefetchingEnabled){e.next=2;break}return e.abrupt("return");case 2:if(c="prefetch-".concat(t),!this._handles.has(c)){e.next=5;break}return e.abrupt("return");case 5:return u=Object(m.d)(),s.then((function(){return u.abort()}),(function(){return u.abort()})),p=!1,f={remove:function(){p||(p=!0,u.abort())}},this._handles.add(f,c),e.next=12,Object(j.c)(10,u.signal).catch((function(){}));case 12:if(p||(p=!0,this._handles.remove(c)),!Object(m.o)(u)){e.next=15;break}return e.abrupt("return");case 15:for(b={id:t,level:r,row:i,col:n},d=Object(l.a)(Object(l.a)({},o),{},{signal:u.signal}),y=this.layer.tileInfo,v=function(e){var t=O.fetchAvailability(b.level,b.row,b.col,d);T._prefetches.push(t);var r=function(){T._prefetches.removeUnordered(t)};t.then(r,r)},h=0;T._prefetches.length<T._maxPrefetch&&y.upsampleTile(b);++h)v();case 18:case"end":return e.stop()}}),e,this)})));return function(t,r,i,a,n,l){return e.apply(this,arguments)}}()},{key:"_initializeTilemapDefinition",value:function(){if(this.layer.parsedUrl){var e=this.layer.parsedUrl,t=e.query;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:t?Object(h.C)(t):null,tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}}},{key:"_tilemapFromCache",value:function(e,t,r,i){i.level=e,i.row=t-t%this.size,i.col=r-r%this.size;var a=E(i);return this._tilemapCache.get(a)}},{key:"_initializeAvailableLevels",value:function(e){var t=this;this._availableLevels={},e&&e.forEach((function(e){return t._availableLevels[e.level]=!0}))}},{key:"test",get:function(){var e=this;return{get prefetchingEnabled(){return e._prefetchingEnabled},set prefetchingEnabled(t){e._prefetchingEnabled=t},hasTilemap:function(t,r,i){return!!e._tilemapFromCache(t,r,i,e._tmpTilemapDefinition)}}}}]),r}(g.a);D._maxPrefetch=4,D._prefetches=new O.a({initialSize:T._maxPrefetch}),Object(p.a)([Object(b.b)({constructOnly:!0,type:Number})],D.prototype,"levels",void 0),Object(p.a)([Object(d.a)("levels")],D.prototype,"castLevels",null),Object(p.a)([Object(b.b)({readOnly:!0,dependsOn:["levels"],type:Number})],D.prototype,"size",null),Object(p.a)([Object(b.b)({constructOnly:!0,type:Number})],D.prototype,"cacheByteSize",void 0),Object(p.a)([Object(b.b)({constructOnly:!0})],D.prototype,"layer",void 0),Object(p.a)([Object(b.b)({constructOnly:!0})],D.prototype,"request",void 0),D=T=Object(p.a)([Object(y.a)("esri.layers.support.TilemapCache")],D)},926:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var i=r(12);function a(e,t,r){return t.flatten((function(e){return e.sublayers})).length!==e.length||(!!e.some((function(e){return e.originIdOf("minScale")>r||e.originIdOf("maxScale")>r||e.originIdOf("renderer")>r||e.originIdOf("labelingInfo")>r||e.originIdOf("opacity")>r||e.originIdOf("labelsVisible")>r||e.originIdOf("source")>r}))||!l(e,t))}function n(e,t,r){return!!e.some((function(e){var t=e.source;return!(!t||"map-layer"===t.type&&t.mapLayerId===e.id&&(!t.gdbVersion||t.gdbVersion===r.gdbVersion))||e.originIdOf("renderer")>2||e.originIdOf("labelingInfo")>2||e.originIdOf("opacity")>2||e.originIdOf("labelsVisible")>2}))||!l(e,t)}function l(e,t){if(!e||!e.length)return!0;var r=t.slice().reverse().flatten((function(e){var t=e.sublayers;return t&&t.toArray().reverse()})).map((function(e){return e.id})).toArray();if(e.length>r.length)return!1;var a,n=0,l=r.length,o=Object(i.a)(e);try{for(o.s();!(a=o.n()).done;){for(var s=a.value.id;n<l&&r[n]!==s;)n++;if(n>=l)return!1}}catch(c){o.e(c)}finally{o.f()}return!0}function o(e){return!!e&&e.some((function(e){return null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale}))}},945:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return n}));var i=r(9),a=r(383),n={type:a.a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:l}}}}};function l(e,t,r,n){if(!e)return null;var l=t.minScale,o=t.maxScale,s=t.minLOD,c=t.maxLOD;if(null!=s&&null!=c)return n&&n.ignoreMinMaxLOD?a.a.fromJSON(e):a.a.fromJSON(Object(i.a)(Object(i.a)({},e),{},{lods:e.lods.filter((function(e){var t=e.level;return null!=t&&t>=s&&t<=c}))}));if(0!==l&&0!==o){var u=function(e){return Math.round(1e4*e)/1e4},p=l?u(l):1/0,f=o?u(o):-1/0;return a.a.fromJSON(Object(i.a)(Object(i.a)({},e),{},{lods:e.lods.filter((function(e){var t=u(e.scale);return t<=p&&t>=f}))}))}return a.a.fromJSON(e)}},949:function(e,t,r){"use strict";var i,a=r(32),n=r(12),l=r(10),o=r.n(l),s=r(9),c=r(21),u=r(2),p=r(3),f=r(5),b=r(6),d=r(0),y=(r(13),r(24)),v=r(14),h=r(15),O=r(98),m=r(1),j=r(73),g=r(63),w=r(8),S=r(47),_=r(23),x=r(11),k=(r(19),r(230)),I=(r(20),r(16)),L=r(62),E=(r(77),r(41)),T=r(157),F=r(247),D=r(277),P=r(81),z=r(135),A=r(149),V=r(796),N=(r(814),r(824),r(833),r(863),r(874),r(875),r(862),r(871)),M=(r(870),r(246)),C=r(791),R=r(794),J=r(837),U=r(409),B=r(235),q=r(813),$=r(278),W=r(158);function G(e){return e&&"esriSMS"===e.type}function H(e,t,r){var i;return{ignoreOrigin:!0,enabled:!!r&&"map-image"===(null==(i=r.layer)?void 0:i.type)&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(k.d)(r.origin))}}function Q(e,t,r){var i;return{enabled:!!r&&"tile"===(null==(i=r.layer)?void 0:i.type)&&this._isOverridden(t)}}function X(e,t,r){return{ignoreOrigin:!0,enabled:r&&r.writeSublayerStructure||!1}}function K(e,t,r){return{ignoreOrigin:!0,enabled:!!r&&(r.writeSublayerStructure||this.originIdOf(t)>=Object(k.d)(r.origin))}}var Y=v.a.getLogger("esri.layers.support.Sublayer"),Z=0,ee=new Set;ee.add("layer"),ee.add("parent"),ee.add("loaded"),ee.add("loadStatus"),ee.add("loadError"),ee.add("loadWarnings");var te=i=function(e){Object(f.a)(l,e);var t=Object(b.a)(l);function l(e){var r;return Object(u.a)(this,l),(r=t.call(this,e)).capabilities=void 0,r.fields=null,r.fullExtent=null,r.globalIdField=null,r.legendEnabled=!0,r.objectIdField=null,r.popupEnabled=!0,r.popupTemplate=null,r.sourceJSON=null,r.title=null,r.typeIdField=null,r.types=null,r}return Object(p.a)(l,[{key:"load",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.addResolvingPromise(Object(c.a)(o.a.mark((function e(){var i,a,n,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.layer||r.url){e.next=2;break}throw new _.a("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:r});case 2:if(a=null,r.layer&&!(r.originIdOf("url")>2)&&"data-layer"!==(null==(i=r.source)?void 0:i.type)){e.next=9;break}return e.next=6,Object(P.default)(r.url,Object(s.a)({responseType:"json",query:{f:"json"}},t));case 6:a=e.sent.data,e.next=14;break;case 9:return l=r.id,"map-layer"===(null==(n=r.source)?void 0:n.type)&&(l=r.source.mapLayerId),e.next=13,r.layer.fetchSublayerInfo(l,t);case 13:a=e.sent;case 14:a&&(r.sourceJSON=a,r.read({layerDefinition:a},{origin:"service"}));case 15:case"end":return e.stop()}}),e)})))()),this));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readCapabilities",value:function(e,t){var r=(e=(t=t.layerDefinition||t).capabilities||e)?e.toLowerCase().split(",").map((function(e){return e.trim()})):[];return{exportMap:{supportsModification:!!t.canModifyLayer},operations:{supportsQuery:-1!==r.indexOf("query")}}}},{key:"definitionExpression",set:function(e){this._setAndNotifyLayer("definitionExpression",e)}},{key:"fieldsIndex",get:function(){return new C.a(this.fields||[])}},{key:"readGlobalIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).globalIdField)return t.globalIdField;if(t.fields){var r,i=Object(n.a)(t.fields);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("esriFieldTypeGlobalID"===a.type)return a.name}}catch(l){i.e(l)}finally{i.f()}}}},{key:"id",get:function(){var e=this._get("id");return null==e?Z++:e},set:function(e){this._get("id")!==e&&(!1!==this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._set("id",e):this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"))}},{key:"labelingInfo",set:function(e){this._setAndNotifyLayer("labelingInfo",e)}},{key:"writeLabelingInfo",value:function(e,t,r,i){e&&e.length&&(t.layerDefinition={drawingInfo:{labelingInfo:e.map((function(e){return e.write({},i)}))}})}},{key:"labelsVisible",set:function(e){this._setAndNotifyLayer("labelsVisible",e)}},{key:"layer",set:function(e){this._set("layer",e),this.sublayers&&this.sublayers.forEach((function(t){return t.layer=e}))}},{key:"listMode",set:function(e){this._set("listMode",e)}},{key:"minScale",set:function(e){this._setAndNotifyLayer("minScale",e)}},{key:"readMinScale",value:function(e,t){return t.minScale||t.layerDefinition&&t.layerDefinition.minScale||0}},{key:"maxScale",set:function(e){this._setAndNotifyLayer("maxScale",e)}},{key:"readMaxScale",value:function(e,t){return t.maxScale||t.layerDefinition&&t.layerDefinition.maxScale||0}},{key:"readObjectIdFieldFromService",value:function(e,t){if((t=t.layerDefinition||t).objectIdField)return t.objectIdField;if(t.fields){var r,i=Object(n.a)(t.fields);try{for(i.s();!(r=i.n()).done;){var a=r.value;if("esriFieldTypeOID"===a.type)return a.name}}catch(l){i.e(l)}finally{i.f()}}}},{key:"opacity",set:function(e){this._setAndNotifyLayer("opacity",e)}},{key:"readOpacity",value:function(e,t){var r=t.layerDefinition;return 1-.01*(null!=r.transparency?r.transparency:r.drawingInfo.transparency)}},{key:"writeOpacity",value:function(e,t,r,i){t.layerDefinition={drawingInfo:{transparency:100-100*e}}}},{key:"writeParent",value:function(e,t){this.parent&&this.parent!==this.layer?t.parentLayerId=Object(h.e)(this.parent.id):t.parentLayerId=-1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(e){if(e){var t,r=Object(n.a)(e.getSymbols());try{for(r.s();!(t=r.n()).done;){var i=t.value;if(Object(A.h)(i)){Y.warn("Sublayer renderer should use 2D symbols");break}}}catch(a){r.e(a)}finally{r.f()}}this._setAndNotifyLayer("renderer",e)}},{key:"source",get:function(){return this._get("source")||new U.a({mapLayerId:this.id})},set:function(e){this._setAndNotifyLayer("source",e)}},{key:"sublayers",set:function(e){this._handleSublayersChange(e,this._get("sublayers")),this._set("sublayers",e)}},{key:"castSublayers",value:function(e){return Object(h.m)(E.a.ofType(i),e)}},{key:"writeSublayers",value:function(e,t,r){this.get("sublayers.length")&&(t[r]=this.sublayers.map((function(e){return e.id})).toArray().reverse())}},{key:"readTypeIdField",value:function(e,t){var r=(t=t.layerDefinition||t).typeIdField;if(r){var i=Object(T.n)(t.fields,r);if(i)return i.name}return null}},{key:"url",get:function(){var e,t,r=null!=(e=null==(t=this.layer)?void 0:t.parsedUrl)?e:this._lastParsedUrl,i=this.source;if(!r)return null;if(this._lastParsedUrl=r,"map-layer"===(null==i?void 0:i.type))return"".concat(r.path,"/").concat(i.mapLayerId);var a={layer:JSON.stringify({source:this.source})};return"".concat(r.path,"/dynamicLayer?").concat(Object(x.C)(a))},set:function(e){e?this._override("url",e):this._clearOverride("url")}},{key:"visible",set:function(e){this._setAndNotifyLayer("visible",e)}},{key:"writeVisible",value:function(e,t,r,i){t[r]=this.getAtOrigin("defaultVisibility","service")||e}},{key:"clone",value:function(){var e=Object(O.a)(this).store,t=new i;return Object(O.a)(t).store=e.clone(ee),this.url,t._lastParsedUrl=this._lastParsedUrl,t}},{key:"createPopupTemplate",value:function(e){return Object(q.a)(this,e)}},{key:"createQuery",value:function(){return new $.a({returnGeometry:!0,where:this.definitionExpression||"1=1"})}},{key:"createFeatureLayer",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,i,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasOwnProperty("sublayers")){e.next=2;break}return e.abrupt("return",null);case 2:return a=null==(t=this.layer)?void 0:t.parsedUrl,e.next=6,r.e(70).then(r.bind(null,827));case 6:return e.t0=e.sent.default,e.t1={url:a.path},n=new e.t0(e.t1),e.abrupt("return",(a&&this.source&&("map-layer"===this.source.type?n.layerId=this.source.mapLayerId:n.dynamicDataSource=this.source),null!=this.layer.refreshInterval&&(n.refreshInterval=this.layer.refreshInterval),this.definitionExpression&&(n.definitionExpression=this.definitionExpression),this.originIdOf("labelingInfo")>2&&(n.labelingInfo=Object(y.a)(this.labelingInfo)),this.originIdOf("labelsVisible")>0&&(n.labelsVisible=this.labelsVisible),this.originIdOf("legendEnabled")>0&&(n.legendEnabled=this.legendEnabled),this.originIdOf("visible")>0&&(n.visible=this.visible),this.originIdOf("minScale")>0&&(n.minScale=this.minScale),this.originIdOf("maxScale")>0&&(n.maxScale=this.maxScale),this.originIdOf("opacity")>0&&(n.opacity=this.opacity),this.originIdOf("popupTemplate")>0&&(n.popupTemplate=Object(y.a)(this.popupTemplate)),this.originIdOf("renderer")>2&&(n.renderer=Object(y.a)(this.renderer)),"data-layer"===(null==(i=this.source)?void 0:i.type)&&(n.dynamicDataSource=this.source.clone()),this.originIdOf("title")>0&&(n.title=this.title),"map-image"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(n.customParameters=this.layer.customParameters),"tile"===this.layer.type&&this.layer.originIdOf("customParameters")>0&&(n.customParameters=this.layer.customParameters),n));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeatureType",value:function(e){var t=this.typeIdField,r=this.types;if(!t||!e)return null;var i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;var a=null;return r.some((function(e){var t=e.id;return null!=t&&(t.toString()===i.toString()&&(a=e),!!a)})),a}},{key:"getFieldDomain",value:function(e,t){var r=t&&t.feature,i=this.getFeatureType(r);if(i){var a=i.domains&&i.domains[e];if(a&&"inherited"!==a.type)return a}return this._getLayerDomain(e)}},{key:"queryFeatures",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.createQuery(),i=arguments.length>1?arguments[1]:void 0;return this.load().then((function(){if(!e.get("capabilities.operations.supportsQuery"))throw new _.a("Sublayer.queryFeatures","this layer doesn't support queries.");return Object(I.b)([Promise.resolve().then(r.bind(null,251)),Promise.resolve().then(r.bind(null,362))])})).then((function(r){var n=Object(a.a)(r,2),l=n[0].executeQuery,o=n[1].default;return l(e.url,$.a.from(t),e.layer?e.layer.spatialReference:null,Object(s.a)(Object(s.a)({},i),{},{query:Object(s.a)({},e.layer.customParameters)})).then((function(e){return o.fromJSON(e.data)}))})).then((function(t){return t&&t.features&&t.features.forEach((function(t){t.sourceLayer=e})),t}))}},{key:"toExportImageJSON",value:function(){var e,t=this,r={id:this.id,source:(null==(e=this.source)?void 0:e.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression&&(r.definitionExpression=this.definitionExpression);var i=["renderer","labelingInfo","opacity","labelsVisible"].reduce((function(e,r){return e[r]=t.originIdOf(r),e}),{});if(Object.keys(i).some((function(e){return i[e]>2}))){var a=r.drawingInfo={};i.renderer>2&&(a.renderer=this.renderer?this.renderer.toJSON():null),i.labelsVisible>2&&(a.showLabels=this.labelsVisible),this.labelsVisible&&i.labelingInfo>2&&(a.labelingInfo=this.labelingInfo?this.labelingInfo.map((function(e){return e.write({},{origin:"service"})})):null,a.showLabels=!0),i.opacity>2&&(a.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(a.renderer)}return r}},{key:"_assignDefaultSymbolColors",value:function(e){this._forEachSimpleMarkerSymbols(e,(function(e){e.color||"esriSMSX"!==e.style&&"esriSMSCross"!==e.style||(e.outline&&e.outline.color?e.color=e.outline.color:e.color=[0,0,0,0])}))}},{key:"_forEachSimpleMarkerSymbols",value:function(e,t){if(e){var r,i="uniqueValueInfos"in e?e.uniqueValueInfos:"classBreakInfos"in e?e.classBreakInfos:[],a=Object(n.a)(i);try{for(a.s();!(r=a.n()).done;){var l=r.value;G(l.symbol)&&t(l.symbol)}}catch(o){a.e(o)}finally{a.f()}"symbol"in e&&G(e.symbol)&&t(e.symbol),"defaultSymbol"in e&&G(e.defaultSymbol)&&t(e.defaultSymbol)}}},{key:"_setAndNotifyLayer",value:function(e,t){var r,i,a=this.layer,n=this._get(e);switch(e){case"definitionExpression":r="supportsSublayerDefinitionExpression";case"minScale":case"maxScale":case"visible":r="supportsSublayerVisibility";break;case"labelingInfo":case"labelsVisible":case"opacity":case"renderer":case"source":r="supportsDynamicLayers",i="supportsModification"}var l=Object(O.a)(this).getDefaultOrigin();if("service"!==l){if(r&&!1===this.get("layer.capabilities.exportMap.".concat(r)))return void this._logLockedError(e,"capability not available 'layer.capabilities.exportMap.".concat(r,"'"));if(i&&!1===this.get("capabilities.exportMap.".concat(i)))return void this._logLockedError(e,"capability not available 'capabilities.exportMap.".concat(i,"'"))}"source"!==e||"not-loaded"===this.loadStatus?(this._set(e,t),"service"!==l&&n!==t&&a&&a.emit&&a.emit("sublayer-update",{propertyName:e,target:this})):this._logLockedError(e,"'source' can't be changed after calling sublayer.load()")}},{key:"_handleSublayersChange",value:function(e,t){var r=this;t&&(t.forEach((function(e){e.parent=null,e.layer=null})),this.handles.removeAll()),e&&(e.forEach((function(e){e.parent=r,e.layer=r.layer})),this.handles.add([e.on("after-add",(function(e){var t=e.item;t.parent=r,t.layer=r.layer})),e.on("after-remove",(function(e){var t=e.item;t.parent=null,t.layer=null})),e.on("before-changes",(function(e){var t=r.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(Y.error(new _.a("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:r,layer:r.layer})),e.preventDefault())}))]))}},{key:"_logLockedError",value:function(e,t){Y.error(new _.a("sublayer:locked","Property '".concat(e,"' can't be changed on Sublayer from the layer '").concat(this.layer.id,"'"),{reason:t,sublayer:this,layer:this.layer}))}},{key:"_getLayerDomain",value:function(e){var t=this.fieldsIndex.get(e);return t?t.domain:null}}]),l}(Object(W.b)(Object(V.a)(Object(F.a)(z.a))));te.test={isMapImageLayerOverridePolicy:function(e){return e===X||e===H},isTileImageLayerOverridePolicy:function(e){return e===Q}},Object(d.a)([Object(m.b)({readOnly:!0})],te.prototype,"capabilities",void 0),Object(d.a)([Object(g.a)("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],te.prototype,"readCapabilities",null),Object(d.a)([Object(m.b)({type:String,value:null,json:{read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression",overridePolicy:H}}})],te.prototype,"definitionExpression",null),Object(d.a)([Object(m.b)({type:[M.a],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],te.prototype,"fields",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["fields"]})],te.prototype,"fieldsIndex",null),Object(d.a)([Object(m.b)({type:L.a,json:{read:{source:"layerDefinition.extent"}}})],te.prototype,"fullExtent",void 0),Object(d.a)([Object(m.b)({type:String})],te.prototype,"globalIdField",void 0),Object(d.a)([Object(g.a)("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],te.prototype,"readGlobalIdFieldFromService",null),Object(d.a)([Object(m.b)({type:h.a,json:{write:{ignoreOrigin:!0}}})],te.prototype,"id",null),Object(d.a)([Object(m.b)({value:null,type:[R.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:X}}})],te.prototype,"labelingInfo",null),Object(d.a)([Object(S.a)("labelingInfo")],te.prototype,"writeLabelingInfo",null),Object(d.a)([Object(m.b)({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:X}}})],te.prototype,"labelsVisible",null),Object(d.a)([Object(m.b)({value:null})],te.prototype,"layer",null),Object(d.a)([Object(m.b)({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:K}}})],te.prototype,"legendEnabled",void 0),Object(d.a)([Object(m.b)({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],te.prototype,"listMode",null),Object(d.a)([Object(m.b)({type:Number,value:0,json:{write:{overridePolicy:X}}})],te.prototype,"minScale",null),Object(d.a)([Object(g.a)("minScale",["minScale","layerDefinition.minScale"])],te.prototype,"readMinScale",null),Object(d.a)([Object(m.b)({type:Number,value:0,json:{write:{overridePolicy:X}}})],te.prototype,"maxScale",null),Object(d.a)([Object(g.a)("maxScale",["maxScale","layerDefinition.maxScale"])],te.prototype,"readMaxScale",null),Object(d.a)([Object(m.b)({type:String})],te.prototype,"objectIdField",void 0),Object(d.a)([Object(g.a)("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],te.prototype,"readObjectIdFieldFromService",null),Object(d.a)([Object(m.b)({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:X}}})],te.prototype,"opacity",null),Object(d.a)([Object(g.a)("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],te.prototype,"readOpacity",null),Object(d.a)([Object(S.a)("opacity")],te.prototype,"writeOpacity",null),Object(d.a)([Object(m.b)({json:{type:h.a,write:{target:"parentLayerId",allowNull:!0,overridePolicy:X}}})],te.prototype,"parent",void 0),Object(d.a)([Object(S.a)("parent")],te.prototype,"writeParent",null),Object(d.a)([Object(m.b)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:function(e,t){return!t.disablePopup}},write:{target:"disablePopup",overridePolicy:K,writer:function(e,t,r){t[r]=!e}}}})],te.prototype,"popupEnabled",void 0),Object(d.a)([Object(m.b)({type:D.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:K}}})],te.prototype,"popupTemplate",void 0),Object(d.a)([Object(m.b)({readOnly:!0,dependsOn:["fields","title"]})],te.prototype,"defaultPopupTemplate",null),Object(d.a)([Object(m.b)({types:N.a,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:X},origins:{"web-scene":{types:N.b,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:X}}}}})],te.prototype,"renderer",null),Object(d.a)([Object(m.b)({types:{key:"type",base:null,typeMap:{"data-layer":B.a,"map-layer":U.a}},cast:function(e){if(e){if("mapLayerId"in e)return Object(h.d)(U.a,e);if("dataSource"in e)return Object(h.d)(B.a,e)}return e},json:{name:"layerDefinition.source",write:{overridePolicy:X}}})],te.prototype,"source",null),Object(d.a)([Object(m.b)()],te.prototype,"sourceJSON",void 0),Object(d.a)([Object(m.b)({value:null,json:{type:[h.a],write:{target:"subLayerIds",allowNull:!0,overridePolicy:X}}})],te.prototype,"sublayers",null),Object(d.a)([Object(j.a)("sublayers")],te.prototype,"castSublayers",null),Object(d.a)([Object(S.a)("sublayers")],te.prototype,"writeSublayers",null),Object(d.a)([Object(m.b)({type:String,json:{read:{source:"name"},write:{target:"name",allowNull:!0,overridePolicy:K}}})],te.prototype,"title",void 0),Object(d.a)([Object(m.b)({type:String})],te.prototype,"typeIdField",void 0),Object(d.a)([Object(g.a)("typeIdField",["layerDefinition.typeIdField"])],te.prototype,"readTypeIdField",null),Object(d.a)([Object(m.b)({type:[J.a],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],te.prototype,"types",void 0),Object(d.a)([Object(m.b)({type:String,dependsOn:["layer","source"],json:{read:{source:"layerUrl"},write:{target:"layerUrl",overridePolicy:Q}}})],te.prototype,"url",null),Object(d.a)([Object(m.b)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:X}}})],te.prototype,"visible",null),Object(d.a)([Object(S.a)("visible")],te.prototype,"writeVisible",null);var re=te=i=Object(d.a)([Object(w.a)("esri.layers.support.Sublayer")],te);t.a=re},985:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var i=r(2),a=r(3),n=r(5),l=r(6),o=r(0),s=(r(13),r(14),r(15),r(1)),c=r(63),u=r(8),p=(r(11),r(19),r(20),r(44)),f=(r(77),r(945)),b=r(921),d=function(e){var t=function(e){Object(n.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.apply(this,arguments)).copyright=null,e.minScale=0,e.maxScale=0,e.spatialReference=null,e.tileInfo=null,e.tilemapCache=null,e}return Object(a.a)(r,[{key:"readMinScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"readMaxScale",value:function(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}},{key:"supportsBlankTile",get:function(){return this.version>=10.2}},{key:"readTilemapCache",value:function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new b.a({layer:this}):null}}]),r}(e);return Object(o.a)([Object(s.b)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),Object(o.a)([Object(s.b)()],t.prototype,"minScale",void 0),Object(o.a)([Object(c.a)("service","minScale")],t.prototype,"readMinScale",null),Object(o.a)([Object(s.b)()],t.prototype,"maxScale",void 0),Object(o.a)([Object(c.a)("service","maxScale")],t.prototype,"readMaxScale",null),Object(o.a)([Object(s.b)({type:p.a})],t.prototype,"spatialReference",void 0),Object(o.a)([Object(s.b)({readOnly:!0,dependsOn:["version"]})],t.prototype,"supportsBlankTile",null),Object(o.a)([Object(s.b)(f.b)],t.prototype,"tileInfo",void 0),Object(o.a)([Object(s.b)()],t.prototype,"tilemapCache",void 0),Object(o.a)([Object(c.a)("service","tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),Object(o.a)([Object(s.b)()],t.prototype,"version",void 0),t=Object(o.a)([Object(u.a)("esri.layers.mixins.ArcGISCachedService")],t)}}}]);
//# sourceMappingURL=62.096903d5.chunk.js.map