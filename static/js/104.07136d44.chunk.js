(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[104],{1030:function(t,e,r){"use strict";r.r(e);var a=r(2),n=r(3),i=r(60),o=r(55),s=r(5),c=r(6),u=r(0),l=(r(13),r(14),r(15),r(1)),p=r(8),h=r(23),O=(r(11),r(19),r(20),r(16)),v=r(102),f=r(242),b=r(795),y=r(802),j=function(t){Object(s.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).resourceInfo=null,n.type="unknown",n}return Object(n.a)(r,[{key:"initialize",value:function(){var t=this;this.addResolvingPromise(Object(O.c)((function(e,r){Object(v.b)((function(){var e=t.resourceInfo&&(t.resourceInfo.layerType||t.resourceInfo.type),a="Unknown layer type";e&&(a+=" "+e),r(new h.a("layer:unknown-layer-type",a,{layerType:e}))}))})))}},{key:"read",value:function(t,e){Object(i.a)(Object(o.a)(r.prototype),"read",this).call(this,{resourceInfo:t},e)}},{key:"write",value:function(){return null}}]),r}(Object(y.a)(Object(b.a)(f.a)));Object(u.a)([Object(l.b)({readOnly:!0})],j.prototype,"resourceInfo",void 0),Object(u.a)([Object(l.b)({type:["show","hide"]})],j.prototype,"listMode",void 0),Object(u.a)([Object(l.b)({json:{read:!1},readOnly:!0,value:"unknown"})],j.prototype,"type",void 0);var d=j=Object(u.a)([Object(p.a)("esri.layers.UnknownLayer")],j);e.default=d},795:function(t,e,r){"use strict";r.d(e,"a",(function(){return w})),r.d(e,"b",(function(){return _}));var a=r(12),n=r(2),i=r(3),o=r(5),s=r(6),c=r(0),u=r(98),l=r(8),p=r(229),h=r(33),O=r(377),v=r(34),f=r(4),b=r(385),y=r(41),j=r(24),d=function(){function t(){Object(n.a)(this,t),this._propertyOriginMap=new Map,this._originStores=new Array(p.a),this._values=new Map}return Object(i.a)(t,[{key:"clone",value:function(e){var r=this,a=new t,n=this._originStores[0];n&&n.forEach((function(t,e){a.set(e,Object(j.a)(t),0)}));for(var i=function(t){var n=r._originStores[t];n&&n.forEach((function(r,n){e&&e.has(n)||a.set(n,Object(j.a)(r),t)}))},o=2;o<p.a;o++)i(o);return a}},{key:"get",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return r?r.get(t):void 0}},{key:"keys",value:function(t){var e=null==t?this._values:this._originStores[t];return e?Object(y.a)(e.keys()):[]}},{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,a=this._originStores[r];if(a||(a=new Map,this._originStores[r]=a),a.set(t,e),!this._values.has(t)||Object(f.c)(this._propertyOriginMap.get(t))<=r){var n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),n!==e}return!1}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=this._originStores[e];if(r){var a=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(var n=e-1;n>=0;n--){var i=this._originStores[n];if(i&&i.has(t)){this._values.set(t,i.get(t)),this._propertyOriginMap.set(t,n);break}}}return a}}},{key:"has",value:function(t,e){var r=void 0===e?this._values:this._originStores[e];return!!r&&r.has(t)}},{key:"revert",value:function(t,e){for(;e>0&&!this.has(t,e);)--e;var r=this._originStores[e],a=r&&r.get(t),n=this._values.get(t);return this._values.set(t,a),this._propertyOriginMap.set(t,e),n!==a}},{key:"originOf",value:function(t){return this._propertyOriginMap.get(t)||0}},{key:"forEach",value:function(t){this._values.forEach(t)}}]),t}(),g=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){var t;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t=e.call.apply(e,[this].concat(i));var s=Object(f.c)(Object(u.a)(Object(v.a)(t))),c=s.metadatas,l=s.store,p=new d;return s.store=p,l.keys().forEach((function(t){p.set(t,l.get(t),0)})),Object.keys(c).forEach((function(t){s.internalGet(t)&&p.set(t,s.internalGet(t),0)})),t}return Object(i.a)(r,[{key:"read",value:function(t,e){Object(b.a)(this,t,e)}},{key:"getAtOrigin",value:function(t,e){var r=m(this),a=Object(p.d)(e);if("string"==typeof t)return r.get(t,a);var n={};return t.forEach((function(t){n[t]=r.get(t,a)})),n}},{key:"originOf",value:function(t){return Object(p.b)(this.originIdOf(t))}},{key:"originIdOf",value:function(t){return m(this).originOf(t)}},{key:"revert",value:function(t,e){var r=m(this),a=Object(p.d)(e),n=Object(u.a)(this);("string"==typeof t?"*"===t?r.keys(a):[t]:t).forEach((function(t){n.propertyInvalidated(t),r.revert(t,a),n.propertyCommitted(t)}))}}]),r}(t);return e=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function m(t){return Object(u.a)(t).store}var k=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(g(h.a));k=Object(c.a)([Object(l.a)("esri.core.ReadOnlyMultiOriginJSONSupport")],k);function I(t){return Object(u.a)(t).store}var w=function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return r}(function(t){var e=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){Object(n.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e.call.apply(e,[this].concat(a))}return Object(i.a)(r,[{key:"clear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return I(this).delete(t,Object(p.d)(e))}},{key:"write",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return Object(O.b)(this,t=t||{},e),t}},{key:"setAtOrigin",value:function(t,e,r){Object(u.a)(this).setAtOrigin(t,e,Object(p.d)(r))}},{key:"removeOrigin",value:function(t){var e,r=I(this),n=Object(p.d)(t),i=r.keys(n),o=Object(a.a)(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;r.originOf(s)===n&&r.set(s,r.get(s,n),6)}}catch(c){o.e(c)}finally{o.f()}}},{key:"updateOrigin",value:function(t,e){for(var r=I(this),a=Object(p.d)(e),n=this.get(t),i=a+1;i<p.a;++i)r.delete(t,i);r.set(t,n,a)}},{key:"toJSON",value:function(t){return this.write({},t)}}]),r}(t);return(e=Object(c.a)([Object(l.a)("esri.core.WriteableMultiOriginJSONSupport")],e)).prototype.toJSON.isDefaultToJSON=!0,e}(g(t)));return e=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],e)},_=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(w(h.a));_=Object(c.a)([Object(l.a)("esri.core.MultiOriginJSONSupport")],_)},802:function(t,e,r){"use strict";r.d(e,"a",(function(){return _}));var a=r(9),n=r(10),i=r.n(n),o=r(21),s=r(2),c=r(3),u=r(60),l=r(55),p=r(5),h=r(6),O=r(0),v=(r(13),r(14)),f=(r(15),r(1)),b=r(62),y=r(8),j=r(47),d=r(23),g=r(11),m=(r(19),r(20),r(16)),k=r(124),I=r(383),w=v.a.getLogger("esri.layers.mixins.PortalLayer"),_=function(t){var e=function(t){Object(p.a)(n,t);var e=Object(h.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.apply(this,arguments)).resourceReferences={portalItem:null,paths:[]},t}return Object(c.a)(n,[{key:"destroy",value:function(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}},{key:"portalItem",set:function(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}},{key:"readPortalItem",value:function(t,e,r){if(e.itemId)return new I.default({id:e.itemId,portal:r&&r.portal})}},{key:"writePortalItem",value:function(t,e){t&&t.id&&(e.itemId=t.id)}},{key:"loadFromPortal",value:function(){var t=Object(o.a)(i.a.mark((function t(e,a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.portalItem||!this.portalItem.id){t.next=14;break}return t.prev=1,t.next=4,r.e(95).then(r.bind(null,937));case 4:return n=t.sent,Object(m.w)(a),t.next=8,n.load({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData},a);case 8:return t.abrupt("return",t.sent);case 11:throw t.prev=11,t.t0=t.catch(1),w.warn("Failed to load layer (".concat(this.title,", ").concat(this.id,") portal item (").concat(this.portalItem.id,")\n  ").concat(t.t0)),t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,11]])})));return function(e,r){return t.apply(this,arguments)}}()},{key:"read",value:function(t,e){e&&(e.layer=this),Object(u.a)(Object(l.a)(n.prototype),"read",this).call(this,t,e)}},{key:"write",value:function(t,e){var r=e&&e.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||k.a.getDefault());return r&&i&&!Object(g.r)(i.restUrl,r.restUrl)?(e.messages&&e.messages.push(new d.a("layer:cross-portal","The layer '".concat(this.title," (").concat(this.id,")' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer"),{layer:this})),null):Object(u.a)(Object(l.a)(n.prototype),"write",this).call(this,t,Object(a.a)(Object(a.a)({},e),{},{layer:this}))}}]),n}(t);return Object(O.a)([Object(f.b)({type:I.default})],e.prototype,"portalItem",null),Object(O.a)([Object(b.a)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),Object(O.a)([Object(j.a)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),Object(O.a)([Object(f.b)()],e.prototype,"resourceReferences",void 0),e=Object(O.a)([Object(y.a)("esri.layers.mixins.PortalLayer")],e),e}}}]);
//# sourceMappingURL=104.07136d44.chunk.js.map