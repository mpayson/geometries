{"version":3,"sources":["../node_modules/@arcgis/core/core/LRUCache.js","../node_modules/@arcgis/core/renderers/SimpleRenderer.js","../node_modules/@arcgis/core/renderers/DictionaryRenderer.js","../node_modules/@arcgis/core/renderers/support/jsonUtils.js","../node_modules/@arcgis/core/renderers/support/types.js","../node_modules/@arcgis/core/renderers/support/AttributeColorInfo.js","../node_modules/@arcgis/core/renderers/support/DotDensityLegendOptions.js","../node_modules/@arcgis/core/renderers/DotDensityRenderer.js","../node_modules/@arcgis/core/renderers/support/HeatmapColorStop.js","../node_modules/@arcgis/core/renderers/HeatmapRenderer.js"],"names":["e","r","this","_storage","t","maxSize","registerRemoveFunc","put","pop","get","clearAll","c","m","description","label","symbol","type","a","i","collectSymbolFields","collectVVRequiredFields","getSymbols","map","s","collectRequiredFields","visualVariables","reduce","getAttributeHash","JSON","stringify","arcadeRequiredForVisualVariables","clone","authoringInfo","l","String","json","write","prototype","p","simple","n","o","w","x","getLogger","v","_ongoingRequests","Map","_symbolCache","_","config","fieldMap","scaleExpression","scaleExpressionTitle","url","scalingExpressionInfo","expression","returnType","origin","_dictionaryPromise","fetchResources","_symbolFields","attributes","toString","catch","split","u","length","indexOf","_itemNames","has","push","substr","Number","y","toRgba","primitiveName","propertyName","value","_cimPartsToCIMSymbol","h","name","add","error","abortOptions","g","responseType","query","f","data","_refSymbolUrlTemplate","cimRefTemplateUrl","Set","itemsNames","configuration","hasOwnProperty","fields","filter","spatialReference","then","scale","repurposeFeature","geometry","evaluate","$feature","$view","replace","set","delete","primitiveOverrides","symbolLayers","unshift","Array","_getSymbolPart","d","_combineSymbolParts","j","b","Object","read","source","target","overridePolicy","enabled","S","messages","declaredClass","renderer","context","types","styleName","styleUrl","definition","key","base","typeMap","heatmap","dictionary","errorContext","color","field","valueExpression","valueExpressionTitle","arguments","unit","backgroundColor","blendDots","dotBlendingEnabled","dotShape","dotSize","legendOptions","outline","dotValue","referenceDotValue","referenceScale","seed","getSymbol","toJSON","Boolean","default","dotDensity","ratio","blurRadius","colorStops","fieldOffset","maxPixelIntensity","minPixelIntensity"],"mappings":"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","file":"static/js/6.55e6255f.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";export default class{constructor(e,r){this._storage=new t,this._storage.maxSize=e,r&&this._storage.registerRemoveFunc(\"\",r)}put(t,e,r){this._storage.put(t,e,r,1)}pop(t){return this._storage.pop(t)}get(t){return this._storage.get(t)}clear(){this._storage.clearAll()}destroy(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as r}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as t}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{all as i}from\"../core/promiseUtils.js\";import l from\"./Renderer.js\";import{VisualVariablesMixin as a}from\"./mixins/VisualVariablesMixin.js\";import{rendererSymbolProperty as p}from\"./support/commonProperties.js\";var c;let m=c=class extends(a(l)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type=\"simple\"}async collectRequiredFields(e,r){await i([this.collectSymbolFields(e,r),this.collectVVRequiredFields(e,r)])}async collectSymbolFields(e,r){await i(this.getSymbols().map((s=>s.collectRequiredFields(e,r))))}getSymbol(e,r){return this.symbol}async getSymbolAsync(e,r){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,r)=>e+r.getAttributeHash()),\"\")}getMeshHash(){return this.getSymbols().reduce(((e,r)=>e+JSON.stringify(r)),\"\")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new c({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:r(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};e([s({type:String,json:{write:!0}})],m.prototype,\"description\",void 0),e([s({type:String,json:{write:!0}})],m.prototype,\"label\",void 0),e([s(p)],m.prototype,\"symbol\",void 0),e([t({simple:\"simple\"})],m.prototype,\"type\",void 0),m=c=e([o(\"esri.renderers.SimpleRenderer\")],m);var n=m;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as s}from\"../core/lang.js\";import{isSome as t}from\"../core/maybe.js\";import{numericHash as r}from\"../core/string.js\";import i from\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import l from\"../core/Error.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{isAbortError as c,all as p,reject as u}from\"../core/promiseUtils.js\";import{loadArcade as m,createDictionaryExpression as f}from\"../support/arcadeOnDemand.js\";import{collectArcadeFieldNames as h}from\"../layers/support/fieldUtils.js\";import y from\"../Color.js\";import d from\"../symbols/CIMSymbol.js\";import g from\"../request.js\";import b from\"./Renderer.js\";import{VisualVariablesMixin as j}from\"./mixins/VisualVariablesMixin.js\";import _ from\"../core/LRUCache.js\";var w;const x=i.getLogger(\"esri.renderers.DictionaryRenderer\");let v=w=class extends(j(b)){constructor(e){super(e),this._ongoingRequests=new Map,this._symbolCache=new _(100),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type=\"dictionary\"}writeData(e,s){e&&(s.scalingExpressionInfo={expression:e,returnType:\"number\"})}writeVisualVariables(e,s,t,r){null!=r&&r.origin||super.writeVisualVariables(e,s,t,r)}clone(){return new w({config:s(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:s(this.fieldMap),url:s(this.url),visualVariables:s(this.visualVariables)})}async getSymbolAsync(e,s){let t;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(s));try{t=await this._dictionaryPromise}catch(e){if(c(e))return this._dictionaryPromise=null,null}const i={};if(this.fieldMap)for(const s of this._symbolFields){const t=this.fieldMap[s];if(t&&null!==e.attributes[t]&&void 0!==e.attributes[t]){const r=\"\"+e.attributes[t];i[s]=r}else i[s]=\"\"}const o=t(i,s);if(!o||\"string\"!=typeof o)return null;const n=r(o).toString(),a=this._symbolCache.get(n);if(a)return a.catch((()=>{this._symbolCache.pop(n)})),a;const l=o.split(\";\"),p=[],u=[];for(const e of l)if(e&&0!==e.length)if(-1===e.indexOf(\"po:\"))if(-1!==e.indexOf(\"|\"))for(const s of e.split(\"|\"))this._itemNames.has(s)&&p.push(s);else this._itemNames.has(e)&&p.push(e);else{const s=e.substr(3).split(\"|\");if(3===s.length){const e=s[0],t=s[1];let r=s[2];if(\"DashTemplate\"===t)r=r.split(\" \").map((e=>Number(e)));else if(\"Color\"===t){const e=new y(r).toRgba();r=[e[0],e[1],e[2],255*e[3]]}else r=Number(r);u.push({primitiveName:e,propertyName:t,value:r})}}const m=this._cimPartsToCIMSymbol(p,u,s);return this._symbolCache.put(n,m,1),m}async collectRequiredFields(e,s){await this.collectVVRequiredFields(e,s),this.scaleExpression&&await h(e,s,this.scaleExpression);const t=s.map((e=>e.name));for(const s in this.fieldMap)t.indexOf(this.fieldMap[s])<0||e.add(this.fieldMap[s])}get arcadeRequired(){return!0}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void x.error(\"no valid URL!\");const s=t(e)?e.abortOptions:null,r=g(this.url+\"/resources/styles/dictionary-info.json\",{responseType:\"json\",query:{f:\"json\"},...s}),[{data:i}]=await p([r,m()]);if(!i)throw this._dictionaryPromise=null,new l(\"esri.renderers.DictionaryRenderer\",\"Bad dictionary data!\");const o=i.expression,n=i.authoringInfo;this._refSymbolUrlTemplate=this.url+\"/\"+i.cimRefTemplateUrl,this._itemNames=new Set(i.itemsNames),this._symbolFields=n.symbol;const a={};if(this.config){const e=this.config;for(const s in e)a[s]=e[s]}for(const e of n.configuration)a.hasOwnProperty(e.name)||(a[e.name]=e.value);const c=[];if(t(e)&&e.fields&&this.fieldMap)for(const s of this._symbolFields){const t=this.fieldMap[s],r=e.fields.filter((e=>e.name===t));r.length>0&&c.push({...r[0],name:s})}return this._dictionaryPromise=f(o,t(e)?e.spatialReference:null,c,a).then((e=>{const s={scale:0};return(r,i)=>{const o=e.repurposeFeature({geometry:null,attributes:r});return s.scale=t(i)?i.scale:void 0,e.evaluate({$feature:o,$view:s})}})).catch((e=>(x.error(\"Creating dictinoary expression failed:\",e),null))),this._dictionaryPromise}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,s)=>e+s.getAttributeHash()),\"\")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._symbolFields}async _getSymbolPart(e,s){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const t=this._refSymbolUrlTemplate.replace(/\\{itemName\\}/gi,e),r=g(t,{responseType:\"json\",query:{f:\"json\"},...s});this._ongoingRequests.set(e,r);try{return(await r).data}catch(s){return this._ongoingRequests.delete(e),u(s)}}_combineSymbolParts(e,s){if(!e||0===e.length)return null;if(1===e.length)return{type:\"CIMSymbolReference\",symbol:e[0],primitiveOverrides:s};const t={...e[0]};t.symbolLayers=[];for(const s of e){const e=s;t.symbolLayers.unshift(...e.symbolLayers)}return{type:\"CIMSymbolReference\",symbol:t,primitiveOverrides:s}}async _cimPartsToCIMSymbol(e,s,t){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=this._getSymbolPart(e[s],t);const i=await p(r);return new d({data:this._combineSymbolParts(i,s)})}};e([o({type:Object,json:{read:{source:\"configuration\"},write:{target:\"configuration\"}}})],v.prototype,\"config\",void 0),e([o({type:Object,json:{write:!0}})],v.prototype,\"fieldMap\",void 0),e([o({type:String,json:{read:{source:\"scalingExpressionInfo.expression\"},write:!0}})],v.prototype,\"scaleExpression\",void 0),e([a(\"scaleExpression\")],v.prototype,\"writeData\",null),e([o({type:String,json:{read:{source:\"scalingExpressionInfo.title\"},write:{target:\"scalingExpressionInfo.title\",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],v.prototype,\"scaleExpressionTitle\",void 0),e([o({type:String,json:{write:!0}})],v.prototype,\"url\",void 0),e([a(\"visualVariables\")],v.prototype,\"writeVisualVariables\",null),v=w=e([n(\"esri.renderers.DictionaryRenderer\")],v);var S=v;export default S;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{setDeepValue as e}from\"../../core/object.js\";import r from\"../../core/Warning.js\";import{createTypeReader as n}from\"../../core/accessorSupport/extensions/serializableProperty/reader.js\";import s from\"../../core/Error.js\";import{rendererTypes as t}from\"./types.js\";function o(r,n,t,o){const u=function(e,r){if(!e)return null;if(!function(e,r){if(!r||\"web-scene\"!==r.origin)return!0;switch(e.type){case\"simple\":case\"unique-value\":case\"class-breaks\":return!0;case\"heatmap\":case\"dictionary\":case\"dot-density\":default:return!1}}(e,r))return r.messages&&r.messages.push(new s(\"renderer:unsupported\",`Renderer of type '${e.declaredClass}' are not supported in scenes.`,{renderer:e,context:r})),null;return e.write({},r)}(r,o);u&&e(t,u,n)}function u(e,r){return a(e,null,r)}const i=n({types:t});function a(e,n,s){return e?e&&(e.styleName||e.styleUrl)&&\"uniqueValue\"!==e.type?(s&&s.messages&&s.messages.push(new r(\"renderer:unsupported\",\"Only UniqueValueRenderer can be referenced from a web style, but found '\"+e.type+\"'\",{definition:e,context:s})),null):i(e,n,s):null}export{u as fromJSON,a as read,o as write};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../Renderer.js\";import r from\"../ClassBreaksRenderer.js\";import t from\"../UniqueValueRenderer.js\";import o from\"../DictionaryRenderer.js\";import s from\"../DotDensityRenderer.js\";import a from\"../HeatmapRenderer.js\";import i from\"../SimpleRenderer.js\";const m={key:\"type\",base:e,typeMap:{heatmap:a,simple:i,\"unique-value\":t,\"class-breaks\":r,\"dot-density\":s,dictionary:o},errorContext:\"renderer\"},n={key:\"type\",base:e,typeMap:{simple:i,\"unique-value\":t,\"class-breaks\":r},errorContext:\"renderer\"};export{m as rendererTypes,n as webSceneRendererTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import o from\"../../core/Logger.js\";import{ensureString as e}from\"../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as l}from\"../../core/JSONSupport.js\";import p from\"../../Color.js\";var n;const u=o.getLogger(\"esri.renderers.support.AttributeColorInfo\");let c=n=class extends l{constructor(r){super(r),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(r){return null==r?r:\"function\"==typeof r?(u.error(\".field: field must be a string value\"),null):e(r)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};r([t({type:p,json:{type:[Number],write:!0}})],c.prototype,\"color\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"field\",void 0),r([s(\"field\")],c.prototype,\"castField\",null),r([t({type:String,json:{write:!0}})],c.prototype,\"label\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"valueExpression\",void 0),r([t({type:String,json:{write:!0}})],c.prototype,\"valueExpressionTitle\",void 0),c=n=r([i(\"esri.renderers.support.AttributeColorInfo\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";var e;let p=e=class extends t{constructor(){super(...arguments),this.unit=null}clone(){return new e({unit:this.unit})}};r([o({type:String,json:{write:!0}})],p.prototype,\"unit\",void 0),p=e=r([s(\"esri.renderers.support.DotDensityLegendOptions\")],p);var i=p;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as t}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{aliasOf as r}from\"../core/accessorSupport/decorators/aliasOf.js\";import{enumeration as i}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{collectArcadeFieldNames as n}from\"../layers/support/fieldUtils.js\";import l from\"../Color.js\";import p from\"../symbols/SimpleLineSymbol.js\";import a from\"../symbols/SimpleFillSymbol.js\";import u from\"./Renderer.js\";import{VisualVariablesMixin as d}from\"./mixins/VisualVariablesMixin.js\";import c from\"./support/AttributeColorInfo.js\";import h from\"./support/DotDensityLegendOptions.js\";var m;let y=m=class extends(d(u)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new l([0,0,0,0]),this.blendDots=!0,this.dotBlendingEnabled=!0,this.dotShape=\"square\",this.dotSize=1,this.legendOptions=null,this.outline=new p,this.dotValue=null,this.referenceDotValue=null,this.referenceScale=null,this.seed=1,this.type=\"dot-density\"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new a({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes&&this.attributes.reduce(((e,t)=>e+t.getAttributeHash()),\"\")}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new m({attributes:t(this.attributes),backgroundColor:t(this.backgroundColor),dotBlendingEnabled:t(this.dotBlendingEnabled),dotShape:t(this.dotShape),dotSize:t(this.dotSize),dotValue:t(this.dotValue),legendOptions:t(this.legendOptions),outline:t(this.outline),referenceScale:t(this.referenceScale),visualVariables:t(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){return`${this.attributes.map((e=>e.field||e.valueExpression||\"\"))}-${this.outline&&JSON.stringify(this.outline.toJSON())||\"\"}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const o of this.attributes)o.valueExpression&&await n(e,t,o.valueExpression),o.field&&e.add(o.field)}};e([o({type:[c],json:{write:!0}})],y.prototype,\"attributes\",void 0),e([o({type:l,json:{write:!0}})],y.prototype,\"backgroundColor\",void 0),e([o({type:Boolean}),r(\"dotBlendingEnabled\")],y.prototype,\"blendDots\",void 0),e([o({type:Boolean,json:{write:!0}})],y.prototype,\"dotBlendingEnabled\",void 0),e([o({type:String,json:{write:!1}})],y.prototype,\"dotShape\",void 0),e([o({type:Number,json:{write:!1}})],y.prototype,\"dotSize\",void 0),e([o({type:h,json:{write:!0}})],y.prototype,\"legendOptions\",void 0),e([o({type:p,json:{default:null,write:!0}})],y.prototype,\"outline\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"dotValue\",void 0),e([o({type:Number}),r(\"dotValue\")],y.prototype,\"referenceDotValue\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"referenceScale\",void 0),e([o({type:Number,json:{write:!0}})],y.prototype,\"seed\",void 0),e([i({dotDensity:\"dot-density\"})],y.prototype,\"type\",void 0),y=m=e([s(\"esri.renderers.DotDensityRenderer\")],y);var b=y;export default b;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import e from\"../../Color.js\";var p;let i=p=class extends s{constructor(r){super(r),this.color=null,this.ratio=null}clone(){return new p({color:this.color,ratio:this.ratio})}};r([o({type:e,json:{write:!0}})],i.prototype,\"color\",void 0),r([o({type:Number,json:{write:!0}})],i.prototype,\"ratio\",void 0),i=p=r([t(\"esri.renderers.support.HeatmapColorStop\")],i);var c=i;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{clone as e}from\"../core/lang.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{enumeration as o}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{collectField as i}from\"../layers/support/fieldUtils.js\";import p from\"../Color.js\";import n from\"./Renderer.js\";import l from\"./support/HeatmapColorStop.js\";var a;let m=a=class extends n{constructor(t){super(t),this.blurRadius=10,this.colorStops=[new l({ratio:0,color:new p(\"rgba(255, 140, 0, 0)\")}),new l({ratio:.75,color:new p(\"rgba(255, 140, 0, 1)\")}),new l({ratio:.9,color:new p(\"rgba(255, 0,   0, 1)\")})],this.field=null,this.fieldOffset=0,this.maxPixelIntensity=100,this.minPixelIntensity=0,this.type=\"heatmap\"}async collectRequiredFields(t,e){const r=this.field;r&&\"string\"==typeof r&&i(t,e,r)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new a({blurRadius:this.blurRadius,colorStops:e(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})}};t([r({type:Number,json:{write:!0}})],m.prototype,\"blurRadius\",void 0),t([r({type:[l],json:{write:!0}})],m.prototype,\"colorStops\",void 0),t([r({type:String,json:{write:!0}})],m.prototype,\"field\",void 0),t([r({type:Number,json:{write:{overridePolicy:(t,e,r)=>({enabled:null==r})}}})],m.prototype,\"fieldOffset\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"maxPixelIntensity\",void 0),t([r({type:Number,json:{write:!0}})],m.prototype,\"minPixelIntensity\",void 0),t([o({heatmap:\"heatmap\"})],m.prototype,\"type\",void 0),m=a=t([s(\"esri.renderers.HeatmapRenderer\")],m);var c=m;export default c;\n"],"sourceRoot":""}