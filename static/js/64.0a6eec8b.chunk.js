(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[64],{1055:function(e,t,i){"use strict";i.r(t);var r,n=i(10),a=i.n(n),o=i(21),s=i(9),l=i(2),c=i(3),u=i(5),p=i(6),b=i(0),f=i(51),d=(i(13),i(4)),v=i(14),y=i(15),h=i(1),j=i(50),m=i(63),O=i(234),g=i(8),w=i(47),S=i(23),x=(i(11),i(19),i(20),i(16)),_=i(44),k=i(62),F=(i(77),i(157)),I=i(277),E=i(81),z=i(149),R=i(244),V=i(796),L=i(389),T=i(788),D=i(810),N=(i(814),i(824),i(833)),P=(i(863),i(874),i(875),i(862)),C=i(871),M=i(870),A=i(246),U=i(791),$=i(867),J=i(381),B=i(803),q=i(802),W=i(380),G=i(826),H=i(794),Z=i(872),Q=i(864),K=i(836),X=i(813),Y=i(278),ee=i(28),te=r=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(){var e;return Object(l.a)(this,i),(e=t.apply(this,arguments)).age=null,e.ageReceived=null,e.displayCount=null,e.maxObservations=1,e}return Object(c.a)(i,[{key:"clone",value:function(){return new r({age:this.age,ageReceived:this.ageReceived,displayCount:this.displayCount,maxObservations:this.maxObservations})}}]),i}(ee.a);Object(b.a)([Object(h.b)({type:Number,json:{write:!0}})],te.prototype,"age",void 0),Object(b.a)([Object(h.b)({type:Number,json:{write:!0}})],te.prototype,"ageReceived",void 0),Object(b.a)([Object(h.b)({type:Number,json:{write:!0}})],te.prototype,"displayCount",void 0),Object(b.a)([Object(h.b)({type:Number,json:{write:!0}})],te.prototype,"maxObservations",void 0);var ie=te=r=Object(b.a)([Object(g.a)("esri.layers.support.PurgeOptions")],te),re=v.a.getLogger("esri.layers.StreamLayer"),ne=new j.a({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),ae=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(){var e;Object(l.a)(this,i);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).copyright=null,e.definitionExpression=null,e.displayField=null,e.elevationInfo=null,e.featureReduction=null,e.fields=null,e.geometryDefinition=null,e.geometryType=null,e.labelsVisible=!0,e.labelingInfo=null,e.legendEnabled=!0,e.maxReconnectionAttempts=0,e.maxReconnectionInterval=20,e.objectIdField=null,e.operationalLayerType="ArcGISStreamLayer",e.popupEnabled=!0,e.popupTemplate=null,e.purgeOptions=new ie,e.screenSizePerspectiveEnabled=!0,e.sourceJSON=null,e.spatialReference=_.a.WGS84,e.type="stream",e.url=null,e.updateInterval=300,e.webSocketUrl=null,e}return Object(c.a)(i,[{key:"normalizeCtorArgs",value:function(e,t){return"string"==typeof e?Object(s.a)({url:e},t):e}},{key:"load",value:function(e){var t=this;"WebSocket"in f.a||Object(x.t)(new S.a("stream-layer:websocket-unsupported","WebSocket is not supported in this browser. StreamLayer will not have real-time connection with the stream service."));var i=Object(d.i)(e)?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Stream Service"]},e).catch((function(e){return e})).then((function(){return t._fetchService(i)}))),Object(x.u)(this)}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"readFeatureReduction",value:function(e,t){return Object(Z.a)(e,t)}},{key:"writeWebSceneFeatureReduction",value:function(e,t,i,r){Object(Z.c)(e,t,"layerDefinition.featureReduction",r)}},{key:"fieldsIndex",get:function(){return new U.a(this.fields)}},{key:"renderer",set:function(e){Object(F.j)(e,this.fields),this._set("renderer",e)}},{key:"readRenderer",value:function(e,t,i){var r=(t=t.layerDefinition||t).drawingInfo&&t.drawingInfo.renderer||void 0;if(r){var n=Object(M.b)(r,t,i)||void 0;return n||re.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),n}if(t.defaultSymbol)return t.types&&t.types.length?new N.a({defaultSymbol:oe(t.defaultSymbol,t,i),field:t.typeIdField,uniqueValueInfos:t.types.map((function(e){return{id:e.id,symbol:oe(e.symbol,e,i)}}))}):new P.a({symbol:oe(t.defaultSymbol,t,i)})}},{key:"writeRenderer",value:function(e,t,i,r){Object(M.c)(e,t,i,r)}},{key:"writeWebSceneRenderer",value:function(e,t,i,r){Object(M.c)(e,t,"layerDefinition.drawingInfo.renderer",r)}},{key:"createPopupTemplate",value:function(e){return Object(X.a)(this,e)}},{key:"createQuery",value:function(){var e=new Y.a;return e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1",e}},{key:"getFieldDomain",value:function(e,t){if(!this.fields)return null;var i=null;return this.fields.some((function(t){return t.name===e&&(i=t.domain),!!i})),i}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"_fetchService",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var i,r,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.webSocketUrl){e.next=12;break}if(null!=(r=this.timeInfo)&&r.trackIdField){e.next=3;break}throw new S.a("stream-layer:missing-metadata","The stream layer trackIdField must be specified.");case 3:if(this.objectIdField){e.next=5;break}throw new S.a("stream-layer:missing-metadata","The stream layer objectIdField must be specified.");case 5:if(this.fields){e.next=7;break}throw new S.a("stream-layer:missing-metadata","The stream layer fields must be specified.");case 7:if(this.geometryType){e.next=9;break}throw new S.a("stream-layer:missing-metadata","The stream layer geometryType must be specified.");case 9:this.url=this.webSocketUrl,e.next=18;break;case 12:if(this.sourceJSON){e.next=18;break}return e.next=15,Object(E.default)(this.parsedUrl.path,{query:Object(s.a)({f:"json"},this.parsedUrl.query),responseType:"json",signal:t});case 15:n=e.sent,o=n.data,this.sourceJSON=o;case 18:return e.abrupt("return",(this.sourceJSON=Object(s.a)(Object(s.a)({},null!=(i=this.sourceJSON)?i:{}),{},{objectIdField:"__esri_stream_id__"}),this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl}),Object(F.j)(this.renderer,this.fields),Object(F.k)(this.timeInfo,this.fields),Object(K.a)(this,{origin:"service"})));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),i}(Object(J.a)(Object(G.a)(Object(W.a)(Object(q.a)(Object($.a)(Object(D.a)(Object(B.a)(Object(V.a)(R.a)))))))));Object(b.a)([Object(h.b)({type:String})],ae.prototype,"copyright",void 0),Object(b.a)([Object(h.b)({readOnly:!0,dependsOn:["fields","title"]})],ae.prototype,"defaultPopupTemplate",null),Object(b.a)([Object(h.b)({type:String})],ae.prototype,"definitionExpression",void 0),Object(b.a)([Object(h.b)({type:String})],ae.prototype,"displayField",void 0),Object(b.a)([Object(h.b)({type:L.a})],ae.prototype,"elevationInfo",void 0),Object(b.a)([Object(m.a)("featureReduction",["layerDefinition.featureReduction"])],ae.prototype,"readFeatureReduction",null),Object(b.a)([Object(w.a)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:Z.b}})],ae.prototype,"writeWebSceneFeatureReduction",null),Object(b.a)([Object(h.b)({type:[A.a]})],ae.prototype,"fields",void 0),Object(b.a)([Object(h.b)({readOnly:!0,dependsOn:["fields"]})],ae.prototype,"fieldsIndex",null),Object(b.a)([Object(h.b)({type:k.a})],ae.prototype,"geometryDefinition",void 0),Object(b.a)([Object(h.b)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:ne.read}}})],ae.prototype,"geometryType",void 0),Object(b.a)([Object(h.b)(T.c)],ae.prototype,"labelsVisible",void 0),Object(b.a)([Object(h.b)({type:[H.a],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Q.a},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],ae.prototype,"labelingInfo",void 0),Object(b.a)([Object(h.b)(T.d)],ae.prototype,"legendEnabled",void 0),Object(b.a)([Object(h.b)({type:["show","hide"]})],ae.prototype,"listMode",void 0),Object(b.a)([Object(h.b)({type:y.a})],ae.prototype,"maxReconnectionAttempts",void 0),Object(b.a)([Object(h.b)({type:y.a})],ae.prototype,"maxReconnectionInterval",void 0),Object(b.a)([Object(h.b)({type:String})],ae.prototype,"objectIdField",void 0),Object(b.a)([Object(h.b)({value:"ArcGISStreamLayer",type:["ArcGISStreamLayer"]})],ae.prototype,"operationalLayerType",void 0),Object(b.a)([Object(h.b)(T.g)],ae.prototype,"popupEnabled",void 0),Object(b.a)([Object(h.b)({type:I.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ae.prototype,"popupTemplate",void 0),Object(b.a)([Object(h.b)({type:ie})],ae.prototype,"purgeOptions",void 0),Object(b.a)([Object(h.b)({types:C.a,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}}},write:{target:"layerDefinition.drawingInfo.renderer"}}})],ae.prototype,"renderer",null),Object(b.a)([Object(m.a)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Object(m.a)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ae.prototype,"readRenderer",null),Object(b.a)([Object(w.a)("renderer")],ae.prototype,"writeRenderer",null),Object(b.a)([Object(w.a)("web-scene","renderer",{"layerDefinition.drawingInfo.renderer":{types:C.b}})],ae.prototype,"writeWebSceneRenderer",null),Object(b.a)([Object(h.b)(T.i)],ae.prototype,"screenSizePerspectiveEnabled",void 0),Object(b.a)([Object(h.b)({type:_.a,json:{origins:{service:{read:{source:"spatialReference"}}}}})],ae.prototype,"spatialReference",void 0),Object(b.a)([Object(h.b)({json:{read:!1}})],ae.prototype,"type",void 0),Object(b.a)([Object(h.b)(T.j)],ae.prototype,"url",void 0),Object(b.a)([Object(h.b)({type:Number})],ae.prototype,"updateInterval",void 0),Object(b.a)([Object(h.b)({type:String})],ae.prototype,"webSocketUrl",void 0),ae=Object(b.a)([Object(g.a)("esri.layers.StreamLayer")],ae);var oe=Object(O.b)({types:z.a}),se=ae;t.default=se},791:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i(12),n=i(2),a=i(3);function o(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function s(e){return e.toLowerCase().trim()}var l=function(){function e(t){if(Object(n.a)(this,e),this.fields=t,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],t){var i,a=[],l=Object(r.a)(t);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=c&&c.name;if(u){var p=s(u);this._fieldsMap.set(u,c),this._fieldsMap.set(p,c),a.push(p),o(c)&&(this.dateFields.push(c),this._dateFieldsSet.add(c))}}}catch(b){l.e(b)}finally{l.f()}a.sort(),this.uid=a.join(",")}}return Object(a.a)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(s(e)):void 0}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t=this.get(e);if(t)return t.name}}]),e}()},793:function(e,t,i){"use strict";i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return d})),i.d(t,"c",(function(){return y})),i.d(t,"d",(function(){return v})),i.d(t,"e",(function(){return f}));i(13);var r=i(4),n=i(110),a=i(150),o=i(118),s=i(233),l=i(799),c=o.a.fromJSON(l.a),u=n.a.fromJSON(l.c),p=a.a.fromJSON(l.b),b=s.a.fromJSON(l.d);function f(e){if(Object(r.h)(e))return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return c;case"polyline":return u;case"polygon":case"extent":return p}return null}var d=o.a.fromJSON(l.e),v=n.a.fromJSON(l.g),y=a.a.fromJSON(l.f)},794:function(e,t,i){"use strict";var r,n=i(2),a=i(3),o=i(5),s=i(6),l=i(0),c=(i(13),i(24)),u=(i(14),i(15),i(1)),p=i(50),b=i(63),f=i(8),d=i(47),v=(i(11),i(19),i(20),i(28)),y=i(149),h=i(806),j=r=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){var e;return Object(n.a)(this,i),(e=t.apply(this,arguments)).expression=null,e.title=null,e.value=null,e}return Object(a.a)(i,[{key:"readExpression",value:function(e,t){return t.value?Object(h.a)(t.value):e}},{key:"writeExpression",value:function(e,t,i){null!=this.value&&(e=Object(h.a)(this.value)),t[i]=e}},{key:"clone",value:function(){return new r({expression:this.expression,title:this.title,value:this.value})}}]),i}(v.a);Object(l.a)([Object(u.b)({type:String,json:{write:{allowNull:!0}}})],j.prototype,"expression",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],j.prototype,"title",void 0),Object(l.a)([Object(u.b)({json:{read:!1,write:!1}})],j.prototype,"value",void 0),Object(l.a)([Object(b.a)("expression",["expression","value"])],j.prototype,"readExpression",null),Object(l.a)([Object(d.a)("expression")],j.prototype,"writeExpression",null);var m,O=j=r=Object(l.a)([Object(f.a)("esri.layers.support.LabelExpressionInfo")],j),g=i(793),w=new p.a({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function S(e){return!e||"service"!==e.origin&&!(e.layer&&"map-image"===e.layer.type)}var x=m=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).type="label",r.name=null,r.deconflictionStrategy="static",r.labelExpression=null,r.labelExpressionInfo=null,r.labelPlacement=null,r.maxScale=0,r.minScale=0,r.symbol=g.a,r.useCodedValues=void 0,r.where=null,r}return Object(a.a)(i,[{key:"readLabelExpression",value:function(e,t){var i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}},{key:"writeLabelExpression",value:function(e,t,i,r){if(this.labelExpressionInfo&&(S(r)||r&&"service"===r.origin))if(null!=this.labelExpressionInfo.value)e=Object(h.f)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){var n=Object(h.e)(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}null!=e&&(t[i]=e)}},{key:"writeLabelExpressionInfo",value:function(e,t,i,r){if(null==e&&null!=this.labelExpression&&S(r))e=new O({expression:this.getLabelExpressionArcade()});else if(!e)return;var n=e.toJSON(r);n.expression&&(t[i]=n)}},{key:"writeMaxScale",value:function(e,t){(e||this.minScale)&&(t.maxScale=e)}},{key:"writeMinScale",value:function(e,t){(e||this.maxScale)&&(t.minScale=e)}},{key:"getLabelExpression",value:function(){return Object(h.b)(this)}},{key:"getLabelExpressionArcade",value:function(){return Object(h.c)(this)}},{key:"getLabelExpressionSingleField",value:function(){return Object(h.d)(this)}},{key:"hash",value:function(){return JSON.stringify(this)}},{key:"clone",value:function(){return new m({deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:Object(c.a)(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:Object(c.a)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}}],[{key:"evaluateWhere",value:function(e,t){var i=function(e,t,i){switch(t){case"=":return e==i;case"<>":return e!=i;case">":return e>i;case">=":return e>=i;case"<":return e<i;case"<=":return e<=i}return!1};try{if(null==e)return!0;var r=e.split(" ");if(3===r.length)return i(t[r[0]],r[1],r[2]);if(7===r.length){var n=i(t[r[0]],r[1],r[2]),a=r[3],o=i(t[r[4]],r[5],r[6]);switch(a){case"AND":return n&&o;case"OR":return n||o}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}}]),i}(v.a);Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],x.prototype,"name",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],x.prototype,"deconflictionStrategy",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:{allowNull:!0}}})],x.prototype,"labelExpression",void 0),Object(l.a)([Object(b.a)("labelExpression")],x.prototype,"readLabelExpression",null),Object(l.a)([Object(d.a)("labelExpression")],x.prototype,"writeLabelExpression",null),Object(l.a)([Object(u.b)({type:O,json:{write:{overridePolicy:function(e,t,i){return S(i)?{allowNull:!0}:{enabled:!1}}}}})],x.prototype,"labelExpressionInfo",void 0),Object(l.a)([Object(d.a)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),Object(l.a)([Object(u.b)({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],x.prototype,"labelPlacement",void 0),Object(l.a)([Object(u.b)({type:Number})],x.prototype,"maxScale",void 0),Object(l.a)([Object(d.a)("maxScale")],x.prototype,"writeMaxScale",null),Object(l.a)([Object(u.b)({type:Number})],x.prototype,"minScale",void 0),Object(l.a)([Object(d.a)("minScale")],x.prototype,"writeMinScale",null),Object(l.a)([Object(u.b)({types:y.d,json:{origins:{"web-scene":{types:y.g,write:y.j,default:null}},write:y.j,default:null}})],x.prototype,"symbol",void 0),Object(l.a)([Object(u.b)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],x.prototype,"where",void 0);var _=x=m=Object(l.a)([Object(f.a)("esri.layers.support.LabelClass")],x);t.a=_},795:function(e,t,i){"use strict";function r(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function n(e){return null!=e&&!isNaN(e)&&isFinite(e)}function a(e){return e.valueExpression?"expression":e.field&&"string"==typeof e.field?"field":"unknown"}function o(e,t){var i=t||a(e),r=e.valueUnit||"unknown";return"unknown"===i?"constant":e.stops?"stops":null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?"clamped-linear":"unknown"===r?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?"proportional":"additive":"identity":"real-world-size"}i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return n}))},798:function(e,t,i){"use strict";var r,n=i(2),a=i(3),o=i(5),s=i(6),l=i(0),c=(i(13),i(14),i(15),i(1)),u=i(8),p=(i(11),i(19),i(20),i(28)),b=i(174),f=r=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).value=0,r.unit="milliseconds",r}return Object(a.a)(i,[{key:"toMilliseconds",value:function(){return this.value*b.b[this.unit]}},{key:"clone",value:function(){return new r({value:this.value,unit:this.unit})}}]),i}(p.a);Object(l.a)([Object(c.b)({type:Number,json:{write:!0},nonNullable:!0})],f.prototype,"value",void 0),Object(l.a)([Object(c.b)({type:b.d.apiValues,json:{type:b.d.jsonValues,read:b.d.read,write:b.d.write},nonNullable:!0})],f.prototype,"unit",void 0);var d=f=r=Object(l.a)([Object(u.a)("esri.TimeInterval")],f);t.a=d},799:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return s})),i.d(t,"e",(function(){return l})),i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return c}));var r=[252,146,31,255],n={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},a={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},s={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},801:function(e,t,i){"use strict";var r=i(2),n=i(5),a=i(6),o=i(0),s=(i(13),i(14),i(15),i(1)),l=i(8),c=(i(11),i(19),i(20),function(e){Object(n.a)(i,e);var t=Object(a.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.apply(this,arguments)).type=null,e}return i}(i(28).a));Object(o.a)([Object(s.b)({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);var u=c=Object(o.a)([Object(l.a)("esri.layers.support.FeatureReduction")],c);t.a=u},802:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r=i(2),n=i(3),a=i(5),o=i(6),s=i(0),l=(i(13),i(14),i(15),i(1)),c=i(8),u=(i(11),i(19),i(20),function(e){var t=function(e){Object(a.a)(i,e);var t=Object(o.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.apply(this,arguments)).refreshInterval=0,e}return Object(n.a)(i,[{key:"refresh",value:function(){this.emit("refresh")}}]),i}(e);return Object(s.a)([Object(l.b)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0,origins:{"web-document":{write:!0}}}})],t.prototype,"refreshInterval",void 0),t=Object(s.a)([Object(c.a)("esri.layers.mixins.RefreshableLayer")],t)})},805:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return v})),i.d(t,"c",(function(){return y}));var r=i(26),n=i(12),a=i(4),o=i(98),s=i(33),l=i(41),c=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function u(e){return e instanceof s.a}function p(e){return e instanceof l.a?Object.keys(e.items):u(e)?Object(o.a)(e).keys():e?Object.keys(e):[]}function b(e,t){return e instanceof l.a?e.items[t]:e[t]}function f(e){return e?e.declaredClass:null}function d(e,t){var i=e.diff;if(i&&"function"==typeof i)return i(e,t);var o=p(e),s=p(t);if(0!==o.length||0!==s.length){if(!o.length||!s.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var l,v=s.filter((function(e){return-1===o.indexOf(e)})),y=o.filter((function(e){return-1===s.indexOf(e)})),h=o.filter((function(i){return s.indexOf(i)>-1&&b(e,i)!==b(t,i)})).concat(v,y).sort(),j=f(e);if(j&&c.indexOf(j)>-1&&h.length)return{type:"complete",oldValue:e,newValue:t};var m,O=u(e)&&u(t),g=Object(n.a)(h);try{for(g.s();!(m=g.n()).done;){var w=m.value,S=b(e,w),x=b(t,w),_=void 0;(O||"function"!=typeof S&&"function"!=typeof x)&&S!==x&&(null==S&&null==x||(_=i&&i[w]&&"function"==typeof i[w]?i[w](S,x):"object"==typeof S&&"object"==typeof x&&f(S)===f(x)?d(S,x):{type:"complete",oldValue:S,newValue:x},Object(a.i)(_)&&(Object(a.i)(l)?l.diff[w]=_:l={type:"partial",diff:Object(r.a)({},w,_)})))}}catch(k){g.e(k)}finally{g.f()}return l}}function v(e,t){if(Object(a.h)(e))return!1;var i,r=t.split("."),o=e,s=Object(n.a)(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;if("complete"===o.type)return!0;if("partial"!==o.type)return!1;var c=o.diff[l];if(!c)return!1;o=c}}catch(u){s.e(u)}finally{s.f()}return!0}function y(e,t){var i,r=Object(n.a)(t);try{for(r.s();!(i=r.n()).done;){if(v(e,i.value))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}function h(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&f(e)!==f(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},806:function(e,t,i){"use strict";i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"e",(function(){return h})),i.d(t,"f",(function(){return l}));var r=i(108),n=new RegExp("__begin__","ig"),a=new RegExp("__end__","ig"),o=new RegExp("^__begin__","i"),s=new RegExp("__end__$","i");function l(e){return e.replace(new RegExp("\\{","g"),"[").replace(new RegExp("\\}","g"),"]")}function c(e){var t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=function(e){return e.replace(new RegExp("\\[","g"),"{").replace(new RegExp("\\]","g"),"}")}(e.labelExpression),t.type="conventional"),t}function u(e){var t=c(e);if(!t)return null;switch(t.type){case"conventional":return b(t.expression);case"arcade":return t.expression}return null}function p(e){var t=c(e);if(!t)return null;switch(t.type){case"conventional":return function(e){var t=e.match(f);return t&&t[1].trim()||null}(t.expression);case"arcade":return h(t.expression)}return null}function b(e){var t;return e?(t=Object(r.c)(e,(function(e){return'__begin__$feature["'+e+'"]__end__'})),t=o.test(t)?t.replace(o,""):'"'+t,t=(t=s.test(t)?t.replace(s,""):t+'"').replace(n,'" + ').replace(a,' + "')):t='""',t}var f=/^\s*\{([^}]+)\}\s*$/i;var d=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,v=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,y=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function h(e){if(!e)return null;var t=d.exec(e)||v.exec(e);return t?t[1]||t[3]:(t=y.exec(e))?t[2]:null}},807:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return u}));var r=i(32),n=i(12),a=i(2),o=i(3),s=i(129),l=-3,c=function(){function e(t,i,r){Object(a.a)(this,e),this._namespace=t,this._storage=i,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}return Object(o.a)(e,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"destroy",value:function(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this)}},{key:"put",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this._namespace+e,t,i,r)}},{key:"get",value:function(e){var t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,i){this._storage.updateSize(this._namespace+e,t,i)}},{key:"clear",value:function(){this._storage.clear(this._namespace)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"getStats",value:function(){return this._storage.getStats()}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;Object(a.a)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=[],this._users=new s.a}return Object(o.a)(e,[{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs=this._removeFuncs.filter((function(t){return t[0]!==e}))}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}},{key:"put",value:function(e,t,i,r){var n=this._db.get(e);if(n&&(this._size-=n.size,this._db.delete(e),n.entry!==t&&this._notifyRemoved(e,n.entry)),i>this._maxSize)this._notifyRemoved(e,t);else if(void 0!==t)if(!i||i<0)console.warn("Refusing to cache entry with invalid size "+i);else{var a=1+Math.max(r,-3)- -3;this._db.set(e,{entry:t,size:i,lifetime:a,lives:a}),this._size+=i,this._checkSizeLimit()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,i){var r=this._db.get(e);r&&r.entry===t&&(this._size-=r.size,i>this._maxSize?this._notifyRemoved(e,t):(r.size=i,this._size+=i,this._checkSizeLimit()))}},{key:"pop",value:function(e){var t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}},{key:"get",value:function(e){var t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}},{key:"getStats",value:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((function(t,n){var a=t.lifetime;r[a]=(r[a]||0)+t.size,e._users.forAll((function(e){var r=e.namespace;if(n.startsWith(r)){var a=i[r]||0;i[r]=a+t.size}}))}));var n={};this._users.forAll((function(e){var t=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){var r=i[t]||0;i[t]=r,n[t]=Math.round(100*e.hitRate)+"%"}else n[t]="0%"}));var a=Object.keys(i);a.forEach((function(t){return i[t]=i[t]/e._size*100})),a.sort((function(e,t){return i[t]-i[e]})),a.forEach((function(e){return t[e]=Math.round(i[e])+"% / "+n[e]}));for(var o=r.length-1;o>=0;--o){var s=r[o];s&&(t["Priority "+(o+-3-1)]=Math.round(s/this.size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this;this._db.forEach((function(i,r){r.startsWith(e)&&(t._size-=i.size,t._db.delete(r),t._notifyRemoved(r,i.entry))}))}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,i){return e._notifyRemoved(i,t.entry)})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemoved",value:function(e,t){this._removeFuncs.forEach((function(i){e.startsWith(i[0])&&i[1](t)}))}},{key:"_checkSizeLimit",value:function(){if(!(this._size<=this._maxSize)){var e,t=Object(n.a)(this._db);try{for(t.s();!(e=t.n()).done;){var i=Object(r.a)(e.value,2),a=i[0],o=i[1];if(this._db.delete(a),o.lives<=1?(this._size-=o.size,this._notifyRemoved(a,o.entry)):(--o.lives,this._db.set(a,o)),this._size<=.9*this.maxSize)return}}catch(s){t.e(s)}finally{t.f()}}}}]),e}()},808:function(e,t,i){"use strict";var r,n=i(2),a=i(3),o=i(5),s=i(6),l=i(0),c=(i(13),i(24)),u=(i(14),i(15),i(1)),p=i(63),b=i(8),f=i(47),d=(i(11),i(19),i(20),i(28)),v=i(174),y=i(305),h=i(798),j=r=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).respectsDaylightSaving=!1,r.timezone=null,r}return Object(a.a)(i,[{key:"readRespectsDaylightSaving",value:function(e,t){return void 0!==t.respectsDaylightSaving?t.respectsDaylightSaving:void 0!==t.respectDaylightSaving&&t.respectDaylightSaving}},{key:"clone",value:function(){var e=this.respectsDaylightSaving,t=this.timezone;return new r({respectsDaylightSaving:e,timezone:t})}}]),i}(d.a);Object(l.a)([Object(u.b)({type:Boolean,json:{write:!0}})],j.prototype,"respectsDaylightSaving",void 0),Object(l.a)([Object(p.a)("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],j.prototype,"readRespectsDaylightSaving",null),Object(l.a)([Object(u.b)({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],j.prototype,"timezone",void 0);var m,O=j=r=Object(l.a)([Object(b.a)("esri.layers.support.TimeReference")],j),g=m=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).cumulative=!1,r.endField=null,r.fullTimeExtent=null,r.hasLiveData=!1,r.interval=null,r.startField=null,r.timeReference=null,r.trackIdField=null,r.useTime=!0,r}return Object(a.a)(i,[{key:"readFullTimeExtent",value:function(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;var i=new Date(t.timeExtent[0]),r=new Date(t.timeExtent[1]);return new y.a({start:i,end:r})}},{key:"writeFullTimeExtent",value:function(e,t){e&&e.start&&e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}},{key:"readInterval",value:function(e,t){return t.timeInterval&&t.timeIntervalUnits?new h.a({value:t.timeInterval,unit:v.d.fromJSON(t.timeIntervalUnits)}):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?new h.a({value:t.defaultTimeInterval,unit:v.d.fromJSON(t.defaultTimeIntervalUnits)}):null}},{key:"writeInterval",value:function(e,t){if(e){var i=e.toJSON();t.timeInterval=i.value,t.timeIntervalUnits=i.unit}else t.timeInterval=null,t.timeIntervalUnits=null}},{key:"clone",value:function(){var e=this.cumulative,t=this.endField,i=this.hasLiveData,r=this.interval,n=this.startField,a=this.timeReference,o=this.fullTimeExtent,s=this.trackIdField,l=this.useTime;return new m({cumulative:e,endField:t,hasLiveData:i,interval:r,startField:n,timeReference:Object(c.a)(a),fullTimeExtent:Object(c.a)(o),trackIdField:s,useTime:l})}}]),i}(d.a);Object(l.a)([Object(u.b)({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},write:{target:"exportOptions.timeDataCumulative"}}})],g.prototype,"cumulative",void 0),Object(l.a)([Object(u.b)({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],g.prototype,"endField",void 0),Object(l.a)([Object(u.b)({type:y.a,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"fullTimeExtent",void 0),Object(l.a)([Object(p.a)("fullTimeExtent",["timeExtent"])],g.prototype,"readFullTimeExtent",null),Object(l.a)([Object(f.a)("fullTimeExtent")],g.prototype,"writeFullTimeExtent",null),Object(l.a)([Object(u.b)({type:Boolean,json:{write:!0}})],g.prototype,"hasLiveData",void 0),Object(l.a)([Object(u.b)({type:h.a,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"interval",void 0),Object(l.a)([Object(p.a)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],g.prototype,"readInterval",null),Object(l.a)([Object(f.a)("interval")],g.prototype,"writeInterval",null),Object(l.a)([Object(u.b)({type:String,json:{read:{source:"startTimeField"},write:{target:"startTimeField",allowNull:!0}}})],g.prototype,"startField",void 0),Object(l.a)([Object(u.b)({type:O,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"timeReference",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"trackIdField",void 0),Object(l.a)([Object(u.b)({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],g.prototype,"useTime",void 0);var w=g=m=Object(l.a)([Object(b.a)("esri.layers.support.TimeInfo")],g);t.a=w},813:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r=i(157),n=(i(130),i(215)),a=(i(309),i(310)),o=i(216),s=i(217),l=(i(218),i(179),i(277)),c=["oid","global-id"],u=["oid","global-id","guid"];function p(e,t){var i=e.displayField,a=e.editFieldsInfo,o=e.fields,c=e.objectIdField,u=e.title;if(!o)return null;var p=h({editFieldsInfo:a,fields:o,objectIdField:c},t);if(!p.length)return null;var b=function(e){var t=Object(r.l)(e),i=e.titleBase;return t?"".concat(i,": {").concat(t.trim(),"}"):i}({titleBase:u,fields:o,displayField:i}),f=[new s.a,new n.a];return new l.a({title:b,content:f,fieldInfos:p})}var b=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],f=function(e,t){var i=t.editFieldsInfo,r=t.objectIdField,n=t.visibleFieldNames;return n?n.has(e.name):!v(e.name,i)&&(!r||e.name!==r)&&!(c.indexOf(e.type)>-1)&&!b.some((function(t){return t.test(e.name)}))};function d(e,t){return"oid"===e.type?-1:"oid"===t.type?1:m(e)?-1:m(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function v(e,t){if(!e||!t)return!1;var i=t.creationDateField,r=t.creatorField,n=t.editDateField,a=t.editorField;return-1!==[i&&i.toLowerCase(),r&&r.toLowerCase(),n&&n.toLowerCase(),a&&a.toLowerCase()].indexOf(e.toLowerCase())}function y(e,t){return e.editable&&-1===u.indexOf(e.type)&&!v(e.name,t)}function h(e,t){var i=e.editFieldsInfo,r=e.fields,n=e.objectIdField;return function(e,t){var i=e;return t&&(e=e.filter((function(e){return-1===t.indexOf(e.type)}))),e===i&&(e=e.slice()),e.sort(d),e}(r,(null==t?void 0:t.ignoreFieldTypes)||O).map((function(e){return new o.a({fieldName:e.name,isEditable:y(e,i),label:e.alias,format:j(e),visible:f(e,{editFieldsInfo:i,objectIdField:n,visibleFieldNames:null==t?void 0:t.visibleFieldNames})})}))}function j(e){switch(e.type){case"small-integer":case"integer":case"single":return new a.a({digitSeparator:!0,places:0});case"double":return new a.a({digitSeparator:!0,places:2});case"date":return new a.a({dateFormat:"long-month-day-year"});default:return null}}function m(e){return"name"===(e.name&&e.name.toLowerCase())||("name"===(e.alias&&e.alias.toLowerCase())||void 0)}var O=["geometry","blob","raster","guid","xml"]},818:function(e,t,i){"use strict";var r,n=i(2),a=i(3),o=i(5),s=i(6),l=i(0),c=(i(13),i(14),i(15),i(1)),u=i(8),p=(i(11),i(19),i(20),i(801)),b=r=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).type="selection",r}return Object(a.a)(i,[{key:"clone",value:function(){return new r}}]),i}(p.a);Object(l.a)([Object(c.b)({type:["selection"]})],b.prototype,"type",void 0);var f=b=r=Object(l.a)([Object(u.a)("esri.layers.support.FeatureReductionSelection")],b);t.a=f},819:function(e,t,i){"use strict";var r,n=i(2),a=i(3),o=i(5),s=i(6),l=i(0),c=(i(13),i(24)),u=(i(14),i(15),i(1)),p=i(8),b=(i(11),i(19),i(20),i(28)),f=i(277),d=i(36),v=i(788),y=r=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){var e;return Object(n.a)(this,i),(e=t.apply(this,arguments)).statisticType=null,e.onStatisticField=null,e.onStatisticValueExpression=null,e}return Object(a.a)(i,[{key:"clone",value:function(){return new r({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})}}]),i}(b.a);Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],y.prototype,"statisticType",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],y.prototype,"onStatisticField",void 0),Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],y.prototype,"onStatisticValueExpression",void 0);var h,j=y=r=Object(l.a)([Object(p.a)("esri.layers.support.OutStatistic")],y),m=h=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(){var e;return Object(n.a)(this,i),(e=t.apply(this,arguments)).name=null,e}return Object(a.a)(i,[{key:"clone",value:function(){return new h({name:this.name,outStatistic:this.outStatistic.clone()})}}]),i}(b.a);Object(l.a)([Object(u.b)({type:String,json:{write:!0}})],m.prototype,"name",void 0),Object(l.a)([Object(u.b)({type:j,json:{write:!0}})],m.prototype,"outStatistic",void 0);var O,g=m=h=Object(l.a)([Object(p.a)("esri.layers.support.AggregateField")],m),w=i(794),S=O=function(e){Object(o.a)(i,e);var t=Object(s.a)(i);function i(e){var r;return Object(n.a)(this,i),(r=t.call(this,e)).type="cluster",r.clusterRadius=Object(d.j)("80px"),r.clusterMinSize=Object(d.j)("12px"),r.clusterMaxSize=Object(d.j)("50px"),r.popupEnabled=!0,r.popupTemplate=null,r.labelingInfo=null,r.labelsVisible=!0,r.fields=null,r}return Object(a.a)(i,[{key:"clone",value:function(){return new O({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:Object(c.a)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:Object(c.a)(this.fields),popupEnabled:this.popupEnabled,popupTemplate:Object(c.a)(this.popupTemplate)})}}]),i}(b.a);Object(l.a)([Object(u.b)({type:["cluster"],readOnly:!0,json:{write:!0}})],S.prototype,"type",void 0),Object(l.a)([Object(u.b)({type:Number,cast:function(e){return"auto"===e?e:Object(d.j)(e)},json:{write:!0}})],S.prototype,"clusterRadius",void 0),Object(l.a)([Object(u.b)({type:Number,cast:d.j,json:{write:!0}})],S.prototype,"clusterMinSize",void 0),Object(l.a)([Object(u.b)({type:Number,cast:d.j,json:{write:!0}})],S.prototype,"clusterMaxSize",void 0),Object(l.a)([Object(u.b)(v.g)],S.prototype,"popupEnabled",void 0),Object(l.a)([Object(u.b)({type:f.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],S.prototype,"popupTemplate",void 0),Object(l.a)([Object(u.b)({type:[w.a],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],S.prototype,"labelingInfo",void 0),Object(l.a)([Object(u.b)(v.c)],S.prototype,"labelsVisible",void 0),Object(l.a)([Object(u.b)({type:[g],json:{write:!0}})],S.prototype,"fields",void 0);var x=S=O=Object(l.a)([Object(p.a)("esri.layers.support.FeatureReductionCluster")],S);t.a=x},821:function(e,t,i){"use strict";i.d(t,"a",(function(){return x})),i.d(t,"b",(function(){return y})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return j})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return w})),i.d(t,"g",(function(){return v}));var r=i(12),n=i(32),a=i(175),o=i(4),s=i(14),l=i(52),c=i(75),u=i(306),p=i(795),b=s.a.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),f=new c.a,d=Math.PI,v=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function y(e,t,i){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"color"===e.type}))[0]:e;if(r)if("esri.renderers.visualVariables.ColorVariable"===r.declaredClass){var n="number"==typeof t,a=n?null:t,s=a&&a.attributes,c=n?t:null,u=r.field,p=r.cache,f=p.ipData,d=p.hasExpression,v=r.cache.compiledFunc;if(!u&&!d){var y=r.stops;return y&&y[0]&&y[0].color}if("number"!=typeof c)if(d){if(!Object(o.i)(i)||!Object(o.i)(i.arcade))return void b.error("Use of arcade expressions requires an arcade context");var h={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},j=i.arcade.arcadeUtils,m=j.getViewInfo(h),O=j.createExecContext(a,m);if(!v){var g=j.createSyntaxTree(r.valueExpression);v=j.createFunction(g),r.cache.compiledFunc=v}c=j.executeFunction(v,O)}else s&&(c=s[u]);var w=r.normalizationField,x=s?parseFloat(s[w]):void 0;if(null!=c&&(!w||n||!isNaN(x)&&0!==x)){isNaN(x)||n||(c/=x);var _=S(c,f);if(_){var k=_[0],F=_[1],I=k===F?r.stops[k].color:l.a.blendColors(r.stops[k].color,r.stops[F].color,_[2],Object(o.i)(i)?i.color:void 0);return new l.a(I)}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable")}function h(e,t,i){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"opacity"===e.type}))[0]:e;if(r)if("esri.renderers.visualVariables.OpacityVariable"===r.declaredClass){var n="number"==typeof t,a=n?null:t,s=a&&a.attributes,l=n?t:null,c=r.field,u=r.cache,p=u.ipData,f=u.hasExpression,d=r.cache.compiledFunc;if(!c&&!f){var v=r.stops;return v&&v[0]&&v[0].opacity}if("number"!=typeof l)if(f){if(Object(o.h)(i)||Object(o.h)(i.arcade))return void b.error("Use of arcade expressions requires an arcade context");var y={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},h=i.arcade.arcadeUtils,j=h.getViewInfo(y),m=h.createExecContext(a,j);if(!d){var O=h.createSyntaxTree(r.valueExpression);d=h.createFunction(O),r.cache.compiledFunc=d}l=h.executeFunction(d,m)}else s&&(l=s[c]);var g=r.normalizationField,w=s?parseFloat(s[g]):void 0;if(null!=l&&(!g||n||!isNaN(w)&&0!==w)){isNaN(w)||n||(l/=w);var x=S(l,p);if(x){var _=x[0],k=x[1];if(_===k)return r.stops[_].opacity;var F=r.stops[_].opacity;return F+(r.stops[k].opacity-F)*x[2]}}}else b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable")}function j(e,t,i){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"rotation"===e.type}))[0]:e;if(r){if("esri.renderers.visualVariables.RotationVariable"===r.declaredClass){var n=r.axis||"heading",a="heading"===n&&"arithmetic"===r.rotationType?90:0,s="heading"===n&&"arithmetic"===r.rotationType?-1:1,l="number"==typeof t?null:t,c=l&&l.attributes,u=r.field,p=r.cache.hasExpression,f=r.cache.compiledFunc,d=0;if(!u&&!p)return d;if(p){if(Object(o.h)(i)||Object(o.h)(i.arcade))return void b.error("Use of arcade expressions requires an arcade context");var v={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},y=i.arcade.arcadeUtils,h=y.getViewInfo(v),j=y.createExecContext(l,h);if(!f){var m=y.createSyntaxTree(r.valueExpression);f=y.createFunction(m),r.cache.compiledFunc=f}d=y.executeFunction(f,j)}else c&&(d=c[u]||0);return d="number"!=typeof d||isNaN(d)?null:a+s*d}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable")}}function m(e,t,i){var r="visualVariables"in e&&e.visualVariables?e.visualVariables.filter((function(e){return"size"===e.type}))[0]:e;if(r){if("esri.renderers.visualVariables.SizeVariable"===r.declaredClass){var a=function(e,t,i,r,a){switch(t.transformationType){case"additive":return function(e,t,i,r){return e+(O(t.minSize,i,r)||t.minDataValue)}(e,t,i,r);case"constant":return function(e,t,i){var r=e.stops,n=r&&r.length&&r[0].size;return null==n&&(n=e.minSize),O(n,t,i)}(t,i,r);case"clamped-linear":return function(e,t,i,r){var n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),a=O(t.minSize,i,r),s=O(t.maxSize,i,r),l=Object(o.i)(r)?r.shape:void 0;if(e<=t.minDataValue)return a;if(e>=t.maxDataValue)return s;if("area"===t.scaleBy&&l){var c="circle"===l,u=c?d*Math.pow(a/2,2):a*a,p=u+n*((c?d*Math.pow(s/2,2):s*s)-u);return c?2*Math.sqrt(p/d):Math.sqrt(p)}return a+n*(s-a)}(e,t,i,r);case"proportional":return function(e,t,i,r){var n=Object(o.i)(r)?r.shape:void 0,a=e/t.minDataValue,s=O(t.minSize,i,r),l=O(t.maxSize,i,r);return g("circle"===n?2*Math.sqrt(a*Math.pow(s/2,2)):"square"===n||"diamond"===n||"image"===n?Math.sqrt(a*Math.pow(s,2)):a*s,s,l)}(e,t,i,r);case"stops":return function(e,t,i,r,a){var o=S(e,a),s=Object(n.a)(o,3),l=s[0],c=s[1],u=s[2];if(l===c)return O(t.stops[l].size,i,r);var p=O(t.stops[l].size,i,r);return p+(O(t.stops[c].size,i,r)-p)*u}(e,t,i,r,a);case"real-world-size":return function(e,t,i,r){var n=(Object(o.i)(r)&&r.resolution?r.resolution:1)*u.a[t.valueUnit],a=O(t.minSize,i,r),s=O(t.maxSize,i,r),l=t.valueRepresentation;return g("area"===l?2*Math.sqrt(e/d)/n:"radius"===l||"distance"===l?2*e/n:e/n,a,s)}(e,t,i,r);case"identity":return e;case"unknown":return null}}(function(e,t,i){var r="number"==typeof t,n=r?null:t,a=n&&n.attributes,s=r?t:null,l=e.cache.isScaleDriven,c=e.cache.compiledFunc;if(l){var u=Object(o.i)(i)?i.scale:void 0,f=Object(o.i)(i)?i.view:void 0;s=null==u||"3d"===f?function(e){var t=null,i=null,r=e.stops;return r?(t=r[0].value,i=r[r.length-1].value):(t=e.minDataValue||0,i=e.maxDataValue||0),(t+i)/2}(e):u}else if(!r)switch(e.inputValueType){case"expression":if(Object(o.h)(i)||Object(o.h)(i.arcade))return void b.error("Use of arcade expressions requires an arcade context");var d={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,y=v.getViewInfo(d),h=v.createExecContext(n,y);if(!c){var j=v.createSyntaxTree(e.valueExpression);c=v.createFunction(j),e.cache.compiledFunc=c}s=v.executeFunction(c,h);break;case"field":a&&(s=a[e.field]);break;case"unknown":s=null}if(!Object(p.d)(s))return null;if(r||!e.normalizationField)return s;var m=a?parseFloat(a[e.normalizationField]):null;return Object(p.d)(m)&&0!==m?s/m:null}(r,t,i),r,t,i,r.cache.ipData);return null==a||isNaN(a)?0:a}b.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable")}}function O(e,t,i){return null==e?null:Object(p.c)(e)?m(e,t,i):Object(p.d)(e)?e:null}function g(e,t,i){return Object(p.d)(i)&&e>i?i:Object(p.d)(t)&&e<t?t:e}function w(e,t,i){if(!(e.cache.isScaleDriven&&"3d"===i||t))return null;var r={scale:t,view:i},n=O(e.minSize,f,r),a=O(e.maxSize,f,r);if(null!=n||null!=a){if(n>a){var o=a;a=n,n=o}return{minSize:n,maxSize:a}}}function S(e,t){if(t){var i=0,r=t.length-1;return t.some((function(t,n){return e<t?(r=n,!0):(i=n,!1)})),[i,r,(e-t[i])/(t[r]-t[i])]}}function x(e,t,i){var n,o=["proportional","proportional","proportional"],s=Object(r.a)(e);try{for(s.s();!(n=s.n()).done;){var l=n.value,c=l.useSymbolValue?"symbol-value":m(l,t,i);switch(l.axis){case"width":o[0]=c;break;case"depth":o[1]=c;break;case"height":o[2]=c;break;case"width-and-depth":o[0]=c,o[1]=c;break;case"all":case void 0:case null:o[0]=c,o[1]=c,o[2]=c;break;default:Object(a.a)(l.axis)}}}catch(u){s.e(u)}finally{s.f()}return o}},826:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var r=i(2),n=i(3),a=i(5),o=i(6),s=i(0),l=(i(13),i(14),i(15),i(1)),c=i(63),u=i(8),p=(i(11),i(19),i(20),i(157)),b=i(174),f=i(305),d=i(798),v=i(808);var y=function(e){var t=function(e){Object(a.a)(i,e);var t=Object(o.a)(i);function i(){var e;return Object(r.a)(this,i),(e=t.apply(this,arguments)).timeExtent=null,e.timeOffset=null,e.useViewTime=!0,e}return Object(n.a)(i,[{key:"readOffset",value:function(e,t){var i=t.timeInfo.exportOptions;if(!i)return null;var r=i.timeOffset,n=b.d.fromJSON(i.timeOffsetUnits);return r&&n?new d.a({value:r,unit:n}):null}},{key:"timeInfo",set:function(e){Object(p.k)(e,this.fields),this._set("timeInfo",e)}}]),i}(e);return Object(s.a)([Object(l.b)({type:f.a,json:{write:!1}})],t.prototype,"timeExtent",void 0),Object(s.a)([Object(l.b)({type:d.a})],t.prototype,"timeOffset",void 0),Object(s.a)([Object(c.a)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),Object(s.a)([Object(l.b)({value:null,type:v.a,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),Object(s.a)([Object(l.b)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=Object(s.a)([Object(u.a)("esri.layers.mixins.TemporalLayer")],t),t}},836:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var r=i(10),n=i.n(r),a=i(21),o=i(176),s=i(16),l=i(279);function c(e,t,i){return u.apply(this,arguments)}function u(){return(u=Object(a.a)(n.a.mark((function e(t,i,r){var a,c,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t&&t.getAtOrigin&&t.getAtOrigin("renderer",i.origin))||"unique-value"!==a.type||!a.styleOrigin){e.next=6;break}return e.next=4,Object(l.c)(a.populateFromStyle());case 4:c=e.sent,Object(s.w)(r),!1===c.ok&&(u=c.error,i&&i.messages&&i.messages.push(new o.a("renderer:style-reference","Failed to create unique value renderer from style reference: ".concat(u.message),{error:u,context:i})),t.clear("renderer",i.origin));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},864:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i(794),n=/\[([^\[\]]+)\]/gi;function a(e,t,i){var a=this;return e?e.map((function(e){var o=new r.a;if(o.read(e,i),o.labelExpression){var s=t.fields||t.layerDefinition&&t.layerDefinition.fields||a.fields;o.labelExpression=o.labelExpression.replace(n,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var i=e.toLowerCase(),r=0;r<t.length;r++){var n=t[r].name;if(n.toLowerCase()===i)return n}return e}(t,s),"]")}))}return o})):null}},872:function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return u}));var r=i(99),n=i(23),a=i(801),o=i(819),s=i(818),l={key:"type",base:a.a,typeMap:{selection:s.a}};function c(e,t){var i=(t=t.layerDefinition||t).featureReduction;if(i)switch(i.type){case"selection":return s.a.fromJSON(i);case"cluster":return o.a.fromJSON(i)}return null}function u(e,t,i,a){var o=function(e,t,i){return e?"selection"!==e.type?(i.messages&&i.messages.push(new n.a("featureReduction:unsupported","FeatureReduction of type '".concat(e.declaredClass,"' are not supported in scenes."),{featureReduction:e,context:i})),null):e.write(t,i):null}(e,{},a);o&&Object(r.c)(i,o,t)}}}]);
//# sourceMappingURL=64.0a6eec8b.chunk.js.map