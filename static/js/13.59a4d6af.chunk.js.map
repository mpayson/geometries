{"version":3,"sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/CommonUniformStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/pointGraphicVisualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js","../node_modules/@arcgis/core/chunks/mat2.js","../node_modules/@arcgis/core/chunks/mat2f64.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js","../node_modules/@arcgis/core/symbols/support/defaults.js","../node_modules/@arcgis/core/symbols/support/defaultsJSON.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/core/libs/earcut/earcut.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/core/colorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js"],"names":["n","f","i","u","byteLength","c","Uint32Array","s","a","minReduction","h","originalIndices","g","componentOffsets","y","t","length","U","Math","floor","o","w","A","m","b","d","p","ceil","M","q","sqrt","r","l","e","x","buffer","indices","uniqueCount","fragment","uniforms","add","include","code","bindUniforms","setUniform1i","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","linearDepth","attributes","vertex","output","v","varyings","float","receiveShadows","OITEnabled","Object","freeze","__proto__","build","builder","bindPassUniforms","setUniform1f","camera","perScreenPixelRatio","screenSize","screenSizeEnabled","shadingEnabled","viewingMode","highStepCount","lastFrameColorTextureID","bindTexture","lastFrameColorTexture","setUniformMatrix4fv","reprojectionMat","projectionMatrix","ssrEnabled","linearDepthTextureID","linearDepthTexture","setUniform2fv","nearFar","viewMatrix","height","this","cache","Map","forEach","texture","dispose","clear","patternId","get","refCount","bind","patternToTextureData","width","internalFormat","pixelFormat","dataType","wrapMode","set","delete","acquire","release","join","reduce","Uint8Array","slice","main","selected","staged","outline","selectedOutline","clone","color","coneHeight","coneWidth","renderOccluded","size","outlineSize","collisionPadding","outlineColor","hoverOutlineColor","setParameterValues","W","transparent","edge","stipplePattern","stippleOffColor","falloff","innerWidth","innerColor","shape","primitive","glowColor","glowWidth","glowFalloff","globalAlpha","globalAlphaContrastBoost","radius","heightFillColor","toUnitRGB","intersectsLineRadius","style","laserlineStyle","shadowStyle","C","extensionType","lineGraphics","pointGraphics","heightPlane","heightBox","zVerticalLine","laserlineAlphaMultiplier","heightPlaneAngleCutoff","toUnitRGBA","O","visualElements","reshapeManipulators","zManipulator","uniqueName","shaderTransformationDirty","data","toRenderData","boundingInfo","material","origin","center","bsRadius","transformation","calculateShaderTransformation","updateTransformation","castShadow","instanceParameters","highlights","occludees","visible","getBoundingSphere","getCenter","getBSRadius","shaderTransformation","computeAttachmentOrigin","getIndices","POSITION","getAttribute","vertexAttr","Array","Float64Array","index","pathLengths","count","holeIndices","position","polygons","outlines","intensity","direction","castShadows","sh","L","_viewUp","_viewForward","_viewRight","_ray","z","createWrapper","_viewport","S","_padding","_fov","PI","_nearFar","V","_viewDirty","_viewMatrix","F","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","H","create","_fullViewport","T","_contextNavigation","pixelRatio","relativeElevation","_eye","_center","_up","_compareAndSetView","eye","_ensureViewClean","fullWidth","fullHeight","k","D","near","tan","fovY","aspect","j","far","G","X","Y","_recomputeFrustum","R","fovX","perRenderPixelRatio","_","I","copy","up","copyFrom","abs","B","J","max","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","E","viewForward","min","padding","viewport","setViewport","fullViewport","projectToRenderScreen","K","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","N","computeUpGlobal","computeUpLocal","markViewDirty","fromMatrix","P","arguments","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TERRAIN_DEBUG_POPUP","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","prototype","_renderTarget","id","colorTarget","depthStencilTarget","target","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","vec3","extent","resolution","renderLocalOrigin","renderTargets","fbo","valid","lastUsed","colorWithoutRasterImage","highlight","water","occluded","drawPass","disposeRenderTargetMemory","validateUsage","getGpuMemoryUsage","_uniforms","proj","shadowMapDistance","viewportPixelSz","lightingMainDirection","hasUniform","push","technique","refZeroFrame","_context","_perConstructorInstances","_frameCounter","_keepAliveFrameCount","key","constructor","commonUniformStore","getPrograms","shader","reload","name","find","getLogger","refCnt","glMaterial","_textureRep","_techniqueRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","updateParameters","materialRepository","error","ROOT_ORIGIN_ID","_origins","_gridSize","testOrigin","getOrigin","random","round","window","view","_stage","_object","_material","isPickable","idHint","addObject","addToViewContent","Float32Array","WebMercator","spatialReference","addGeometry","console","log","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","rctx","offscreenRenderingHelper","scenelightingData","shadowMap","ssaoHelper","sliceHelper","_array","_size","subarray","waterTextureRepository","configuration","transparencyPassType","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","pbrMode","useCustomDTRExponentForWater","useSSR","generateSource","ready","updating","loadTextures","bindProjectionMatrix","program","lighting","setUniforms","bindRepo","setUniform4fv","bindOutputHighlight","bindView","bindCamPosition","viewInverseTransposeMatrix","SHADOW_MAP","bindUniformsWithOrigin","blending","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","enableOffset","setPipelineState","isDraped","acquireAndReleaseExisting","getTechniqueConfig","params","animation","time","animationSpeed","shadowMappingEnabled","ensureResource","_updateShadowState","_updateSSRState","bindProgram","bindPass","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","begin","end","type","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","toUpdate","addAndRemoveGeometries","toAdd","toRemove","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","elementCount","createData","array","removeAndRebuild","removeByErasing","append","vertexBuffers","geometry","byteSize","setData","setSubData","drawCommandsDirty","updateType","renderGeometry","instances","write","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","stats","default","layout","sort","values","update","ensureResources","beginSlot","ensureParameters","getTechnique","getPipelineState","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","glMaterials","_pendingAddsRemoves","_adds","_removes","_updates","allocator","deallocator","_materialRenderers","_sortedMaterialRenderers","_hasWater","prune","rendersOccluded","forAll","stopAtTime","updateAddsRemoves","numToAdd","numToRemove","numToUpdate","hasWater","modify","updateSortedMaterialRenderers","notifyChange","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","has","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","sphericalHarmonics","_renderLighting","_shOrder","_oldSunlight","ambient","diffuse","setUniform3fv","_info","groundLightingFactor","globalFactor","setLightDirectionUniform","setUniform3f","lights","_overlays","_rendersOccluded","_lighting","_localOrigins","_handles","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","_uniqueIdx","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_materialRepository","textureRepository","updateRendersOccluded","_compositingHelper","compositingHelper","_bindParameters","inverseViewport","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","destroy","commitChanges","remove","updateSortedLayerRenderers","updateHasHighlights","updateHasWater","ensureLayerRenderer","notifyGraphicUpdate","notifyUpdateGeometries","warn","graphicUid","numViews","_screenToWorldRatio","views","hasNonZeroSizedView","isValid","setClearColor","clearSafe","setViewParameters","drawDebugTexture","layerView","renderer","drapeSourceType","fullOpacity","bindTemporaryFramebuffer","draw","_temporaryRenderTarget","composite","getTexture","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","range","intersect","getShaderTransformation","addIntersectionResult","layerUid","metadata","results","ground","dist","normal","intersector","drapedLayerOrder","options","store","ray","all","stopAnimationsAtTime","watch","keys","allLayerViews","Set","setGLViewport","onContentChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","_debugTextureTechnique","pipeline","_debugPatternTexture","_quadVAO","layerRenderers","constructOnly","Boolean","readOnly","dependsOn","attributeData","removeDuplicateStartEnd","offsetIdx","strideIdx","mapPosition","mapPos","colorFeature","COLOR","sizeFeature","SIZE","COLORFEATUREATTRIBUTE","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","uniformSize","SUBDIVISIONS","pow","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncGeometriesToRenderer","_createOrDestroyResources","attached","_createResources","recreateGeometry","ensureRenderGeometriesRemoved","recreate","createResources","geometriesAdded","basemapTerrain","overlayManager","registerDrapeSource","unregisterDrapeSource","ensureRenderGeometriesAdded","removeGeometries","geometries","addGeometries","_attachmentOrigin","_attachmentOriginDirty","events","_isDraped","_geometry","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_falloff","_elevationInfo","_laserlineStyle","_laserlineEnabled","_renderOccluded","resources","drapedResources","createDrapedResources","createRenderGeometriesDraped","attachmentOriginChanged","_laserline","updateAttached","laserlineAttached","laserlineEnabled","updateMaterial","isClosed","renderCoordsHelper","fromRenderCoords","materialParameters","stippleIntegerRepeats","normalizedRenderOccluded","createRenderGeometries","emit","rings","paths","lines","projectionSuccess","hasZ","sampledElevation","elevationProvider","fromElevationInfo","elevationInfo","pathVerticalPlane","shadingTint","shadingDirection","blendColor","culling","cullFace","face","mode","offset","supportsEdges","techniqueConfig","_vertexAttributeLocations","applyToVertex","computeRenderPixelSizeAt","applyToAabb","getPassParameters","vec3f","createBuffer","Error","getField","_vertices","_spatialReference","colorToVec4","_outlineColor","_outlineSize","applyProps","updateOutlineMaterial","vertexMaterial","vertexMaterialParameters","vertexOutlineMaterial","vertexOutlineMaterialParameters","vertices","numVertices","vertexGeometry","vertexOutlineGeometry","createSphereGeometry","uv","indexCount","vertexAttributes","drawOperation","_createGraphic","_outlineVisualElement","_verticesVisualElement","_stagedVerticesVisualElement","defaultZ","snapToScene","snappingOptions","geometryType","_internalGraphicsLayer","map","layers","manipulators","drawingMode","snapToSceneEnabled","snappingDrawSurface","hasM","on","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","_destroyAllVisualisations","_set","onInputEvent","hasStagedVertex","splice","regularVertices","stagedVertices","full","coordinateHelper","createPointFromArray","makeMapPoint","forceUniformSize","centered","_destroyCreateGraphic","_destroyOutlineVisualElement","_destroyVerticesVisualElement","_destroyStagedVerticesVisualElement","_getCreateGeometry","apply","symbol","createGraphicSymbol","maskOccludee","interactive","_updateCreateGraphic","canRedo","redo","canUndo","undo","complete","isCompleted","cancel","vertexIndex","graphic","EventedMixin","nonNullable","value","Z","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_engineLayerId","_materialIdReferences","state","_removeResourcesFromStage","_updateEngineObject","toRenderCoords","elevationAlignedLocation","te","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","re","available","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","$","fromScreen","Q","ie","closestRayDistance2","fromPoints","oe","ne","fromPositionAndNormal","ee","se","intersectRay","_calculateModelTransformPosition","distance2","manipulator3D","engineLayerId","engineLayerReferences","materialIdReferences","ae","_getFocusedSize","focused","_ensureEngineResources","objectsByState","stateMask","objects","setVisible","objectTransformation","getContent","renderObjects","transform","isArray","layer","materials","_addResourcesToStage","removeObject","areAnyResourcesVisible","atan2","getViewForGraphic","tracking","displaying","EventedAccessor","grabbingState","firstSelected","numSelected","firstGrabbedXY","forEachManipulator","grabbing","visualElement","writeDepthEnabled","angleCutoff","setStartEndFromWorldDownAtLocation","heightManifoldTarget","attachmentOrigin","onManipulatorsChanged","trackGraphicState","intersectsLineInfinite","intersectsWorldUpAtLocation","calculateMapBounds","sin","cos","identity","transpose","invert","adjoint","determinant","multiply","rotate","scale","fromRotation","fromScaling","str","frob","LDU","subtract","exactEquals","equals","multiplyScalar","multiplyScalarAndAdd","mul","sub","fromValues","dxScreen","screenDeltaX","dyScreen","screenDeltaY","next","translationX","translationY","translationZ","normalize","Number","POSITIVE_INFINITY","forEachManipulator3D","someManipulator","performanceInfo","queryDuration","numObjectsTested","tolerance","verticalOffset","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","init","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","selectionMode","hud","forEachDegenerateObject","getObjects","sortResults","geometryRecords","setAndInvalidateLazyTransforms","inverse","objectTransform","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","screenStart","screenEnd","renderStart","renderEnd","plane","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","worldUpAtPosition","projectPoint","execute","DEFAULT_TOLERANCE","_arrowManipulatorInfos","_opaqueMaterial","createMaterial","_transparentMaterial","_angle","_scale","_updateAfterDrag","_tool","tool","_view","_createManipulators","manipulator","removeAll","createDragPipeline","manipulatorType","angle","_updateManipulatorTransform","_updateManipulators","_updateArrowManipulator","createExtrudedTriangle","transformInPlace","_createArrowManipulator","displayScale","modelTransform","arrowManipulators","lastDragEvent","_enabled","snap","toMap","exclude","_snapToScene","_discMaterial","_createMaterial","_discMaterialTransparent","_createManipulator","_manipulator","enabled","_updateManipulator","createDragEventPipelineStep","worldSized","createCylinderGeometry","discManipulator","createManipulator","updateManipulator","createTubeGeometry","createConeGeometry","applyObjectTransform","_angleDeferred","_interactive","xyManipulation","xyAxisManipulation","zManipulation","xyAvailable","xyAxisAvailable","zAvailable","autoHideXYAxis","updateManipulatorInteractivity","createGraphicDragPipeline","xyAxisVisible","inputManager","latestPointerType","disableDisplay","symbolLayers","some","_graphicState","graphicState","allGraphics","dx","dy","graphics","enableZ","_toolHandles","_refreshManipulators","_moveManipulation","toArray","filter","createManipulators","createVisualElements","updateMoveManipulation","manipulationXY","stopPropagation","buildDragEventPipeline","createMoveManipulation","radiusForSymbol","hasManipulator","getItemAt","updateMoveManipulationAngle","geometryRepresentation","angleDeferred","destroyed","toScreen","_vertexManipulatorMaterial","_vertexManipulatorOutlineMaterial","_vertexManipulatorHoverOutlineMaterial","_edgeManipulatorMaterial","_edgeManipulatorOutlineMaterial","_selectedManipulatorMaterial","_selectedManipulatorOutlineMaterial","_selectedManipulatorHoverOutlineMaterial","_selectedIndex","_vertexManipulatorGeometry","_vertexManipulatorOutlineGeometry","_edgeManipulatorGeometry","_edgeManipulatorOutlineGeometry","_manipulatorHandles","_manipulatorInfos","_reshapeHelper","_graphicMoveManipulation","_numGrabbing","_numDragging","_reshapeEventState","outputGeometry","_vertexLaserLineVisualElement","snappingEngine","_clear","_recreateManipulators","enableMoveGraphic","handle","_removeVertices","inputGeometry","fromGeometry","components","_createPerVertexManipulator","edges","_createGraphicMoveManipulators","moveVertices","mapDeltaX","mapDeltaY","mapDeltaZ","pos","_updateManipulatorPosition","_updateEventState","mover","info","_trackNumDragging","_perGraphicManipulatorDragAction","_cancelDragOperation","_watchAndUpdateGrabState","_clearSelection","doneSnapping","_updateMoveManipulationPosition","Vertex","Edge","_setTypeSpecificManipulatorSettings","locationUpdateHandle","selectedIndex","_getManipulatorInfoFromHandle","left","right","_splitEdgeManipulator","_snapDrag","_perVertexManipulatorDragAction","_manipulatorClickCallback","isMultiVertexSelection","context","originalPos","createDehydratedPoint","_updateSelection","indexOf","toPoint","splitEdge","createdVertex","component","coordinates","componentIndex","added","orthogonalAvailable","canRemoveVertex","_removeManipulator","removeVertices","removedVertices","createdEdge","removed","shiftKey","button","_dirty","toPolyline","toPolygon","_reshapeOperation","_internalGeometryUpdate","_updateGeometry","manipulatorSelectionChanged","_onReshapeGeometryChanged","_updateGraphic","removeSelectedVertices","rt","ScaleIn","ScaleOut","RotateLeft","RotateRight","Unlocked","DelayedFocused","TouchInput","nt","_scaleRotateDragData","_activeAnimation","getFocused","ringManipulator","getScale","updateDragState","updateManipulatorTransform","frameTask","cancelActiveAnimation","start","deltaTime","createRingManipulator","heading","getSymbolLayerSize","startAngle","symbolRotationAngle","angleDir","scaleDir","startSymbolData","shortestSignedDiff","onScaleChanged","lt","wrap","applySymbolData","startAnimation","ct","updateDelayedFocusedState","updateStateEnabled","createPathExtrusionGeometry","et","st","concat","enforceNonZeroSize","depth","ht","gt","enableRotation","enableScaling","handles","scaleRotate","moveManipulation","updateMoveAngle","onGeometryChanged","hideManipulatorsForGraphicState","test","fromJSON","font","family","weight","horizontalAlignment","kerning","haloColor","haloSize","rotated","text","xoffset","yoffset","stops","event","pointerType","maxSize","minSize","visualVariables","uniqueValueInfos","classBreakInfos","prev","steiner","prevZ","nextZ","overlayPixelSizeInMapUnits","basemapSpatialReference","xmin","ymin","xmax","ymax","intersects","bindViewCustomOrigin","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","dirty","hasIntersectionPoint","geometryId","triangleNr","obj","findLayerByUid","createGraphic","graphicsView","mockLayerId","getGraphicFromGraphicUid","suspended","getGraphicFromIntersectorMetadata","tmpVertex","localOrigin","componentLocalOriginLength","mbs","obb","halfSize","quaternion","sphere","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","_get","_updateGraphicSymbol","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","originalPoint","mapPoint","radiusPx","renderSpatialReference"],"mappings":"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","file":"static/js/13.59a4d6af.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){const u=n.byteLength/(4*f),c=new Uint32Array(n,0,u*f);let s=new Uint32Array(u);const a=i&&i.minReduction||0,h=i&&i.originalIndices||null,g=i&&i.componentOffsets||null;let y=0;if(g)for(let t=0;t<g.length-1;t++){const n=g[t+1]-g[t];n>y&&(y=n)}else y=u;const U=Math.floor(1.1*y)+1;(null==o||o.length<2*U)&&(o=new Uint32Array(t(2*U)));for(let t=0;t<2*U;t++)o[t]=0;let w=0;const A=!!g&&!!h,m=A?h.length:u,b=A?new Uint32Array(h.length):null,d=1.96;let p=0!==a?Math.ceil(4*d*d/(a*a)*a*(1-a)):m,M=1,q=g?g[1]:m;for(let t=0;t<m;t++){if(t===p){const n=1-w/t;if(n+d*Math.sqrt(n*(1-n)/t)<a)return null;p*=2}if(t===q){for(let t=0;t<2*U;t++)o[t]=0;if(h)for(let t=g[M-1];t<g[M];t++)b[t]=s[h[t]];q=g[++M]}const n=A?h[t]:t,r=n*f,i=l(c,r,f);let u=i%U,y=w;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(c,r,t*f,f)){y=s[t];break}}u++,u>=U&&(u-=U)}y===w&&(o[2*u]=i,o[2*u+1]=n+1,w++),s[n]=y}if(0!==a&&1-w/u<a)return null;if(A){for(let t=g[M-1];t<b.length;t++)b[t]=s[h[t]];s=b}const x=new Uint32Array(f*w);w=0;for(let t=0;t<m;t++)if(s[t]===w){r(c,(A?h[t]:t)*f,x,w*f,f),w++}if(h&&!A){const t=new Uint32Array(h.length);for(let n=0;n<t.length;n++)t[n]=s[h[n]];s=t}return{buffer:x.buffer,indices:s,uniqueCount:w}}function e(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function r(t,n,e,r,l){for(let o=0;o<l;o++)e[r+o]=t[n+o]}function l(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{FoamIntensity as t}from\"./FoamRendering.glsl.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(t),r.fragment.code.add(e`\n      const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\n\n      vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rg - 1.0;\n      }\n\n      float sampleNoiseTexture(vec2 _uv) {\n        return texture2D(texWavePerturbation, _uv).b;\n      }\n\n      vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\n        return 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n      }\n\n      float computeProgress(vec2 uv, float time) {\n        return fract(time);\n      }\n\n      float computeWeight(vec2 uv, float time) {\n        float progress = computeProgress(uv, time);\n        return 1.0 - abs(1.0 - 2.0 * progress);\n      }\n\n      vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\n        float flowStrength = waveParams[2];\n        float flowOffset = waveParams[3];\n\n        vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\n\n        float progress = computeProgress(uv, time + phaseOffset);\n        float weight = computeWeight(uv, time + phaseOffset);\n\n        vec2 result = uv;\n        result -= flowVector * (progress + flowOffset);\n        result += phaseOffset;\n        result += (time - progress) * FLOW_JUMP;\n\n        return vec3(result, weight);\n      }\n\n      const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\n      const float TIME_NOISE_STRENGTH = 7.77;\n\n      vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\n        float waveStrength = waveParams[0];\n\n        // overall directional shift in uv's for directional wave movement for\n        // now we do a hard coded scale for wave speed such that a unit length\n        // direction is not too fast.\n        vec2 waveMovement = time * -_waveDir;\n\n        float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\n\n        // compute two perturbed uvs and blend weights\n        // then sample the wave normals at the two positions and blend\n        vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\n        vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\n\n        vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\n        vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\n\n        // logic to flatten the wave pattern\n        // scale xy components of the normal, then adjust z (up) component\n        vec3 mixNormal = normalize(normal_A + normal_B);\n        mixNormal.xy *= waveStrength;\n        mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\n\n        return mixNormal;\n      }\n\n      vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\n        float waveTextureRepeat = waveParams[1];\n        vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\n        float foam  = normals2FoamIntensity(normal, waveParams[0]);\n        return vec4(normal, foam);\n      }\n    `)}!function(e){e.bindUniforms=function(e,t){e.setUniform1i(\"texWaveNormal\",0),e.setUniform1i(\"texWavePerturbation\",1),e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}}(r||(r={}));export{r as WaterDistortion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as t}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{symbolAlphaCutoff as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{WaterDistortion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{ForwardLinearDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{NormalUtils as v}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{Water as g}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";function c(c){const m=new a;return m.include(o,{linearDepth:!1}),m.attributes.add(\"position\",\"vec3\"),m.attributes.add(\"uv0\",\"vec2\"),m.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),m.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==c.output&&7!==c.output||(m.include(v,c),m.include(s,c),m.varyings.add(\"vuv\",\"vec2\"),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vnormal\",\"vec3\"),m.varyings.add(\"vtbnMatrix\",\"mat3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===c.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),7===c.output&&(m.include(i,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===c.output&&(m.include(l,c),m.include(i,c),c.receiveShadows&&m.include(d,c),m.include(g,c),m.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),m.fragment.include(r),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        vec3 l = normalize(-lightingMainDirection);\n        float shadow = ${c.receiveShadows?e`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, l, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${c.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===c.output&&(m.include(v,c),m.include(l,c),m.include(i,c),m.varyings.add(\"vpos\",\"vec3\"),m.varyings.add(\"vuv\",\"vec2\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"timeElapsed\",\"float\"),m.fragment.code.add(e`\n        void main() {\n          discardBySlice(vpos);\n\n          // the created normal is in tangent space and foam\n          vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n          tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\n\n          gl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n        }\n    `)),5===c.output&&(m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n        void main(void) {\n          if (waterColor.a < ${e.float(n)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),m.fragment.uniforms.add(\"waterColor\",\"vec4\"),m.fragment.code.add(e`\n        void main() {\n          gl_FragColor = waterColor;\n        }\n    `)),4===c.output&&(m.include(t),m.varyings.add(\"vpos\",\"vec3\"),m.vertex.code.add(e`\n      void main(void) {\n        if (waterColor.a < ${e.float(n)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),m.include(i,c),m.fragment.code.add(e`\n      void main() {\n        discardBySlice(vpos);\n        outputHighlight();\n      }\n    `)),m}var m=Object.freeze({__proto__:null,build:c});export{m as W,c as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ScreenSpacePass as o}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";function n(){const n=new r;return n.include(o),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(e`\n    void main() {\n      vec4 texColor = texture2D(tex, uv);\n      gl_FragColor = texColor * color;\n    }\n  `),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";var i;!function(i){i.builder=function(i,r){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`\n    float computeRenderPixelSizeAt( vec3 pWorld ){\n      vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\n      float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\n      return viewDirectionDistance*perScreenPixelRatio;\n    }\n\n    vec3 screenSizeScaling(vec3 position, vec3 anchor){\n      return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n    }\n  `)},i.bindPassUniforms=function(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}}(i||(i={}));export{i as ScreenSizeScaling};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ShaderBuilder as r}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";import{ColorConversion as i}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{Slice as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ScreenSizeScaling as l}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";function n(n){const s=new r;return s.include(o,{linearDepth:!1}),s.include(l.builder,{}),s.include(a,n),s.fragment.include(i),s.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),s.fragment.uniforms.add(\"color\",\"vec4\"),s.attributes.add(\"position\",\"vec3\"),s.varyings.add(\"vWorldPosition\",\"vec3\"),n.screenSizeEnabled&&s.attributes.add(\"offset\",\"vec3\"),n.shadingEnabled&&(s.vertex.uniforms.add(\"viewNormal\",\"mat4\"),s.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),s.attributes.add(\"normal\",\"vec3\"),s.varyings.add(\"vViewNormal\",\"vec3\")),s.vertex.code.add(e`\n    void main(void) {\n      vWorldPosition = ${n.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),n.shadingEnabled&&s.vertex.code.add(e`\n      vec3 worldNormal = normal;\n      vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;\n    `),s.vertex.code.add(e`\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),s.fragment.code.add(e`\n    void main() {\n      discardBySlice(vWorldPosition);\n    `),n.shadingEnabled?s.fragment.code.add(e`\n      vec3 viewNormalNorm = normalize(vViewNormal);\n      float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\n      vec4 finalColor = mix(color, shadedColor, shadingFactor);\n    `):s.fragment.code.add(e`\n      vec4 finalColor = color;\n    `),s.fragment.code.add(e`\n      if (finalColor.a < ${e.float(d)}) {\n        discard;\n      }\n      ${7===n.output?e`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===n.output?e`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${n.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),s}var s=Object.freeze({__proto__:null,build:n});export{s as S,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`\n    float normals2FoamIntensity(vec3 n, float waveStrength){\n      float normalizationFactor =  max(0.015, waveStrength);\n      return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n    }\n  `)}function n(o){o.fragment.code.add(t`\n    vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\n      return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n    }\n  `)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return normalize(pos + origin);\n      }\n    `):n.vertex.code.add(e`\n      vec3 getLocalUp(in vec3 pos, in vec3 origin) {\n          return vec3(0.0, 0.0, 1.0); // WARNING: up-axis dependent code\n      }\n    `),1===r.viewingMode?n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `):n.vertex.code.add(e`\n        mat3 getTBNMatrix(in vec3 n) {\n            vec3 t = vec3(1.0, 0.0, 0.0);\n            vec3 b = normalize(cross(n, t));\n            return mat3(t, b, n);\n        }\n    `)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`\n  vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n  {\n    vec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\n    vec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\n    reprojectedCoord.xy /= reprojectedCoord.w;\n    return reprojectedCoord.xy*0.5 + 0.5;\n  }\n  `)}!function(r){r.bindUniforms=function(r,o,e){r.setUniform1i(\"lastFrameColorMap\",e.lastFrameColorTextureID),o.bindTexture(e.lastFrameColorTexture,e.lastFrameColorTextureID),r.setUniformMatrix4fv(\"reprojectionMat\",e.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",e.camera.projectionMatrix)}}(o||(o={}));export{o as Reprojection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ReadLinearDepth as t}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as o}from\"./Reprojection.glsl.js\";function r(r,a){r.fragment.uniforms.add(\"nearFar\",\"vec2\"),r.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),r.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),r.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),r.include(t),r.include(o),r.fragment.code.add(e`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}!function(e){e.bindUniforms=function(e,t,r){r.ssrEnabled&&(e.setUniform1i(\"depthMapView\",r.linearDepthTextureID),t.bindTexture(r.linearDepthTexture,r.linearDepthTextureID),e.setUniform2fv(\"nearFar\",r.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",r.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/r.camera.height),o.bindUniforms(e,t,r))}}(r||(r={}));export{r as ScreenSpaceReflections};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`\n    const float GAMMA = 2.2;\n    const float INV_GAMMA = 0.4545454545;\n\n    vec4 delinearizeGamma(vec4 color) {\n      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n    }\n\n    vec3 linearizeGamma(vec3 color) {\n      return pow(color, vec3(GAMMA));\n    }\n  `)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{ScreenSpaceReflections as o}from\"./ScreenSpaceReflections.glsl.js\";import{FoamColor as t}from\"./FoamRendering.glsl.js\";import{Gamma as r}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as i}from\"./PhysicallyBasedRendering.glsl.js\";function a(a,n){a.include(i,n),a.include(r),a.include(t),n.ssrEnabled&&a.include(o,n),a.fragment.code.add(e`\n    const vec3 fresnelSky =  vec3(0.02, 1.0, 15.0); // f0, f0max, exp\n    const vec2 fresnelMaterial =  vec2(0.02, 0.1); // f0, f0max for specular term\n    const float roughness = 0.015;\n    const float foamIntensityExternal = 1.7;\n    const float ssrIntensity = 0.65;\n    const float ssrHeightFadeStart = 300000.0;\n    const float ssrHeightFadeEnd = 500000.0;\n    const float waterDiffusion = 0.775;\n    const float waterSeeColorMod = 0.8;\n    const float correctionViewingPowerFactor = 0.4;\n\n    const vec3 skyZenitColor = vec3(0.52, 0.68, 0.90);\n    const vec3 skyColor = vec3(0.67, 0.79, 0.9);\n\n    PBRShadingWater shadingInfo;\n\n    /*\n    *   This function is an approximation for the sky gradient reflected\n    *   the water surface and describes a combination of two fresnel terms.\n    *   @parameter: cosTheta = is the result of max(dot(n,v), 0.0)\n    *   @parameter: horizon = the dominant color of the sky horizon\n    *   @parameter: cosTheta = the dominant color of the sky zenit\n    */\n    vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\n      float exponent = pow((1.0 - cosTheta), fresnelSky[2]);\n      return mix(zenit, horizon, exponent);\n    }\n\n    /*\n    *   This function determines the water color per pixel.\n    *   @parameter: n = normal facing away from the surface\n    *   @parameter: v = view direction facing away from the surface.\n    *   @parameter: l = light direction facing away from the surface\n    *   @parameter: lightIntensity = light intensity, currently between 0...PI\n    *   @parameter: localUp = a normal for the general direction of the surface\n    *   @parameter: shadow = the amount of shadow at this pixel (0 = no shadow)\n    */\n    vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\n\n      float reflectionHit = 0.;\n      vec3 seaWaterColor = linearizeGamma(color);\n      // using half vector to determine the specular light\n      vec3 h = normalize(l + v);\n      shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\n      shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\n      shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\n      shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\n      shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\n      shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\n\n      // angle between vertex normal and view direction\n      float upDotV = max(dot(localUp,v), 0.0);\n      // reflected sky color: the reflected sky color consists of two main colors, the\n      // reflected color at the horizon and the reflected color of the zenit.\n      // the reflected sky color is then an approximation based on the fresnel term.\n      vec3 skyHorizon = linearizeGamma(skyColor);\n      vec3 skyZenit = linearizeGamma(skyZenitColor);\n      vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\n\n      // we use the upDotL to smoothen out the\n      // reflected color of the water\n      float upDotL = max(dot(localUp,l),0.0);\n\n      // The approximated sky color is adjusted according to the sun position.\n      // This is done as approximation for e.g. night views.\n      float daytimeMod = 0.1 + upDotL * 0.9;\n      skyColor *= daytimeMod;\n\n      // If a water surface is in shadow we just use a slight darkening of the\n      // water surface expressed with this shadowModifier.\n      float shadowModifier = clamp(shadow, 0.8, 1.0);\n\n      // The reflected sky color consists of the fresnel reflection multiplied with the approximated sky color.\n      // The shadow is influencing the frensel term to keep the shadow impression for really near views. As long\n      // as reflection are absent there is a need to have a slight shadow for depth perception.\n      vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\n      vec3 reflSky = fresnelModifier * skyColor * shadowModifier;\n\n      // The reflected sea color is the input water color combined with the reflected sky color.\n      // The reflected sky color is modified by the incoming light.\n      vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\n\n      vec3 specular = vec3(0.0);\n      // This prevents the specular light to be rendered when:\n      // - sun is behind a polygon (e.g. sundown for elevated polygons where nDotL might be still ok)\n      // - viewer is under water (for this localUp is better than n)\n      if(upDotV > 0.0 && upDotL > 0.0) {\n        // calculate the cook torrance BRDF but with simplified occlusion\n        vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\n\n        // Normalize light intensity to be between 0...1. Shadow cancels out specular light here\n        vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\n\n        specular = shadingInfo.NdotL * incidentLight * specularSun;\n      }\n\n      vec3 foam = vec3(0.0);\n      if(upDotV > 0.0) {\n        foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n      }\n      `),n.ssrEnabled?a.fragment.code.add(e`\n      // Convert the world position to view position\n      vec4 viewPosition = vec4(positionView.xyz, 1.0);\n      vec3 viewDir = normalize(viewPosition.xyz);\n      vec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\n      vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\n      vec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\n\n      // at steeper viewing angles we use more of a vertex normal (in this case up) then the wave normal\n      // this removes some artifacts of normal mapping\n      float correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\n      vec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\n\n      vec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\n\n      // perform screen space reflection to detect hit\n      vec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\n      vec3 reflectedColor = vec3(0.0);\n\n      // if there is a hit with ssr find reflected color from the reprojeted frame\n      if (hitCoordinate.z > 0.0)\n      {\n        vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\n\n        // fade out if there if the hit is near end of Y axis\n        vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\n        float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\n        reflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\n\n        reflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n      }\n      float seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n    }\n  `):a.fragment.code.add(e`\n      // combining reflected sky, reflected sea, specular highlight and SSR reflections.\n      return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n    }\n  `)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import\"../../../../chunks/builtins.js\";import r from\"../../../webgl/Texture.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";class n{constructor(){this.cache=new Map}dispose(){this.cache.forEach((t=>{e(t.texture)&&(t.texture.dispose(),t.texture=null)})),this.cache.clear()}acquire(e){if(t(e))return null;const n=this.patternId(e),i=this.cache.get(n);if(i)return i.refCount++,i.bind;const s=this.patternToTextureData(e,2),o=s.length/2,u={refCount:1,texture:null,bind:(e,n)=>(t(u.texture)&&(u.texture=new r(e,{width:s.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},s)),e.bindTexture(u.texture,n),o)};return this.cache.set(n,u),u.bind}release(r){if(t(r))return;const n=this.patternId(r),i=this.cache.get(n);i&&(i.refCount--,0===i.refCount&&(e(i.texture)&&i.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let i=!0,s=0;for(const r of e){for(let e=0;e<r*t;e++)n[s++]=i?255:0;i=!i}return n}}function i(e){return t(e)?e:e.slice()}function s(e){return[e,e]}export{n as StippleTextureRepository,i as createStipplePattern,s as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import{toHSV as i,toRGB as e}from\"../../../../core/colorUtils.js\";import{f as o}from\"../../../../chunks/vec4f64.js\";import{createStipplePattern as l}from\"../../webgl-engine/materials/lineStippleUtils.js\";const s={main:new t([255,127,0]),selected:new t([255,255,255]),staged:new t([12,207,255]),outline:new t([0,0,0,.5]),selectedOutline:new t([255,255,255])};function n(t,i){const e=t.clone();return e.a*=i,e}function r(t,o){const l=t.clone(),s=i(l);s.s*=o;const n=e(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function h(t,i){if(i)for(const e in i)t[e]=i[e]}class c{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,h(this,t)}}class a{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,h(this,t)}apply(t,i){const e=this[t];i.setParameterValues({color:W(e),transparent:\"color\"!==t||e.a<1,renderOccluded:this.renderOccluded})}}class d{constructor(t){this.vertex=new a({color:s.main,outlineColor:s.outline}),this.edge=new a({color:r(n(s.main,2/3),.5),outlineColor:n(s.outline,.5),size:8,collisionPadding:8}),this.selected=new a({color:s.selected,outlineColor:s.outline}),h(this,t)}}class u{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=l([5,5]),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,h(this,t)}apply(t){t.color=W(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=W(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=W(this.innerColor),t.renderOccluded=this.renderOccluded}}class p{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape=\"square\",h(this,t)}apply(t){t.color=W(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=W(this.outlineColor),t.primitive=this.shape}}class w{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.3,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,h(this,t)}apply(i,e=1){const o={glowColor:t.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:t.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};\"style\"in i?i.style=o:i.laserlineStyle=o}}class f{constructor(t){this.outline=new u({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:l([5,5]),width:1.5,innerWidth:0}),this.staged=new u({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:l([5,5]),width:1.5}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),h(this,t)}}class g{constructor(t){this.outline=new p({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:\"circle\",size:4}),this.shadowStyle=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),h(this,t)}}class C extends u{constructor(t){super(),this.extensionType=2,h(this,t)}}class m{constructor(t){this.lineGraphics=new f,this.pointGraphics=new g,this.heightPlane=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new w({globalAlpha:.3,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new C({color:n(s.main,.5),falloff:2,innerColor:n(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,h(this,t)}}function W(i){return o(t.toUnitRGBA(i))}const O=new class{constructor(t){this.visualElements=new m,this.reshapeManipulators=new d,this.zManipulator=new c,h(this,t)}colorToVec4(t){return W(t)}};export{s as colors,O as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isSome as r}from\"../../../../core/maybe.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{i as s}from\"../../../../chunks/vec3.js\";import{maxScale as a}from\"../../support/mathUtils.js\";import{c as n}from\"../../../../chunks/mat4.js\";import{I as e,a as o}from\"../../../../chunks/mat4f64.js\";import{computeAttachmentOriginTriangles as h}from\"./geometryDataUtils.js\";import{VertexAttrConstants as m}from\"./Util.js\";import{generateObject3DStateId as u}from\"./Object3DStateSet.js\";import{addObject3DStateID as d,removeObject3DStateID as f}from\"../materials/renderers/utils.js\";export default class{constructor(t,r,s,a,n,e,o){this.uniqueName=null,this.shaderTransformationDirty=!0,this.data=t.toRenderData(),this.boundingInfo=r,this.material=s,this.origin=null,this.center=i(),this.bsRadius=0,this.transformation=null,this.calculateShaderTransformation=n,a&&this.updateTransformation(a,e),this.castShadow=o,this.instanceParameters={highlights:null,occludees:null,visible:!0}}updateTransformation(t,r){this.transformation=t,this.shaderTransformationDirty=!0,this.bsRadius=this.getBoundingSphere(t,r,this.center)}shaderTransformationChanged(){this.shaderTransformationDirty=!0}getBoundingSphere(t,r,i){return r=r||a(t),s(i,this.boundingInfo.getCenter(),t),this.boundingInfo.getBSRadius()*r}get hasShaderTransformation(){return!!this.calculateShaderTransformation}getShaderTransformation(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=o()),n(this.shaderTransformation,this.calculateShaderTransformation(t(this.transformation,e))),this.shaderTransformationDirty=!1),this.shaderTransformation):t(this.transformation,e)}computeAttachmentOrigin(t){if(this.material.computeAttachmentOrigin)return!!this.material.computeAttachmentOrigin(this,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0);const i=this.getIndices(m.POSITION),a=this.getAttribute(m.POSITION);return!!h(a,i,t)&&(r(this.transformation)&&s(t,t,this.transformation),!0)}getIndices(t){return\"indices\"in this.data?this.data.indices[t]:null}getAttribute(t){return\"vertexAttr\"in this.data?this.data.vertexAttr[t]:null}addHighlight(){const t=u(0),r=this.instanceParameters;return r.highlights=d(r.highlights,t),t}removeHighlight(t){const r=this.instanceParameters;r.highlights=f(r.highlights,t)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isClockwise as n}from\"./coordsUtils.js\";import{earcut as t}from\"../../core/libs/earcut/earcut.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(n){const o=r(n.rings,n.hasZ,1),l=[];let s=0,i=0;for(const n of o.polygons){const e=n.count,r=n.index,c=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*e),h=n.holeIndices.map((n=>n-r)),f=new Uint32Array(t(c,h,3));l.push({position:c,faces:f}),s+=c.length,i+=f.length}const c=function(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const t of n){for(let n=0;n<t.position.length;n++)o[l++]=t.position[n];for(let n=0;n<t.faces.length;n++)r[s++]=t.faces[n]+i;i=l/3}return{position:o,faces:r}}(l,s,i),h=e(c.position.buffer,6,{originalIndices:c.faces});return c.position=new Float64Array(h.buffer),c.faces=h.indices,c}function r(t,e,o){const r=t.length,s=new Array(r),i=new Array(r),c=new Array(r);let h=0,f=0,g=0,a=0;for(let n=0;n<r;++n)a+=t[n].length;const u=new Float64Array(3*a);let p=0;for(let a=r-1;a>=0;a--){const d=t[a],y=1===o&&!n(d,!1,!1);if(y&&1!==r)s[h++]=d;else{let n=d.length;for(let t=0;t<h;++t)n+=s[t].length;const t={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};t.pathLengths[0]=d.length,d.length>0&&(c[g++]={index:p,count:d.length}),p=y?l(d,d.length-1,-1,u,p,d.length,e):l(d,0,1,u,p,d.length,e);for(let n=0;n<h;++n){const o=s[n];t.holeIndices[n]=p,t.pathLengths[n+1]=o.length,o.length>0&&(c[g++]={index:p,count:o.length}),p=l(o,0,1,u,p,o.length,e)}h=0,t.count>0&&(i[f++]=t)}}for(let n=0;n<h;++n){const t=s[n];t.length>0&&(c[g++]={index:p,count:t.length}),p=l(t,0,1,u,p,t.length,e)}return f<r&&(i.length=f),g<r&&(c.length=g),{position:u,polygons:i,outlines:c}}function l(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}export{r as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(i=s(),c=t(.57735,.57735,.57735),n=!0){this.intensity=i,this.direction=c,this.castShadows=n}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=s(),this.direction=s(),this.intensity=i,this.direction=c}}class n{constructor(t=s()){this.intensity=t}}class o{constructor(){this.sh={r:[0],g:[0],b:[0]}}}export{n as AmbientLight,c as FillLight,i as MainLight,o as SphericalHarmonicsLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{createScreenPointArray as e,createRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as s,b as h,f as n}from\"../../../../chunks/vec3f64.js\";import{f as o,k as a,g as _,m as p,r as u,d as v,u as c,v as w,a as d,l,s as y,c as g,n as f}from\"../../../../chunks/vec3.js\";import{directionFromTo as m}from\"../../support/mathUtils.js\";import{c as x,m as D,h as j,a as M,b as R,l as P}from\"../../../../chunks/mat4.js\";import{a as F}from\"../../../../chunks/mat4f64.js\";import{f as V}from\"../../../../chunks/vec2f64.js\";import{b as S,a as T}from\"../../../../chunks/vec4f64.js\";import{c as I,k as U}from\"../../../../chunks/vec2.js\";import{c as k,g as b,i as A,t as C}from\"../../../../chunks/vec4.js\";import{p as E}from\"../../../../chunks/vector.js\";import{ray as z,frustum as H}from\"../../support/geometryUtils.js\";import{fovd2fovx as W,fovx2fovd as G,fovd2fovy as X,fovy2fovd as Y}from\"./Util.js\";class L{constructor(i=null,e=null,r=null){this._viewUp=s(),this._viewForward=s(),this._viewRight=s(),this._ray=z.createWrapper(),this._viewport=S(0,0,1,1),this._padding=S(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=V(1,1e3),this._viewDirty=!0,this._viewMatrix=F(),this._projectionDirty=!0,this._projectionMatrix=F(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=F(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=F(),this._frustumDirty=!0,this._frustum=H.create(),this._fullViewport=T(),this._contextNavigation=!0,this.pixelRatio=1,this.relativeElevation=0,this._eye=t(i)?h(i):s(),this._center=t(e)?h(e):s(),this._up=t(r)?h(r):n(0,0,1)}get eye(){return this._eye}set eye(t){this._compareAndSetView(t,this._eye)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return this._ray.origin=this.eye,this._ray.direction||(this._ray.direction=s()),o(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){x(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),k(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(D(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;j(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){x(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return W(this._fov,this.width,this.height)}set fovX(t){this._fov=G(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return X(this._fov,this.width,this.height)}set fovY(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return a(this._center,this._eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(M(this._viewInverseTransposeMatrix,this.viewMatrix),R(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){const i=t;return _(this._eye,i._eye),_(this._center,i._center),_(this._up,i._up),k(this._viewport,i._viewport),k(this._padding,i._padding),I(this._nearFar,i._nearFar),this._fov=i._fov,this.relativeElevation=t.relativeElevation,this._viewDirty=i._viewDirty,this._viewDirty||(x(this._viewMatrix,i._viewMatrix),_(this._viewRight,i._viewRight),_(this._viewUp,i._viewUp),_(this._viewForward,i._viewForward)),i._projectionDirty?this._projectionDirty=!0:(x(this._projectionMatrix,i._projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H.copy(i._frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(x(this._viewInverseTransposeMatrix,i._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),k(this._fullViewport,i._fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new L).copyFrom(this)}equals(t){return p(this._eye,t._eye)&&p(this._center,t._center)&&p(this._up,t._up)&&b(this._viewport,t._viewport)&&b(this._padding,t._padding)&&U(this._nearFar,t._nearFar)&&this._fov===t._fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t._fov-this._fov)>=.001)return!1;const i=5e-4;u(B,t._eye,t._center),u(J,this._eye,this._center);const e=v(B,J),r=c(B),s=c(J);return e*e>=(1-1e-10)*r*s&&w(t._eye,this._eye)<Math.max(r,s)*i*i&&A(t._padding,this._padding)<.5&&A(t._viewport,this._viewport)<.5}markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(E(this.viewForward,o(B,t,this._eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=e()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=r()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==q&&_(q,t),q[3]=1,r&&(e[2]=-q[2]),C(q,q,this.projectionMatrix),d(q,q,1/Math.abs(q[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*q[0]),e[1]=i(0,s[1]+s[3],.5+.5*q[1]),r||(e[2]=.5*(q[2]+1)),e}projectToScreen(t,i){return this.projectToRenderScreen(t,K),this.renderToScreen(K,i)}projectToRenderScreen(t,e){if(q[0]=t[0],q[1]=t[1],q[2]=t[2],q[3]=1,C(q,q,this.viewProjectionMatrix),0===q[3])return null;d(q,q,1/Math.abs(q[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*q[0]),e.y=i(0,r[1]+r[3],.5+.5*q[1])):(e[0]=i(0,r[0]+r[2],.5+.5*q[0]),e[1]=i(0,r[1]+r[3],.5+.5*q[1]),e.length>2&&(e[2]=.5*(q[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,K),i)}unprojectFromRenderScreen(t,i){if(D(N,this.projectionMatrix,this.viewMatrix),!M(N,N))return null;const e=this.fullViewport;return q[0]=2*(t[0]-e[0])/e[2]-1,q[1]=2*(t[1]-e[1])/e[3]-1,q[2]=2*t[2]-1,q[3]=1,C(q,q,N),0===q[3]?null:(i[0]=q[0]/q[3],i[1]=q[1]/q[3],i[2]=q[2]/q[3],i)}constrainWindowSize(t,i,e,r=1){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e*r/2,0),o=Math.max(this.fullHeight-h-e/2,0),a=-Math.min(s-e*r/2,0),_=-Math.min(this.fullHeight-h-e/2,0);return[n,o,e*r-a- -Math.min(this.fullWidth-s-e*r/2,0),e-_- -Math.min(h-e/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;return i[0]=e,i[1]=r,i}computeUpGlobal(){o(B,this.center,this.eye);const t=l(this.center);t<1?(y(this.up,0,0,1),this.markViewDirty()):Math.abs(v(B,this.center))>.9999*l(B)*t||(g(this.up,B,this.center),g(this.up,this.up,B),f(this.up,this.up),this.markViewDirty())}computeUpLocal(){m(B,this.eye,this.center),Math.abs(B[2])<=.9999&&(d(B,B,B[2]),y(this.up,-B[0],-B[1],1-B[2]),f(this.up,this.up),this.markViewDirty())}_compareAndSetView(t,i){p(t,i)||(_(i,t),this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0)}_recomputeFrustum(){this._frustumDirty&&(H.fromMatrix(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(P(this._viewMatrix,this._eye,this._center,this._up),y(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),y(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),y(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const q=T(),N=F(),B=s(),J=s(),K=r();export default L;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as _}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import I from\"../../../core/Accessor.js\";let S=class extends I{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED=!1,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TERRAIN_DEBUG_POPUP=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([_()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([_()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_DISABLED\",void 0),E([_()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([_()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([_()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([_()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([_()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([_()],S.prototype,\"SHOW_POI\",void 0),E([_()],S.prototype,\"TERRAIN_DEBUG_POPUP\",void 0),E([_()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([_()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([_()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([_()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([_()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([_()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([_()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([_()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([_()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([_()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([_()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const t=new S;export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import\"../../../core/mathUtils.js\";import\"../../../chunks/builtins.js\";import{getGpuMemoryUsage as e}from\"../../webgl/Util.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";class t{constructor(e,t,i,s){this._renderTarget=null,this.id=`${t}_${++i}`,this._renderTarget=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:s,maxAnisotropy:8,width:0,height:0})}dispose(){this._renderTarget.dispose(),this._renderTarget=null}getTexture(){return this._renderTarget?this._renderTarget.colorTexture:null}isValid(){return null!==this._renderTarget}resize(e,r){this._renderTarget.resize(e,r)}bind(e){e.bindFramebuffer(this._renderTarget)}generateMipMap(){this._renderTarget.colorTexture.descriptor.hasMipmap&&this._renderTarget.colorTexture.generateMipmap()}disposeRenderTargetMemory(){this._renderTarget&&this._renderTarget.resize(0,0)}getGpuMemoryUsage(){let r=0;return this._renderTarget&&(r+=e(this._renderTarget)),r}}export{t as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{b as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{OverlayRenderTarget as r}from\"./OverlayRenderTarget.js\";import{fromValues as t}from\"../webgl-engine/lib/localOrigin.js\";class s{constructor(s,a){this.extent=e(),this.resolution=0,this.renderLocalOrigin=t(0,0,0,\"O\"),this.pixelRatio=1,this.renderTargets={color:{fbo:new r(s,\"overlay\",a,!0),valid:!1,lastUsed:1/0},colorWithoutRasterImage:{fbo:new r(s,\"overlayWithoutRasterImage\",a,!0),valid:!1,lastUsed:1/0},highlight:{fbo:new r(s,\"overlayHighlight\",a,!1),valid:!1,lastUsed:1/0},water:{fbo:new r(s,\"overlayWaterMask\",a,!0),valid:!1,lastUsed:1/0},occluded:{fbo:new r(s,\"overlayOccluded\",a,!0),valid:!1,lastUsed:1/0}}}dispose(){this.renderTargets.color.fbo.dispose(),this.renderTargets.colorWithoutRasterImage.fbo.dispose(),this.renderTargets.highlight.fbo.dispose(),this.renderTargets.water.fbo.dispose(),this.renderTargets.occluded.fbo.dispose()}drawRenderTargets(e,r,t){const s=this.renderTargets;s.color.valid=e.drawPass(0,s.color.fbo,r),s.highlight.valid=e.drawPass(5,s.highlight.fbo,r),s.water.valid=e.drawPass(3,s.water.fbo,r),s.occluded.valid=e.drawPass(0,s.occluded.fbo,r,1),s.colorWithoutRasterImage.valid=t&&e.drawPass(0,s.colorWithoutRasterImage.fbo,r,2)}computeRenderTargetValidityBitfield(){const e=this.renderTargets;return+e.color.valid|+e.colorWithoutRasterImage.valid<<1|+e.highlight.valid<<2|+e.water.valid<<3|+e.occluded.valid<<4}validateUsage(e,r){if(e.valid)e.lastUsed=r;else if(r-e.lastUsed>a)e.fbo.disposeRenderTargetMemory(),e.lastUsed=1/0;else if(e.lastUsed<1/0)return!0;return!1}collectUnusedMemory(e){let r=!1;return r=this.validateUsage(this.renderTargets.color,e)||r,r=this.validateUsage(this.renderTargets.colorWithoutRasterImage,e)||r,r=this.validateUsage(this.renderTargets.highlight,e)||r,r=this.validateUsage(this.renderTargets.occluded,e)||r,r=this.validateUsage(this.renderTargets.water,e)||r,r}getGpuMemoryUsage(){return this.renderTargets.color.fbo.getGpuMemoryUsage()+this.renderTargets.colorWithoutRasterImage.fbo.getGpuMemoryUsage()+this.renderTargets.highlight.fbo.getGpuMemoryUsage()+this.renderTargets.water.fbo.getGpuMemoryUsage()+this.renderTargets.occluded.fbo.getGpuMemoryUsage()}}const a=1e3;export{s as Overlay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{removeUnordered as s}from\"../../../../../core/arrayUtils.js\";class r{constructor(){this._uniforms={proj:[],shadowMapDistance:[],viewportPixelSz:[],lightingMainDirection:[]}}dispose(){this._uniforms=null}getPrograms(s){return this._uniforms[s]||[]}subscribeProgram(s){for(const r in this._uniforms)s.hasUniform(r)&&this._uniforms[r].push(s)}unsubscribeProgram(r){for(const i in this._uniforms)s(this._uniforms[i],r)}}export{r as CommonUniformStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../core/maybe.js\";import{all as t}from\"../../../../../core/promiseUtils.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let o=this._perConstructorInstances.get(e);o||(o=new Map,this._perConstructorInstances.set(e,o));let n=o.get(s);return void 0===n&&(n=new r(new e(this._context,t)),o.set(s,n)),++n.refCount,n.technique}acquireAndReleaseExisting(t,r,s){return e(s)?this.acquire(t,r):r.key===s.key&&s instanceof t?s:(this.release(s),this.acquire(t,r))}release(e){const t=this._perConstructorInstances.get(e.constructor).get(e.key);t.refCount-=1,0===t.refCount&&(t.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}getProgramsUsingUniform(e){return this._context.commonUniformStore.getPrograms(e)}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{e.push((async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))})(t,r))})),await t(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/Logger.js\";import{assert as i}from\"./Util.js\";import{getShaderOutputID as r,ShaderOutputTypes as a}from\"../core/shaderLibrary/ShaderOutputOptions.js\";const s=t.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,i(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}export default class{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const i=r(e.id,t);let a=this._id2glMaterialRef.get(i);if(null==a){const r=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(r),a.incRefCnt(),this._id2glMaterialRef.set(i,a),r}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const i=r(e.id,t),a=this._id2glMaterialRef.get(i);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(i)}}materialChanged(e){for(const t of a)if(5!==t.output&&6!==t.output){const i=this._id2glMaterialRef.get(r(e.id,t.output));if(i&&i.getGLMaterial()){const e=i.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(t){e(t.materialRepository)&&t.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),t.materialRepository=this}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import i from\"../../../../geometry/SpatialReference.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{f as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as s}from\"../../../../geometry/projection.js\";import{I as e}from\"../../../../chunks/mat4f64.js\";import{VertexAttrConstants as n}from\"./Util.js\";import{GeometryData as a}from\"./GeometryData.js\";import c from\"./Object3D.js\";import h from\"./Geometry.js\";import{fromValues as m}from\"./localOrigin.js\";import d from\"./Layer.js\";import{RibbonLineMaterial as O}from\"../materials/RibbonLineMaterial.js\";let _=0;class l{constructor(){this.ROOT_ORIGIN_ID=\"rg_root_\"+_++,this._origins=new Map,this._gridSize=42e5}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(l.testOrigin)){const t=l.testOrigin;return this._origins.set(this.ROOT_ORIGIN_ID,m(t[0],t[1],t[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i)}const r=m(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,r),r}o(g,i,r.vec3),g[0]=Math.abs(g[0]),g[1]=Math.abs(g[1]),g[2]=Math.abs(g[2]);const s=this._gridSize;if(g[0]<s&&g[1]<s&&g[2]<s)return r;const e=Math.round(i[0]/s),n=Math.round(i[1]/s),a=Math.round(i[2]/s),c=`rg_${e}/${n}/${a}`;let h=this._origins.get(c);return h||(h=m(e*s,n*s,a*s,c),this._origins.set(c,h)),h}_drawOriginBox(t){const r=window.view,o=r._stage;if(null==this._object){this._material=new O({width:2,color:[0,1,0,1]},\"GridLocalOriginMaterial\"),o.add(3,this._material);const t=new d(\"GridLocalOrigin\",{isPickable:!1});o.add(0,t),this._object=new c({idHint:\"GridLocalOrigin\",castShadow:!1}),o.add(1,this._object),t.addObject(this._object),o.addToViewContent([t.id])}const m=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],_=m.length,l=new Float32Array(3*_),g=new Uint32Array(2*(_-1)),f=.5*this._gridSize;for(let i=0;i<_;i++)l[3*i+0]=t[0]+(1&m[i]?f:-f),l[3*i+1]=t[1]+(2&m[i]?f:-f),l[3*i+2]=t[2]+(4&m[i]?f:-f),i>0&&(g[2*i+0]=i-1,g[2*i+1]=i);s(l,i.WebMercator,0,l,r.spatialReference,0,_);const I={};I[n.POSITION]={size:3,data:l};const j={};j[n.POSITION]=g;const p=new a(I,j,\"line\"),u=new h(p,\"GridLocalOriginBox\");o.add(2,u),this._object.addGeometry(u,this._material,e),console.log(this._origins.size,t)}}const g=r();!function(t){t.testOrigin=null}(l||(l={}));var f=l;export default f;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";const e=13;export default class{constructor(t,i,h,r,a,l){this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=e,this.hasOccludees=!1,this.rctx=t,this.offscreenRenderingHelper=i,this.scenelightingData=h,this.shadowMap=r,this.ssaoHelper=a,this.sliceHelper=l}resetRenderOccludedMask(){this.renderOccludedMask=e}get isHighlightPass(){return 5===this.pass}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getFirstObjectValue as t}from\"./Util.js\";function e(t){const e=new Map;let n=null,r=null;const d=t=>{if(t===n)return r;let o=e.get(t);return o||(o={toAdd:[],numToAdd:-1,toRemove:[],numToRemove:-1,toUpdate:[],numToUpdate:-1},e.set(t,o)),n=t,r=o,o};for(let e=0;e<t.numToAdd;e++){const n=t.toAdd[e];if(o(n)){d(n.material).toAdd.push(n)}}for(let e=0;e<t.numToRemove;e++){const n=t.toRemove[e];if(o(n)){d(n.material).toRemove.push(n)}}for(let e=0;e<t.numToUpdate;e++){const n=t.toUpdate[e];if(o(n.renderGeometry)){d(n.renderGeometry.material).toUpdate.push(n)}}return e}function o(e){return o=e.data,t(o.indices).length>=1;var o}export{e as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"../lib/DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,defaultDepthWriteParams as p,defaultColorWriteParams as u}from\"../../../webgl/renderState.js\";import{View as h}from\"../core/shaderLibrary/util/View.glsl.js\";import{DefaultTextureUnits as c}from\"../lib/DefaultTextureUnits.js\";import{Slice as d}from\"../core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as l}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{blendingDefault as g,OITBlending as m,OITDepthTest as f,OITDepthWrite as b,getOITPolygonOffset as y}from\"../lib/OrderIndependentTransparency.js\";import{ReadShadowMap as w}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{ScreenSpaceReflections as S}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{WaterDistortion as T}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{W as x}from\"../../../../chunks/WaterSurface.glsl.js\";class j extends r{constructor(t,e){super(t,e),this.waterTextureRepository=t.waterTextureRepository}initializeProgram(t){const e=j.shader.get(),r=this.configuration,i=e.build({OITEnabled:0===r.transparencyPassType,output:r.output,viewingMode:t.viewingMode,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:r.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:r.useSSR,highStepCount:!0});return new a(t.rctx,i.generateSource(\"vertex\"),i.generateSource(\"fragment\"),s)}ensureResource(t){return this.waterTextureRepository.ready||this.waterTextureRepository.updating||this.waterTextureRepository.loadTextures(t),this.waterTextureRepository.ready?2:1}bindPass(t,e,r){h.bindProjectionMatrix(this.program,r.camera.projectionMatrix),0===this.configuration.output&&(r.lighting.setUniforms(this.program,!1),S.bindUniforms(this.program,t,r)),0!==this.configuration.output&&2!==this.configuration.output||(T.bindUniforms(this.program,e),this.waterTextureRepository.bindRepo(t)),this.program.setUniform4fv(\"waterColor\",e.color),4===this.configuration.output&&l.bindOutputHighlight(t,this.program,r)}bindDraw(t){h.bindView(this.program,t),0!==this.configuration.output&&7!==this.configuration.output||h.bindCamPosition(this.program,t.origin,t.camera.viewInverseTransposeMatrix),0===this.configuration.output&&w.bindUniforms(this.program,t,c.SHADOW_MAP),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||d.bindUniformsWithOrigin(this.program,this.configuration,t)}setPipelineState(t){const e=this.configuration,r=3===t,i=2===t;return n({blending:2!==e.output&&4!==e.output&&e.transparent?r?g:m(t):null,depthTest:{func:f(t)},depthWrite:r?e.writeDepth&&p:b(t),colorWrite:u,polygonOffset:r||i?null:y(e.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}j.shader=new e(x,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class v extends i{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3}}t([o({count:8})],v.prototype,\"output\",void 0),t([o()],v.prototype,\"receiveShadows\",void 0),t([o()],v.prototype,\"slicePlaneEnabled\",void 0),t([o()],v.prototype,\"transparent\",void 0),t([o()],v.prototype,\"enableOffset\",void 0),t([o()],v.prototype,\"writeDepth\",void 0),t([o()],v.prototype,\"useSSR\",void 0),t([o()],v.prototype,\"isDraped\",void 0),t([o({count:4})],v.prototype,\"transparencyPassType\",void 0);export{j as WaterTechnique,v as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../lib/GLMaterial.js\";import{WaterTechnique as e}from\"./WaterTechnique.js\";class a extends t{constructor(t){super(t),this.updateParameters()}updateParameters(t){this.technique=this.techniqueRep.acquireAndReleaseExisting(e,this.material.getTechniqueConfig(this.output,t),this.technique)}beginSlot(t){if(2===this.output)return 22===t;if(5===this.output)return null==t;if(4===this.output)return 3===t;let e=3;return this.material.params.transparent&&(e=this.material.params.writeDepth?5:8),t===e}setElapsedTimeUniform(t){const e=.001*this.material.animation.time;t.setUniform1f(\"timeElapsed\",e*this.material.params.animationSpeed)}_updateShadowState(t){t.shadowMappingEnabled!==this.material.params.receiveShadows&&this.material.setParameterValues({receiveShadows:t.shadowMappingEnabled})}_updateSSRState(t){t.ssrEnabled!==this.material.params.ssrEnabled&&this.material.setParameterValues({ssrEnabled:t.ssrEnabled})}ensureResources(t){return this.technique.ensureResource(t)}ensureParameters(t){0===this.output&&(this._updateShadowState(t),this._updateSSRState(t)),this.updateParameters(t)}bind(t,e){t.bindProgram(this.technique.program),this.technique.bindPass(t,this.material.params,e),2!==this.output&&0!==this.output||this.setElapsedTimeUniform(this.technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{a as t,b as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,m,f,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=m,this.hasOccludees=f,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n=o,(i=s).first+i.count>=n.from){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o));var i,n}export{s as Instance,n as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{once as t}from\"../../../../core/accessorSupport/utils.js\";import s from\"../../../../core/PerformanceSampler.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends s{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new s(\"gpu\",9),this.renderPassTimings=i.map((e=>new s(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:t((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../../core/maybe.js\";import{m as s,a,b as i}from\"../../../../../chunks/mat4.js\";import{someMap as r}from\"../../../../../core/MapUtils.js\";import{a as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{assert as l,setMatrixTranslation3 as d}from\"../../lib/Util.js\";import h from\"../../../../webgl/BufferObject.js\";import{getStride as m}from\"../../../../webgl/Util.js\";import u from\"../../../../webgl/VertexArrayObject.js\";import{acquireMaterials as c,releaseMaterials as f,calculateTransformRelToOrigin as g}from\"./utils.js\";import{ResizableFloat32Array as p}from\"../../lib/ResizableFloat32Array.js\";import{WaterGLMaterial as b}from\"../WaterGLMaterial.js\";import{Instance as y,sortInstancesAccordingToRange as C,addOrMerge as _}from\"./Instance.js\";import{addToRenderStats as w}from\"../../statistics/RendererPerformanceInfo.js\";const v={begin:0,end:0},O=n(),H=n(),B=n();export default class{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=c(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){f(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&r(this._glMaterials,(e=>e instanceof b))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.toUpdate),this.addAndRemoveGeometries(e.toAdd,e.toRemove),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=function(e,t,s,a){const i=new Map,r=t.vertexBufferLayout.stride/4,n=(s,a)=>{const n=s.origin,o=e.get(n.id);let l=i.get(n.id);null==l&&(l={optimalCount:null==o?0:o.optimalCount,sparseCount:null==o?0:o.buffer.size,toAdd:[],toRemove:[],origin:n.vec3},i.set(n.id,l));const d=t.elementCount(s.data)*r;a?(l.optimalCount+=d,l.sparseCount+=d,l.toAdd.push(s)):(l.optimalCount-=d,l.toRemove.push(s))};for(const e of s)n(e,!0);for(const e of a)n(e,!1);return i}(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let h=r.get(t);if(null==h)l(s>0),h=this.createData(a,s,e.origin),r.set(t,h);else if(0===s)return h.vao.dispose(!0),h.vao=null,void r.delete(t);const m=s<e.sparseCount/2,u=m?s:o,c=v,f=h.buffer.size,g=h.buffer.array,p=h.buffer.resize(u,!1);m||p?this.removeAndRebuild(h,e.toRemove,i,g,c):e.toRemove.length>0?(this.removeByErasing(h,e.toRemove,i,c),e.toAdd.length>0&&(c.end=f)):(c.begin=f,c.end=f);const b=O;d(b,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(h,e.toAdd,i,b,c);const y=h.vao.vertexBuffers.geometry;if(y.byteSize!==h.buffer.array.buffer.byteLength)y.setData(h.buffer.array);else{const{begin:e,end:t}=c;if(e<t){const s=h.buffer.array,a=4,i=e*a,r=t*a;y.setSubData(s,i,i,r)}}h.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.uniqueName);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;g(i,H,B),t.write({transformation:H,invTranspTransformation:B},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,r(e.instances,(t=>(t.isVisible?(t.hasHighlights&&(this._hasHighlights=!0,e.hasHighlights=!0),t.hasOccludees&&(this._hasOccludees=!0,e.hasOccludees=!0)):e.hasHiddenInstances=!0,e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees)))}));this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&((e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.stats={default:0,highlight:0,occludees:0},0===e.instances.size)return;if(!(e.hasOccludees||e.hasHighlights||e.hasHiddenInstances)){const t=4*e.buffer.size/m(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0})}const t=C([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[];for(const s of t)s.isVisible&&(s.hasOccludees?_(e.drawCommandsOccludees,s):_(e.drawCommandsDefault,s),s.hasHighlights&&_(e.drawCommandsHighlight,s));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees)}})(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(s,a,i,r){const n=this._rctx,o=this._glMaterials.get(a.pass),l=5===a.pass;let d=s;if(3===a.pass&&null===d&&(d=22),!o||2!==o.ensureResources(n)||null!=d&&!o.beginSlot(d)||l&&!this._hasHighlights)return!1;o.ensureParameters(i);const h=o.getTechnique(),m=o.getPipelineState(d,!1);n.setPipelineState(m),o.bind(n,i);let u=!1;return this._dataByOrigin.forEach((s=>{if(e(s.drawCommandsDefault)&&e(s.drawCommandsHighlight)&&e(s.drawCommandsOccludees))return;if(l&&!s.hasHighlights)return;i.origin=s.origin,h.bindDraw(i),h.ensureAttributeLocations(s.vao),n.bindVAO(s.vao);const a=h.primitiveType;let c=l?s.drawCommandsHighlight:s.drawCommandsDefault;const f=l?s.stats.highlight:s.stats.default;if(t(c)&&(this.renderCommands(n,a,c),w(c.length,f,r),u=!0),!l&&(c=s.drawCommandsOccludees,t(c))){const e=o.getPipelineState(d,!0);n.setPipelineState(e),this.renderCommands(n,a,c),n.setPipelineState(m),w(c.length,s.stats.occludees,r),u=!0}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new u(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:h.createVertex(this._rctx,35044)}),buffer:new p(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,stats:{default:0,highlight:0,occludees:0}}}removeAndRebuild(e,t,s,a,i){for(const a of t){const t=a.uniqueName,i=e.instances.get(t);e.optimalCount-=(i.to-i.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,l=-1,d=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==l&&l!==t?(n.set(a.subarray(o,l),d),d+=l-o,o=t):-1===o&&(o=t),l=i,e.from=r/s,r+=h,e.to=r/s})),o!==l&&n.set(a.subarray(o,l),d),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.uniqueName,o=e.instances.get(t),l=o.from*s,d=o.to*s;i!==r&&r!==l?(e.buffer.erase(i,r),i=l):-1===i&&(i=l),r=d,e.instances.delete(t),e.optimalCount-=d-l,l<a.begin&&(a.begin=l),d>a.end&&(a.end=d)}i!==r&&e.buffer.erase(i,r)}append(e,r,n,o,d){const h=this._bufferWriter;for(const m of r){const r=t(m.transformation)?s(H,o,m.transformation):o;a(B,r),i(B,B);const u=d.end;h.write({transformation:r,invTranspTransformation:B},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const c=h.elementCount(m.data)*n,f=u+c;l(null==e.instances.get(m.uniqueName));const g=m.instanceParameters.visible,p=!!m.instanceParameters.highlights&&g,b=!!m.instanceParameters.occludees,C=new y(u/n,f/n,g,p,b);e.instances.set(m.uniqueName,C),e.optimalCount+=c,d.end+=c}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{applySome as t}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/PooledArray.js\";import a from\"../../../../core/Accessor.js\";import{someMap as d}from\"../../../../core/MapUtils.js\";import{materialPredicate as o}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as n}from\"./rendererUtils.js\";import h from\"../materials/renderers/MergedRenderer.js\";class l{}let p=class extends a{constructor(){super(...arguments),this._pendingAddsRemoves=new Map,this._adds=new i,this._removes=new i,this._updates=new i({allocator:e=>e||new l,deallocator:e=>(e.renderGeometry=null,e)}),this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._adds.prune(),this._removes.prune(),this._updates.prune(),this._materialRenderers&&(this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear())}get updating(){return this._pendingAddsRemoves.size>0||this._updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return d(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>t(r.material.animation,(t=>t.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){let e=!1;if(!this.updating)return!1;this.updateAddsRemoves();const t={numToAdd:this._adds.length,toAdd:this._adds.data,numToRemove:this._removes.length,toRemove:this._removes.data,numToUpdate:this._updates.length,toUpdate:this._updates.data},r=n(t);let s=!1,i=!1;return r.forEach(((t,r)=>{let a=this._materialRenderers.get(r);if(!a&&t.toAdd.length>0&&(a=new h(this.rctx,this.materialRepository,r),this._materialRenderers.set(r,a),e=!0,s=!0,i=!0),!a)return;const d=s||a.hasHighlights,o=i||a.hasWater;a.modify(t),s=s||d!==a.hasHighlights,i=i||o!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(r),a.dispose(),e=!0)})),this._adds.clear(),this._removes.clear(),this._updates.clear(),this._pendingAddsRemoves.clear(),e&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=d(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=d(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const t=0===this._pendingAddsRemoves.size;for(const t of e)this._pendingAddsRemoves.set(t,0);t&&this.notifyChange(\"updating\")}remove(e){const t=0===this._pendingAddsRemoves.size;for(const t of e){const e=this._pendingAddsRemoves.get(t);0===e?this._pendingAddsRemoves.set(t,2):2!==e&&this._pendingAddsRemoves.set(t,1)}t&&this._pendingAddsRemoves.size>0&&this.notifyChange(\"updating\")}modify(e,t){const r=0===this._updates.length;for(const r of e){const e=this._updates.pushNew();e.renderGeometry=r,e.updateType=t}r&&this._updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let t=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:r})=>{r.updateLogic&&r.updateLogic(e)&&(t=!0)})),t}draw(e,t){for(let r=0;r<this._sortedMaterialRenderers.length;r++){const s=this._sortedMaterialRenderers.data[r];o(s.material,e)&&s.materialRenderer.render(null,e,t,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((t,r)=>{r.insertOrder=e++,this._sortedMaterialRenderers.push({material:r,materialRenderer:t})})),this._sortedMaterialRenderers.sort(((e,t)=>{const r=t.material.renderPriority-e.material.renderPriority;return 0!==r?r:e.material.insertOrder-t.material.insertOrder}))}updateAddsRemoves(){this._adds.clear(),this._removes.clear(),this._pendingAddsRemoves.forEach(((e,t)=>{switch(e){case 0:this._adds.push(t);break;case 1:this._removes.push(t)}}));let e=0;for(;e<this._updates.length;){const t=this._updates.data[e].renderGeometry;this._pendingAddsRemoves.has(t)?this._updates.removeUnorderedIndex(e):e++}}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([r()],p.prototype,\"rctx\",void 0),e([r()],p.prototype,\"materialRepository\",void 0),e([r()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as s}from\"./DefaultVertexAttributeLocations.js\";import a from\"../../../webgl/Program.js\";import{makePipelineState as n,separateBlendingParams as l,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";import{T as c}from\"../../../../chunks/TextureOnly.glsl.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new a(e.rctx,r.generateSource(\"vertex\"),r.generateSource(\"fragment\"),s)}initializePipeline(){return this.configuration.hasAlpha?n({blending:l(770,1,771,771),colorWrite:h}):n({colorWrite:h})}}u.shader=new r(c,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends o{constructor(){super(...arguments),this.hasAlpha=!1}}e([i()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../../../core/mathUtils.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{p as i,s,g as o}from\"../../../../chunks/vec3.js\";import{MainLight as r,FillLight as e,AmbientLight as c,SphericalHarmonicsLight as a}from\"./Lightsources.js\";import{elementwiseProduct as h,scalarProduct as f,add as m}from\"../lib/LongVectorMath.js\";function u(n){return(n+1)*(n+1)}function l(n){return 2*n+1}function g(t){return n(Math.floor(Math.sqrt(t)-1),0,2)}function p(n,t,i){const s=n[0],o=n[1],r=n[2],e=i||[];return e.length=u(t),t>=0&&(e[0]=.28209479177),t>=1&&(e[1]=.4886025119*s,e[2]=.4886025119*r,e[3]=.4886025119*o),t>=2&&(e[4]=1.09254843059*s*o,e[5]=1.09254843059*o*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*s*r,e[8]=.54627421529*(s*s-o*o)),e}function y(n,t){const i=u(n),s=t||{r:[],g:[],b:[]};s.r.length=s.g.length=s.b.length=i;for(let n=0;n<i;n++)s.r[n]=s.g[n]=s.b[n]=0;return s}function b(n,t){const s=g(t.r.length);for(const o of n)i(v,o.direction),p(v,s,P),h(P,w),f(P,o.intensity[0],k),m(t.r,k),f(P,o.intensity[1],k),m(t.g,k),f(P,o.intensity[2],k),m(t.b,k);return t}function H(n,t){p(v,0,P);for(const i of n)t.r[0]+=P[0]*w[0]*i.intensity[0]*4*Math.PI,t.g[0]+=P[0]*w[0]*i.intensity[1]*4*Math.PI,t.b[0]+=P[0]*w[0]*i.intensity[2]*4*Math.PI;return t}function M(n,t,i){y(t,i.sphericalHarmonics.sh),s(i.main.intensity,0,0,0);let h=!1;const f=d,u=j,l=I;f.length=0,u.length=0,l.length=0;for(const t of n)t instanceof r&&!h?(o(i.main.direction,t.direction),i.main.intensity[0]=t.intensity[0],i.main.intensity[1]=t.intensity[1],i.main.intensity[2]=t.intensity[2],i.main.castShadows=t.castShadows,h=!0):t instanceof r||t instanceof e?f.push(t):t instanceof c?u.push(t):t instanceof a&&l.push(t);b(f,i.sphericalHarmonics.sh),H(u,i.sphericalHarmonics.sh);for(const n of l)m(i.sphericalHarmonics.sh.r,n.sh.r),m(i.sphericalHarmonics.sh.g,n.sh.g),m(i.sphericalHarmonics.sh.b,n.sh.b)}const d=[],j=[],I=[],P=[0],k=[0],v=t(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,p as computeCoefficients,y as initSHCoefficients,u as numberOfCoefficients,l as numberOfCoefficientsInBand,g as orderFromNumberOfCoefficients,H as projectAmbientLights,b as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as i,f as t}from\"../../../../chunks/vec3f64.js\";import{p as n,g as r,a as s,b as o}from\"../../../../chunks/vec3.js\";import{combineLights as e}from\"./SphericalHarmonics.js\";const h=i();class g{constructor(){this._renderLighting={main:{intensity:i(),direction:t(1,0,0),castShadows:!1},sphericalHarmonics:{sh:{r:[0],g:[0],b:[0]}}},this._shOrder=2,this._oldSunlight={direction:i(),ambient:{color:i(),intensity:0},diffuse:{color:i(),intensity:0}}}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._renderLighting.main.direction)}setUniforms(i,t=!1){if(t){const t=(1-this._info.groundLightingFactor)*(1-this._info.globalFactor);i.setUniform1f(\"lightingFixedFactor\",t)}else i.setUniform1f(\"lightingFixedFactor\",0);i.setUniform1f(\"lightingGlobalFactor\",this._info.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._renderLighting.main.intensity),i.setUniform1f(\"ambientBoostFactor\",.4);const n=this._renderLighting.sphericalHarmonics.sh;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",n.r[0],n.r[1],n.r[2],n.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",n.g[0],n.g[1],n.g[2],n.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",n.b[0],n.b[1],n.b[2],n.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",n.r[0],n.g[0],n.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",n.r[1],n.r[2],n.r[3],n.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",n.g[1],n.g[2],n.g[3],n.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",n.b[1],n.b[2],n.b[3],n.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",n.r[5],n.r[6],n.r[7],n.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",n.g[5],n.g[6],n.g[7],n.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",n.b[5],n.b[6],n.b[7],n.b[8]))}set(i){this._info=i,e(i.lights,this._shOrder,this._renderLighting),n(this._oldSunlight.direction,this._renderLighting.main.direction);const t=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._renderLighting.sphericalHarmonics.sh.r[0]*t,this._oldSunlight.ambient.color[1]=.282095*this._renderLighting.sphericalHarmonics.sh.g[0]*t,this._oldSunlight.ambient.color[2]=.282095*this._renderLighting.sphericalHarmonics.sh.b[0]*t,this._oldSunlight.ambient.intensity=1,this._oldSunlight.diffuse.color[0]=this._renderLighting.main.intensity[0]*t,this._oldSunlight.diffuse.color[1]=this._renderLighting.main.intensity[1]*t,this._oldSunlight.diffuse.color[2]=this._renderLighting.main.intensity[2]*t,this._oldSunlight.diffuse.intensity=1;const g=r(h,this._oldSunlight.diffuse.color);s(g,g,.4*this._info.globalFactor),o(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get globalFactor(){return this._info.globalFactor}get old(){return this._oldSunlight}}export{g as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/has.js\";import{isSome as t,isNone as r,unwrap as s}from\"../../../core/maybe.js\";import i from\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import\"../../../core/urlUtils.js\";import\"../../../core/uuid.js\";import\"../../../portal/support/resourceExtension.js\";import a from\"../../../core/PooledArray.js\";import l from\"../../../core/Accessor.js\";import{f as h,c as d}from\"../../../chunks/vec3f64.js\";import u from\"../../../core/Handles.js\";import{init as p}from\"../../../core/watchUtils.js\";import{o as c,i as g,t as m}from\"../../../chunks/mat4.js\";import{someMap as y}from\"../../../core/MapUtils.js\";import{a as _}from\"../../../chunks/vec2f64.js\";import f from\"../../webgl/Texture.js\";import{vertexCount as R}from\"../../webgl/Util.js\";import{createEmptyDepthTexture as w,createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{AmbientLight as b}from\"../webgl-engine/lighting/Lightsources.js\";import{IntersectorResult as T}from\"../webgl-engine/lib/intersectorUtils.js\";import v from\"../webgl-engine/lib/Camera.js\";import O from\"../support/debugFlags.js\";import{AutoDisposableMixin as C,autoDispose as j}from\"../webgl-engine/lib/AutoDisposable.js\";import{OverlayRenderTarget as L}from\"./OverlayRenderTarget.js\";import{Overlay as U}from\"./Overlay.js\";import{CommonUniformStore as V}from\"../webgl-engine/core/shaderTechnique/CommonUniformStore.js\";import{ShaderTechniqueRepository as M}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import q from\"../webgl-engine/lib/GLMaterialRep.js\";import D from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import E from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as G}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as S,TextureTechnique as P}from\"../webgl-engine/lib/TextureTechnique.js\";import{SceneLighting as A}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as H}from\"../webgl-engine/materials/lineStippleUtils.js\";const W=i.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let F=class extends(C(l)){constructor(e){super(e),this._overlays=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new A,this._localOrigins=new D,this._handles=new u,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new a,this._geometries=new Map,this._uniqueIdx=0,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){this._rctx=this.renderView.renderingContext,this._renderContext=new E(this._rctx,null,null,null,null,null),this._stippleTextureRepository=new H,this.waterTextureRepository=this.renderView.waterTextureRepository,this._shaderTechniqueRepository=new M({rctx:this._rctx,viewingMode:2,commonUniformStore:new V,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:this.waterTextureRepository}),p(this.waterTextureRepository,\"loadingState\",(()=>this.emitContentChanged())),this._materialRepository=new q(this.renderView.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&Y)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._compositingHelper=this.renderView.compositingHelper,this._lighting.set({lights:[new b(h(1,1,1))],groundLightingFactor:1,globalFactor:0}),this._bindParameters={slot:null,highlightDepthTexture:w(this._rctx),camera:I,inverseViewport:_(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,linearDepthTextureID:0,lastFrameColorTexture:null,lastFrameColorTextureID:0,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3}}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._bindParameters.highlightDepthTexture.dispose(),this._bindParameters.highlightDepthTexture=null,this._shaderTechniqueRepository.dispose(),this._shaderTechniqueRepository=null}get updating(){return this._sortedLayerRenderersDirty||y(this._layerRenderers,(e=>e.updating))||this.waterTextureRepository.updating}get hasOverlays(){return t(this._overlays)}get gpuMemoryUsage(){return t(this._overlays)?this._overlays[0].getGpuMemoryUsage()+this._overlays[1].getGpuMemoryUsage():0}get overlays(){return this._overlays}forEachOverlay(e){t(this._overlays)&&(e(this._overlays[0],0),e(this._overlays[1],1))}ensureOverlays(){if(r(this._overlays)){const e=this.renderView.renderingContext;this._overlays=[new U(e,0),new U(e,1)]}}disposeOverlays(){t(this._overlays)&&(this._overlays.forEach((e=>e.dispose())),this._overlays=null)}commitChanges(){let e=!1;this._layerRenderers.forEach(((t,r)=>{t.commitChanges()&&(e=!0),t.isEmpty&&(this._layerRenderers.delete(r),this._sortedLayerRenderersDirty=!0,this._handles.remove(r))})),this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),e=!0),e&&(this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}addGeometries(e,t,r){for(const t of e)null==t.origin&&(t.origin=this._localOrigins.getOrigin(t.center)),t.uniqueName||(t.uniqueName=\"ov:\"+this._uniqueIdx++),this._geometries.set(t.uniqueName,t);this.ensureLayerRenderer(t).add(e),2===r&&this.notifyGraphicUpdate(e,t,2)}removeGeometries(e,t,r){for(const t of e)this._geometries.delete(t.uniqueName);const s=this._layerRenderers.get(t);s&&(s.remove(e),2===r&&this.notifyGraphicUpdate(e,t,2))}updateGeometries(e,t,r){const s=this._layerRenderers.get(t);s?(s.modify(e,r),this.notifyUpdateGeometries(e,t,r)):W.warn(\"Attempted to update geometry for nonexistent layer\")}notifyUpdateGeometries(e,t,r){const s=4===r||2===r?2:1===r?1:0;this.notifyGraphicUpdate(e,t,s)}notifyGraphicUpdate(e,t,s){if(0===s||r(t.notifyGraphicUpdate))return;let i=-1;for(const r of e){const e=r.data.graphicUid;e!==i&&(t.notifyGraphicUpdate(e,s),i=e)}}updateHighlights(e,t){const r=this._layerRenderers.get(t);r?r.modify(e,8):W.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!O.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let t=!1;return this._layerRenderers.forEach((r=>{r.updateLogic(e)&&(t=!0)})),t}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawPass(e,r,i,n=0){if(0===i.numViews)return!1;if(this._screenToWorldRatio=i.pixelRatio*Math.abs(i.views[0].extent[2]-i.views[0].extent[0])/Math.abs(i.views[0].viewport[2]-i.views[0].viewport[0]),this.isEmpty()||5===e&&!this.hasHighlights||3===e&&!this.hasWater)return!1;if(!this.hasNonZeroSizedView(i))return!1;const o=i.width,a=i.height;if(!r.isValid())return!1;r.resize(o,a);const l=this._rctx;if(I.pixelRatio=i.pixelRatio||1,this._renderContext.pass=e,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,r.bind(l),l.setClearColor(0,0,0,0),l.clearSafe(16384),1===n&&(this._renderContext.renderOccludedMask=Y),O.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==n)for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),this.drawDebugTexture(o,a,k[i.index%k.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:h,renderer:d})=>{if(2===n&&t(h)&&0===h.drapeSourceType)return;const u=t(h)&&t(h.fullOpacity)&&h.fullOpacity<1&&0===e;u&&(this.bindTemporaryFramebuffer(this._rctx,o,a),l.clearSafe(16384));for(let e=0;e<i.numViews;e++)this.setViewParameters(i.views[e],I),d.draw(this._renderContext,this._bindParameters);u&&t(this._temporaryRenderTarget)&&(r.bind(l),this._compositingHelper.composite(this._temporaryRenderTarget.getTexture(),2,s(s(h).fullOpacity)))})),l.bindFramebuffer(null),r.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,t,s){r(this._temporaryRenderTarget)&&(this._temporaryRenderTarget=new L(e,\"temp\",0,!1)),this._temporaryRenderTarget.resize(t,s),this._temporaryRenderTarget.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,t,r){let s=0;this._geometries.forEach((i=>{if(r&&!r(i))return;this.intersectRenderGeometry(i,t,0,e,s);const n=this.longitudeCyclical;n&&(i.center[0]-i.bsRadius<n.min&&this.intersectRenderGeometry(i,t,n.range,e,s),i.center[0]+i.bsRadius>n.max&&this.intersectRenderGeometry(i,t,-n.range,e,s)),s++}))}intersectRenderGeometry(e,r,s,i,n){let o=0;t(e.transformation)&&(s+=e.transformation[12],o=e.transformation[13]),N[0]=r[0]-s,N[1]=r[1]-o,N[2]=1,B[0]=r[0]-s,B[1]=r[1]-o,B[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),i,N,B,((t,r,s)=>{this.addIntersectionResult(s,e.material.renderPriority,n,i,e.data.layerUid,e.data.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,t,r,s,i,n){const o={type:\"external\",metadata:{layerUid:i,graphicUid:n}},a=i=>{i.set(o,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,t,null,null,e,r),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||t>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&a(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||t<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&a(s.results.max),2===s.options.store){const e=new T(s.ray);a(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((t=>t.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let t=this._layerRenderers.get(e);return t||(t=new G({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,t),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(p(t,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),t}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const[{view:{allLayerViews:e}}]=this._layerRenderers.keys(),t=new Set(this._layerRenderers.values());e.forEach((e=>{const r=e,s=this._layerRenderers.get(r);s&&(this._sortedLayerRenderers.push(new z(r,s)),t.delete(s))})),t.forEach((e=>{this._sortedLayerRenderers.push(new z(null,e))}))}setViewParameters(e,t){t.viewport=e.viewport;const r=e.extent;c(t.projectionMatrix,0,r[2]-r[0],0,r[3]-r[1],t.near,t.far),g(t.viewMatrix),m(t.viewMatrix,t.viewMatrix,[-e.extent[0],-e.extent[1],0]),t.setGLViewport(this._rctx),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}hasNonZeroSizedView(e){for(let t=0;t<e.numViews;t++){const r=e.views[t];if(r.extent[0]!==r.extent[2]&&r.extent[1]!==r.extent[3])return!0}return!1}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=y(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e)}updateHasHighlights(){const e=y(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=y(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,t,r){const s=this._rctx;this.ensureDebugPatternResources(e,t);const i=this._debugTextureTechnique.program;s.bindProgram(i),s.setPipelineState(this._debugTextureTechnique.pipeline),i.setUniform4f(\"color\",r[0],r[1],r[2],1),i.setUniform1i(\"tex\",0),s.bindTexture(this._debugPatternTexture,0),s.bindVAO(this._quadVAO),s.drawArrays(5,0,R(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,t){if(this._debugPatternTexture)return;const r=new Uint8Array(e*t*4);let s=0;for(let i=0;i<t;i++)for(let n=0;n<e;n++){const o=Math.floor(n/10),a=Math.floor(i/10);o<2||a<2||10*o>e-20||10*a>t-20?(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=255):(r[s++]=255,r[s++]=255,r[s++]=255,r[s++]=1&o&&1&a?1&n^1&i?0:255:1&o^1&a?0:128)}this._debugPatternTexture=new f(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:t},r);const i=new S;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquireAndReleaseExisting(P,i,this._debugTextureTechnique),this._quadVAO=x(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([j()],F.prototype,\"_shaderTechniqueRepository\",void 0),e([j()],F.prototype,\"_stippleTextureRepository\",void 0),e([n(),j()],F.prototype,\"waterTextureRepository\",void 0),e([n({constructOnly:!0})],F.prototype,\"renderView\",void 0),e([n()],F.prototype,\"globalUnitScale\",void 0),e([n({type:Boolean,readOnly:!0,dependsOn:[\"waterTextureRepository.updating\"]})],F.prototype,\"updating\",null),F=e([o(\"esri.views.3d.terrain.OverlayRenderer\")],F);class z{constructor(e,t){this.layerView=e,this.renderer=t}}const k=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],I=new v;I.near=1,I.far=1e4,I.relativeElevation=null;const N=d(),B=d(),X=-2,Y=4;export{X as DRAPED_Z,F as OverlayRenderer,Y as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{slice as t}from\"../../../../core/typedArrayUtil.js\";import{isNone as e,isSome as o,unwrapOr as n}from\"../../../../core/maybe.js\";import{acosClamped as r}from\"../../../../core/mathUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,n as s,d as f,a as c}from\"../../../../chunks/vec3.js\";import{projectBuffer as u}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{GeometryData as I}from\"../../webgl-engine/lib/GeometryData.js\";import{applyPerVertexElevationAlignment as p}from\"./elevationAlignmentUtils.js\";import{RibbonVertexAttributeConstants as d}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{WHITE_UNIT as T}from\"./constants.js\";function y(i){const u={},l={};!function(e,o,n){const{attributeData:{position:r},removeDuplicateStartEnd:i}=e,a=function(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}(r)&&1===i,s=r.length/3-(a?1:0),f=new Uint32Array(2*(s-1)),c=a?t(r,0,r.length-3):r;let u=0;for(let t=0;t<s-1;t++)f[u++]=t,f[u++]=t+1;o[d.POSITION]={size:3,data:c,offsetIdx:0,strideIdx:3},n[d.POSITION]=f}(i,l,u);const p=new Uint32Array(u[d.POSITION].length);return function(t,o,n){const r=t.attributeData.mapPosition;if(e(r))return;n.mapPos=n[d.POSITION],o.mapPos={size:3,data:r,offsetIdx:0,strideIdx:3}}(i,l,u),function(t,e,r,i){if(o(t.attributeData.colorFeature))return;const a=t.attributeData.color;e[d.COLOR]={size:4,data:n(a,T),offsetIdx:0,strideIdx:4},r[d.COLOR]=i}(i,l,u,p),function(t,e,r,i){if(o(t.attributeData.sizeFeature))return;const a=t.attributeData.size;e[d.SIZE]={size:1,data:new Float32Array([n(a,1)]),offsetIdx:0,strideIdx:1},r[d.SIZE]=i}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.colorFeature;if(e(i))return;o[d.COLORFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.COLOR]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.sizeFeature;if(e(i))return;o[d.SIZEFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.SIZEFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,o,n,r){const i=t.attributeData.opacityFeature;if(e(i))return;o[d.OPACITYFEATUREATTRIBUTE]={size:1,data:new Float32Array([i]),offsetIdx:0,strideIdx:1},n[d.OPACITYFEATUREATTRIBUTE]=r}(i,l,u,p),function(t,e,o){if(\"round\"!==t.join)return;const i=e[d.POSITION].data,u=i.length/3,l=new Float32Array(u),I=E,p=S;a(I,0,0,0);const m=n(t.uniformSize,1);for(let t=-1;t<u;++t){const e=t<0?u+t:t,o=(t+1)%u;if(a(p,i[3*o+0]-i[3*e+0],i[3*o+1]-i[3*e+1],i[3*o+2]-i[3*e+2]),s(p,p),t>=0){const e=1*((Math.PI-r(f(I,p)))*x)*A(m);l[t]=Math.max(Math.floor(e),0)}c(I,p,-1)}e[d.SUBDIVISIONS]={size:1,data:l,offsetIdx:0,strideIdx:1},o[d.SUBDIVISIONS]=o[d.POSITION]}(i,l,u),new I(l,u,\"line\")}function O(t,e,o,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:a,outlines:s}=l(i,t.hasZ,r),f=new Float64Array(a.length),c=p(a,t.spatialReference,0,f,0,a,0,a.length/3,e,o,n),u=null!=c;return{lines:u?g(s,a,f):[],projectionSuccess:u,sampledElevation:c}}function g(t,e,o){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,a=t+3*i;n.push({position:e.subarray(t,a),mapPosition:o?o.subarray(t,a):void 0})}return n}function h(t,e){const o=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,o),a=u(r,t.spatialReference,0,r,e,0,r.length/3);for(let t=2;t<r.length;t+=3)r[t]=m;return{lines:a?g(i,r):[],projectionSuccess:a}}function A(t){return 1.863798+-2.0062872/Math.pow(1+t/18.2313,.8856294)}const E=i(),S=i(),x=4/Math.PI;export{y as createGeometryData,O as geometryToRenderInfo,h as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import{isSome as r,isNone as s}from\"../../../../core/maybe.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import i from\"../../../../core/Accessor.js\";import{IdentifiableMixin as c}from\"../../../../core/Identifiable.js\";class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return r(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?s(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?s(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(s(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(s(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(s(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(c(i)){constructor(e){super(e),this.drapeSourceType=1}};e([t({constructOnly:!0})],u.prototype,\"view\",void 0),e([t({readOnly:!0})],u.prototype,\"drapeSourceType\",void 0),u=e([o(\"DrapedVisualElementLayerView\")],u);export{a as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,unwrap as t,isNone as r}from\"../../../../core/maybe.js\";import s from\"../../../../core/Evented.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{s as a,b as n,a as o}from\"../../../../chunks/vec3.js\";import{projectBuffer as l}from\"../../../../geometry/projection.js\";import{g as h,c}from\"../../../../chunks/vec4.js\";import{empty as d,expandWithBuffer as u,create as m}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as p}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeAttachmentOriginLines as f}from\"../../webgl-engine/lib/geometryDataUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import _ from\"../../webgl-engine/lib/Geometry.js\";import{RibbonVertexAttributeConstants as y}from\"../../webgl-engine/shaders/RibbonLineTechnique.js\";import{RibbonLineMaterial as v}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import O from\"../../webgl-engine/lib/RenderGeometry.js\";import{geometryToRenderInfoDraped as w,createGeometryData as R,geometryToRenderInfo as b}from\"../../layers/graphics/lineUtils.js\";import{f as C,a as D}from\"../../../../chunks/vec4f32.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{VisualElementResources as E}from\"./VisualElementResources.js\";import{DrapedVisualElementResources as P}from\"./DrapedVisualElementResources.js\";class G{constructor(e){this.view=null,this._attachmentOrigin=p(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new s,this._isDraped=!1,this._geometry=null,this._width=1,this._color=C(1,0,1,1),this._innerWidth=0,this._innerColor=C(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new E({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=e.view.spatialReference,this.drapedResources=new P({view:e.view,createResources:()=>this.createDrapedResources(),recreateGeometry:e=>{e.geometries=this.createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let t=!0;this._laserline=new j({view:e.view});for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&e(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(c(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){h(e,this._innerColor)||(c(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&h(e,this._stippleOffColor)||(this._stippleOffColor=e?D(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(t){this._laserlineStyle=t,this._laserline.attached=this.laserlineAttached,e(t)&&(this._laserline.style=t)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const r=e(this.resources.resources)?this.resources.resources.geometries:null;if(!r||0===r.length)return null;a(I,0,0,0);const s=y.POSITION;let i=0;for(const e of r){const r=e.getAttribute(s),a=e.getIndices(s),o=t(this.resources.resources).material.isClosed(r.data,a);f(r,a,o,M)&&(n(I,I,M),i++)}return 0===i?null:(o(I,I,1/i),this.view.renderCoordsHelper.fromRenderCoords(I,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){e(this.resources.resources)&&this.resources.resources.material.setParameterValues(this.materialParameters),e(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameterValues(this.materialParameters)}get isClosed(){return e(this.geometry)&&\"polygon\"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:\"round\",stippleIntegerRepeats:!0,polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit(\"attachment-origin-changed\")}createResources(e){const t=new v(this.materialParameters,\"lineVisualElement\"),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}createDrapedResources(){const e=new v(this.materialParameters,\"lineVisualElement\");return{material:e,geometries:this.createRenderGeometriesDraped(e)}}createRenderGeometriesDraped(e){const t=this.geometry;if(r(t))return[];const s=w(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:t}of s.lines){const r={attributeData:{position:t},removeDuplicateStartEnd:this.isClosed?1:0},s=new O(R(r));s.material=e;const n=d(A);u(n,t),a(s.center,.5*(n[0]+n[3]),.5*(n[1]+n[4]),0),s.bsRadius=.5*Math.sqrt((n[3]-n[0])*(n[3]-n[0])+(n[4]-n[1])*(n[4]-n[1])),i.push(s)}return i}calculateMapBounds(e){if(r(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.data.getAttribute(\"position\"),i=s.data,a=new Float64Array(i.length);l(s.data,t.spatialReference,0,a,this.view.spatialReference,0,i.length/3),u(e,a)}return!0}createRenderGeometries(){const e=this.geometry;if(r(e))return[];const t=b(e,this.view.elevationProvider,this.view.renderCoordsHelper,g.fromElevationInfo(this.elevationInfo)),s=[],i=[];for(const{position:e,mapPosition:r}of t.lines){const t={attributeData:{position:e,mapPosition:r},removeDuplicateStartEnd:this.isClosed?1:0},a=R(t);s.push(new _(a,\"geometryOutlineVisualElement\")),i.push(e)}return this._laserline.pathVerticalPlane=i,s}}const A=m(),M=i(),I=i();export{G as OutlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{getPointOnPath as t,getPathLength as r}from\"../../../../geometry/support/coordsUtils.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{projectPointToVector as o}from\"../../../../geometry/projection.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{containsPoint as s}from\"../../../../geometry/support/aaBoundingBox.js\";import{makeDehydratedPoint as a}from\"../../../../layers/graphics/dehydratedFeatures.js\";import c from\"../../webgl-engine/lib/Object3D.js\";import{computeCentroid as l}from\"./graphicUtils.js\";import{applyElevationAlignmentForHUD as p,applyPerVertexElevationAlignment as m}from\"./elevationAlignmentUtils.js\";const u=n();function f(t,r,n,a,l,m,f,g,d,h,j){const y=n?n.length:0,v=t.clippingExtent;if(o(r,u,t.elevationProvider.spatialReference),e(v)&&!s(v,u))return null;const w=t.renderCoordsHelper.spatialReference;o(r,u,w);const x=t.localOriginFactory.getOrigin(u),b=new c({castShadow:!1,metadata:{layerUid:d,graphicUid:h,usesVerticalDistanceToGround:!0},idHint:g});for(let e=0;e<y;e++){const t=l?l[e]:i;b.addGeometry(n[e],a[e],t,m,x,j)}return{object:b,sampledElevation:p(b,r,t.elevationProvider,t.renderCoordsHelper,f)}}function g(e,t,r){const n=e.elevationContext,i=r.spatialReference;o(t,u,i),n.centerPointInElevationSR=a(u[0],u[1],t.hasZ?u[2]:0,i)}function d(e){switch(e.type){case\"point\":return e;case\"polygon\":case\"extent\":return l(e);case\"polyline\":{const n=e.paths[0];if(!n||0===n.length)return null;const o=t(n,r(n)/2);return a(o[0],o[1],o[2],e.spatialReference)}case\"mesh\":return e.extent.center}return null}function h(e,t,r,n,o){const i=new Float64Array(3*e.length),s=new Float64Array(i.length);e.forEach(((e,t)=>{i[3*t+0]=e[0],i[3*t+1]=e[1],i[3*t+2]=e.length>2?e[2]:0}));const a=m(i,t,0,s,0,i,0,i.length/3,r,n,o),c=null!=a;return{numVertices:e.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}export{f as createStageObjectForHUD,g as extendPointGraphicElevationContext,h as geometryToRenderInfo,d as placePointOnGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{a as r}from\"../../../../chunks/vec4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as o,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import n from\"../../../webgl/Program.js\";import{makePipelineState as a,defaultDepthWriteParams as l,defaultColorWriteParams as d}from\"../../../webgl/renderState.js\";import{View as c}from\"../core/shaderLibrary/util/View.glsl.js\";import{Slice as p}from\"../core/shaderLibrary/Slice.glsl.js\";import{blendingDefault as h,OITBlending as g,OITDepthWrite as m,OITPolygonOffset as u}from\"../lib/OrderIndependentTransparency.js\";import{ScreenSizeScaling as b}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";class y extends t{initializeProgram(e){const r=y.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:i.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType});return new n(e.rctx,t.generateSource(\"vertex\"),t.generateSource(\"fragment\"),P)}bindPass(e,r,i){const{screenSizeEnabled:t,shadingEnabled:o}=this.configuration,{color:s,shadingTint:n,shadingDirection:a}=r;c.bindProjectionMatrix(this.program,i.camera.projectionMatrix),this.program.setUniform4fv(\"color\",s),o&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(E,n,s)),this.program.setUniform3fv(\"shadingDirection\",a),this.program.setUniformMatrix4fv(\"viewNormal\",i.camera.viewInverseTransposeMatrix)),t&&b.bindPassUniforms(this.program,r,i)}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}bindDraw(e){c.bindView(this.program,e),c.bindCamPosition(this.program,e.origin,e.camera.viewInverseTransposeMatrix),p.bindUniformsWithOrigin(this.program,this.configuration,e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return a({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:g(e),culling:(o=r.cullFace,0!==o&&{face:1===o?1028:1029,mode:2305}),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&l:m(e),colorWrite:d,polygonOffset:i||t?null:u});var o}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class S extends o{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.sliceHighlightDisabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3}}e([s({count:8})],S.prototype,\"output\",void 0),e([s({count:3})],S.prototype,\"cullFace\",void 0),e([s()],S.prototype,\"slicePlaneEnabled\",void 0),e([s()],S.prototype,\"sliceHighlightDisabled\",void 0),e([s()],S.prototype,\"transparent\",void 0),e([s()],S.prototype,\"writeDepth\",void 0),e([s()],S.prototype,\"screenSizeEnabled\",void 0),e([s()],S.prototype,\"shadingEnabled\",void 0),e([s({count:4})],S.prototype,\"transparencyPassType\",void 0);const v={POSITION:\"position\",NORMAL:\"normal\",OFFSET:\"offset\"},P={position:0,normal:1,offset:2},E=r();export{y as ShadedColorMaterialTechnique,S as ShadedColorMaterialTechniqueConfiguration,v as ShadedColorMaterialVertexAttrConstants,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{c as e}from\"../../../../chunks/vec3f64.js\";import{n as t,s as r,a as i,b as s}from\"../../../../chunks/vec3.js\";import{BufferViewVec3f as a}from\"../../support/buffer/BufferView.js\";import{center as n,scale as o}from\"../../../../geometry/support/aaBoundingBox.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{assert as u}from\"../lib/Util.js\";import h from\"../lib/GLMaterial.js\";import{intersectTriangleGeometry as l}from\"./internal/MaterialUtil.js\";import{Material as p,materialParametersDefaults as f}from\"../lib/Material.js\";import{writeDefaultAttributes as d,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as b,ShadedColorMaterialVertexAttrConstants as S,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";export{ShadedColorMaterialVertexAttrConstants}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends p{constructor(e,t){super(t,e,F),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=b}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,t,a,c,u,h,p){if(this.params.screenSizeEnabled){const a=e.getAttribute(S.OFFSET),f={applyToVertex:(e,t,n,o)=>{const u=r(v,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),h=r(C,e,t,n);return i(u,u,this.params.screenSize*c.camera.computeRenderPixelSizeAt(u)),s(h,h,u),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=n(e,v);return o(e,this.params.screenSize*c.camera.computeRenderPixelSizeAt(t))}};l(e,t,c,u,h,f,p)}else l(e,t,c,u,h,void 0,p)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new T(e):void 0}createBufferWriter(){return new P(this.params.screenSizeEnabled)}}class T extends h{constructor(e){super(e),this.updateParameters()}updateParameters(e){this.technique=this.techniqueRep.acquireAndReleaseExisting(E,this.material.getTechniqueConfig(this.output,e),this.technique)}beginSlot(e){if(4===this.output)return 3===e;let t=3;return this.technique.configuration.transparent&&(t=this.technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e,t){e.bindProgram(this.technique.program),this.technique.bindPass(e,this.material.getPassParameters(),t)}}const F={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:t(e(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class P{constructor(e){this.screenSizeEnabled=e;const t=c().vec3f(S.POSITION).vec3f(S.NORMAL);this.screenSizeEnabled&&t.vec3f(S.OFFSET),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices[S.POSITION].length}write(e,t,r,i){if(d(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!(S.OFFSET in t.vertexAttr))throw new Error(`${S.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttr[S.OFFSET],n=t.indices[S.OFFSET];u(3===s.size);const o=r.getField(S.OFFSET,a);if(!o)throw new Error(\"unable to acquire view for \"+S.OFFSET);m(n,s.data,e.invTranspTransformation,o,i)}}}}const v=e(),C=e();export{q as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{c as t}from\"../../../../chunks/vec3f64.js\";import{s as r}from\"../../../../chunks/vec3.js\";import{g as i,c as s}from\"../../../../chunks/vec4.js\";import a from\"../../webgl-engine/lib/GeometryUtil.js\";import{ElevationContext as o}from\"../../layers/graphics/ElevationContext.js\";import l from\"../../webgl-engine/lib/Geometry.js\";import{geometryToRenderInfo as n}from\"../../layers/graphics/pointUtils.js\";import{Object3DVisualElement as u}from\"./Object3DVisualElement.js\";import{ShadedColorMaterialVertexAttrConstants as c}from\"../../webgl-engine/shaders/ShadedColorMaterialTechnique.js\";import{ShadedColorMaterial as h}from\"../../webgl-engine/materials/ShadedColorMaterial.js\";import{settings as d}from\"../editingTools/settings.js\";class m extends u{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=d.colorToVec4(d.reshapeManipulators.vertex.color),this._size=d.reshapeManipulators.vertex.size,this._outlineColor=d.colorToVec4(d.reshapeManipulators.vertex.outlineColor),this._outlineSize=d.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){i(e,this._color)||(s(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){i(e,this._outlineColor)||(s(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameterValues(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameterValues(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const t=this.vertices;if(e(t)||0===t.length)return[];const i=n(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,o.fromElevationInfo(this.elevationInfo)),s=[],a=i.numVertices,u=i.position;for(let e=0;e<a;++e){const t=r(p,u[3*e+0],u[3*e+1],u[3*e+2]),i=new l(v(.5,16,16,t),\"VerticesVisualElement-vertex\"),a=new l(v(.5,16,16,t),\"VerticesVisualElement-vertexOutline\");s.push({vertexGeometry:i,vertexOutlineGeometry:a})}return s}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new h({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0},\"manipulator\"),this.vertexOutlineMaterial=new h({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1},\"manipulator-outline\")}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalResource(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const p=t();function v(e,t,r,i){const s=a.createSphereGeometry(e,t,r,{attributes:{position:c.OFFSET,uv:null}});return s.indices[c.POSITION]=new Uint32Array(s.indexCount),s.vertexAttributes[c.POSITION]={size:3,data:Float64Array.from(i),offsetIdx:0,strideIdx:3},s}export{m as VerticesVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrapOr as t,isSome as i,isNone as r,unwrap as s}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import o from\"../../../../../core/Evented.js\";import l from\"../../../../../Graphic.js\";import c from\"../../../../../layers/GraphicsLayer.js\";import{getEffectiveElevationMode as h}from\"../../../../../support/elevationInfoUtils.js\";import{SceneDrawSurface as p}from\"./drawSurfaces.js\";import{DrawOperation as u}from\"./DrawOperation.js\";import{InteractiveToolBase as d}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as m}from\"../../../../interactive/snapping/SnappingOptions.js\";import{createViewAlignedCoordinateSystem as y,createSquare as v,createRectangle as g,createCircle as V,createEllipse as _,createPolygon as f,createPolyline as w}from\"../../../../draw/support/createUtils.js\";import{settings as E}from\"../settings.js\";import{OutlineVisualElement as O}from\"../../visualElements/OutlineVisualElement.js\";import{VerticesVisualElement as G}from\"../../visualElements/VerticesVisualElement.js\";let b=class extends(o.EventedMixin(d)){constructor(e){super(e),this.drawOperation=null,this._createGraphic=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._stagedVerticesVisualElement=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=!1,this.snappingOptions=new m,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}initialize(){const e=t(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this._internalGraphicsLayer=new c({elevationInfo:e}),this.view.map.layers.add(this._internalGraphicsLayer),this.drawOperation=new u({view:this.view,manipulators:this.manipulators,geometryType:C(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,snappingDrawSurface:new p(this.view,e,[this._internalGraphicsLayer]),hasM:!1,elevationInfo:e,snappingOptions:this.snappingOptions}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._destroyAllVisualisations(),this.view.map.remove(this._internalGraphicsLayer),this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}_getCreateGeometry(e,t=!1){if(null==this.drawOperation)return null;const r=i(e)?e:this.drawOperation.hasStagedVertex?this.drawOperation.numVertices-1:null,s=this.drawOperation.vertices;if(0===s.length)return null;const a=this.drawOperation.spatialReference,n=s,o=n.slice(),l=[];i(r)&&(o.splice(r,1),l.push(n[r]));const c={regularVertices:null,stagedVertices:null,full:null,outline:null},h=\"3d\"===this.view.type&&\"global\"===this.view.viewingMode;switch(this.geometryType){case\"point\":c.regularVertices=o,c.stagedVertices=l,c.full=this.drawOperation.coordinateHelper.createPointFromArray(s[0]);break;case\"polyline\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=w([n],a,h));break;case\"polygon\":c.regularVertices=o,c.stagedVertices=l,n.length>0&&(c.full=f([n],a,h,!0));break;case\"circle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=V([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?V(s,e,this.centered):_(s,e,this.centered))}break;case\"rectangle\":if(n.length>0){const e=y(this.view,s[0]);if(1===n.length&&t){const t=n[0],i=e.makeMapPoint(t[0]+S*this.view.resolution,t[1]);c.full=v([t,i],e,!0)}else 2===n.length&&(c.full=this.forceUniformSize?v(s,e,this.centered):g(s,e,this.centered))}break;default:return null}switch(this.geometryType){case\"point\":break;case\"polyline\":n.length>1&&(c.outline=w([n],a,h));break;case\"polygon\":n.length>1&&(c.outline=f([n],a,h));break;case\"circle\":case\"rectangle\":i(c.full)&&\"polygon\"===c.full.type&&(c.outline=f(c.full.rings,a,h))}return c}_destroyAllVisualisations(){this._destroyCreateGraphic(),this._destroyOutlineVisualElement(),this._destroyVerticesVisualElement(),this._destroyStagedVerticesVisualElement()}_destroyCreateGraphic(){i(this._createGraphic)&&(this._internalGraphicsLayer.remove(this._createGraphic),this._createGraphic.destroy(),this._createGraphic=null)}_destroyOutlineVisualElement(){i(this._outlineVisualElement)&&(this._outlineVisualElement.destroy(),this._outlineVisualElement=null)}_destroyVerticesVisualElement(){i(this._verticesVisualElement)&&(this._verticesVisualElement.destroy(),this._verticesVisualElement=null)}_destroyStagedVerticesVisualElement(){i(this._stagedVerticesVisualElement)&&(this._stagedVerticesVisualElement.destroy(),this._stagedVerticesVisualElement=null)}_updateCreateGraphic(e=null){const t=this._getCreateGeometry(e);if(r(t))return void this._destroyAllVisualisations();const a=this._internalGraphicsLayer.elevationInfo,n=\"on-the-ground\"===h(this.hasZ,a);i(t.outline)?r(this._outlineVisualElement)?(this._outlineVisualElement=new O({view:this.view,geometry:t.outline,elevationInfo:s(a),isDraped:n,attached:!1}),E.visualElements.lineGraphics.outline.apply(this._outlineVisualElement),E.visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0):this._outlineVisualElement.geometry=t.outline:this._destroyOutlineVisualElement(),i(t.regularVertices)?r(this._verticesVisualElement)?(this._verticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.regularVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0):this._verticesVisualElement.vertices=t.regularVertices:this._destroyVerticesVisualElement(),i(t.stagedVertices)?r(this._stagedVerticesVisualElement)?(this._stagedVerticesVisualElement=new G({view:this.view,spatialReference:this.view.spatialReference,vertices:t.stagedVertices,elevationInfo:s(this._internalGraphicsLayer.elevationInfo),renderOccluded:E.reshapeManipulators.vertex.renderOccluded,attached:!1}),this._stagedVerticesVisualElement.color=E.colorToVec4(E.reshapeManipulators.selected.color),this._stagedVerticesVisualElement.attached=!0):this._stagedVerticesVisualElement.vertices=t.stagedVertices:this._destroyStagedVerticesVisualElement(),i(t.full)?r(this._createGraphic)?(this._createGraphic=new l({geometry:t.full,symbol:this.createGraphicSymbol}),this._internalGraphicsLayer.add(this._createGraphic),this.view.maskOccludee(this._createGraphic),this.notifyChange(\"createGraphic\")):this._createGraphic.geometry=t.full:this._destroyCreateGraphic()}get createGraphic(){return this._createGraphic}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}set centered(e){this._set(\"centered\",e),this._updateCreateGraphic()}set forceUniformSize(e){this._set(\"forceUniformSize\",e),this._updateCreateGraphic()}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this._updateCreateGraphic(),this.emit(\"vertex-add\",e)}onVertexRemove(e){this._updateCreateGraphic(),this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this._updateCreateGraphic(),this.emit(\"vertex-update\",e)}onCursorUpdate(e){this._updateCreateGraphic(1===e.vertices.length?e.vertices[0].vertexIndex:null),this.emit(\"cursor-update\",e)}onComplete(e){this._updateCreateGraphic();let t=null;if(this.drawOperation.isCompleted){const e=this._getCreateGeometry(null,!0);i(e)&&(t=new l({geometry:e.full,symbol:this.createGraphicSymbol}))}this.emit(\"complete\",{graphic:t,...e})}};function C(e){switch(e){case\"point\":case\"polyline\":case\"polygon\":return e;case\"circle\":case\"rectangle\":return\"segment\";default:return null}}e([a({constructOnly:!0,nonNullable:!0})],b.prototype,\"view\",void 0),e([a()],b.prototype,\"createGraphicSymbol\",void 0),e([a()],b.prototype,\"createGraphic\",null),e([a({value:!0})],b.prototype,\"enabled\",null),e([a({value:!0})],b.prototype,\"centered\",null),e([a({value:!0})],b.prototype,\"forceUniformSize\",null),e([a({constructOnly:!0})],b.prototype,\"hasZ\",void 0),e([a({nonNullable:!0})],b.prototype,\"defaultZ\",void 0),e([a({constructOnly:!0})],b.prototype,\"elevationInfo\",void 0),e([a()],b.prototype,\"snapToScene\",void 0),e([a()],b.prototype,\"snappingOptions\",void 0),e([a({constructOnly:!0})],b.prototype,\"mode\",void 0),e([a({constructOnly:!0})],b.prototype,\"geometryType\",void 0),e([a({readOnly:!0})],b.prototype,\"type\",void 0),b=e([n(\"esri.views.3d.interactive.editingTools.draw3D.DrawTool\")],b);const S=48;export{b as DrawGraphicTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";import{isSome as t,isNone as i,unwrapOr as s,unwrap as o}from\"../../../core/maybe.js\";import{once as n}from\"../../../core/accessorSupport/utils.js\";import r from\"../../../geometry/Point.js\";import\"../../../geometry.js\";import a from\"../../../core/Evented.js\";import{deg2rad as c}from\"../../../core/mathUtils.js\";import{createScreenPointArray as l,createRenderScreenPointArray3 as h,screenPointObjectToArray as d,castRenderScreenPointArray as _}from\"../../../core/screenUtils.js\";import{c as u,Z as g}from\"../../../chunks/vec3f64.js\";import{b as m,t as f,i as p,a as b,g as v,h as y,s as j,f as L}from\"../../../chunks/vec3.js\";import{getReferenceEllipsoid as S}from\"../../../geometry/projectionEllipsoid.js\";import{c as R,d as w,m as O,i as T}from\"../../../chunks/mat4.js\";import{containsPointObject as E}from\"../../../geometry/support/aaBoundingRect.js\";import{canProjectWithoutEngine as A,projectPoint as D,sphericalECEFToSphericalPCPF as I,computeLatLonToENURotation as P}from\"../../../geometry/projection.js\";import{a as F}from\"../../../chunks/mat3f64.js\";import{a as z}from\"../../../chunks/mat4f64.js\";import{f as k}from\"../../../chunks/mat3.js\";import{j as C}from\"../../../chunks/vec2.js\";import{getElevationAtPoint as M}from\"../support/ElevationProvider.js\";import{sv3d as x}from\"../support/stack.js\";import{ray as B,plane as V,lineSegment as W}from\"../support/geometryUtils.js\";import H from\"../webgl-engine/lib/Object3D.js\";import U from\"../webgl-engine/lib/Camera.js\";import{clonePoint as G}from\"../../../layers/graphics/hydratedFeatures.js\";import N from\"../webgl-engine/lib/Layer.js\";class Z{constructor(e){this.camera=new U,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=z(),this._worldFrame=null,this._renderLocation=u(),this._renderLocationDirty=!0,this._location=new r({x:0,y:0,z:0}),this._elevationAlignedLocation=new r,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new a.EventEmitter,this._screenLocation={screenPointArray:l(),renderScreenPointArray:h(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayerId=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:n((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){q(e)&&(this._screenLocationDirty=!0),R(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=z()),function(e,t,i){switch(e.viewingMode){case\"local\":return T(i),!0;case\"global\":{const s=S(e.renderCoordsHelper.spatialReference);I(t,0,te,0,s.radius),P(c(te[1]),c(te[0]),i)}}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){G(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){G(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=t(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(q(this._modelTransform)){const t=this._calculateModelTransformOffset(re);e=m(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,s){if(!this.available)return null;const o=d(t,J),n=this._getCollisionRadius(s),r=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(C(this.screenLocation.screenPointArray,o)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),s=this._calculateObjectTransform(t,$),a=n*this.screenLocation.pixelSize,c=B.fromScreen(this.camera,o,Q);if(i(c))return null;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],s);for(let i=1;i<t.length;i++){const o=p(ie,t[i],s),n=W.closestRayDistance2(W.fromPoints(e,o,K),c);if(null!=n&&n<a*a){const t=m(x.get(),e,o);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:g,s=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(s,$),l=n*this.screenLocation.pixelSize,h=B.fromScreen(this.camera,o,Q);if(i(h))return null;const d=k(X,c),_=f(oe,e,d),u=p(ne,t,c);V.fromPositionAndNormal(u,_,ee);const m=se;if(V.intersectRay(ee,h,m)&&y(m,u)<l*l)return this.screenLocation.renderScreenPointArray[2]+r;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,s=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(s,$),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=B.fromScreen(this.camera,o,Q);if(i(l))return null;const h=k(X,a),d=f(oe,t,h),u=this._calculateModelTransformPosition(ne);V.fromPositionAndNormal(u,d,ee);const g=se;if(!V.intersectRay(ee,l,g))break;for(const t of e){if(0===t.length)continue;const e=p(te,t[0],a);for(let i=1;i<t.length;i++){const s=p(ie,t[i],a),o=W.distance2(W.fromPoints(e,s,K),g);if(null!=o&&o<c*c){const t=m(x.get(),e,s);b(t,t,.5);const i=_(x.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}v(e,s)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t=e.manipulator3D;if(this._engineLayerId=t.engineLayerId,i(this._engineLayerId)){const e=new N(\"manipulator-3d\",{isPickable:!1});this.view._stage.add(0,e),this.view._stage.addToViewContent([e.id]),this._engineLayerId=e.id,t.engineLayerId=e.id}t.engineLayerReferences=(t.engineLayerReferences||0)+1,this._materialIdReferences=t.materialIdReferences,i(this._materialIdReferences)&&(this._materialIdReferences=new Map,t.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),A(this._location.spatialReference,this.view.spatialReference)||(this.location=new r({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayerId=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){D(this.location,ae,e.spatialReference),E(e.extent,ae)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(i(this.elevationInfo))return!1;let t=null,o=0;const n=s(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=M(this.view.elevationProvider,e,\"ground\")||0;break;case\"relative-to-ground\":o=(M(this.view.elevationProvider,e,\"ground\")||0)+n;break;case\"relative-to-scene\":o=(M(this.view.elevationProvider,e,\"scene\")||0)+n;break;case\"absolute-height\":o=n}return(o!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=o,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=$;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:e,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const i=!(0!=(15&e))||(s&e)==(15&e),r=!(0!=(65520&e))||(this.state&e)==(65520&e);if(i&&r)for(const e of n)e.setVisible(!0),e.objectTransformation=t;else for(const e of n)e.setVisible(!1)}}_ensureEngineResources(){if(i(this._engineResources)){const e=this.view._stage.getContent(0,o(this._engineLayerId)),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},n=new Map;this.renderObjects.forEach((e=>{const t=new H({idHint:\"manipulator\",castShadow:!1});s(t,e);const i=e.stateMask||0,o=n.get(i)||[];o.push(t),n.set(i,o)}));const r=[];n.forEach(((e,t)=>{r.push({stateMask:t,objects:e})})),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:e,layer:t,materials:s}=this._engineResources;s.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(3,e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{e.forEach((e=>{t.addObject(e),this.view._stage.add(1,e)}))})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||i(this._engineResources))return;const{objectsByState:t,layer:s,materials:n}=this._engineResources;t.forEach((({objects:e})=>{e.forEach((e=>{s.removeObject(e),this.view._stage.remove(1,e.id)}))})),n.forEach((e=>{const t=o(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(3,e.id),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(0,s.id),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,Y);return j(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return L(e,t,this.renderLocation)}_calculateObjectTransform(e,i){return w(i,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&O(i,i,this._worldFrame),O(i,i,this._modelTransform),i[12]+=this.renderLocation[0],i[13]+=this.renderLocation[1],i[14]+=this.renderLocation[2],i[15]=1,t(this._applyObjectTransform)&&this._applyObjectTransform(i),i}get test(){let e=!1;if(t(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function q(e){return 0!==e[12]||0!==e[13]||0!==e[14]}const J=l(),K=W.create(),Q=B.create(),X=F(),Y=z(),$=z(),ee=V.create(),te=u(),ie=u(),se=u(),oe=u(),ne=u(),re=u(),ae=new r({x:0,y:0,z:0,spatialReference:null});export{Z as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{f as r,c as n,i as o,n as i}from\"../../../chunks/vec3.js\";import{a}from\"../../../chunks/mat4.js\";import{b as c}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as m}from\"../support/stack.js\";import l from\"../webgl-engine/lib/GeometryUtil.js\";import{hydrateGeometry as u}from\"../../../layers/graphics/hydratedFeatures.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/Geometry.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{Manipulator3D as h}from\"./Manipulator3D.js\";import{ShadedColorMaterial as j}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4){const r=c(e[0],e[1],e[2],e.length>3?e[3]:1),n=e[3]<1;return new j({color:r,transparent:n,writeDepth:!0,cullFace:2,renderOccluded:t},\"manipulator\")}function w(e,t=4){const r=c(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t},\"manipulator-outline\")}function b(e,t,r){return new h({view:e,renderObjects:[{geometry:new g(l.createSphereGeometry(1,32,32),\"manipulator\"),material:d(c(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,i,c){const l=r(s.get(),e,i),u=O(l,n(s.get(),c,l),i,m.get());a(u,u);const p=o(s.get(),t,u);return Math.atan2(p[1],p[0])}function O(e,t,r,o){const a=i(s.get(),e),c=i(s.get(),t),m=n(s.get(),a,c);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=c[0],o[5]=c[1],o[6]=c[2],o[7]=0,o[8]=m[0],o[9]=m[1],o[10]=m[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function k(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(r,n,o){const i=k(r,o);e(i)?n.elevationAlignedLocation=i:function(e,r){if(t(r))return;const n=p(r);if(t(n))return;e.location=u(n)}(n,o.geometry)}export{y as calculateInputRotationTransform,O as calculateTranslateRotateFromBases,d as createManipulatorMaterial,w as createManipulatorOutlineMaterial,b as createSphereManipulator,k as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as o}from\"../../../../core/maybe.js\";import{getGraphicEffectiveElevationInfo as r}from\"../../../../support/elevationInfoUtils.js\";function t(o,t=r(o)){return\"on-the-ground\"!==t.mode&&!(e(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on(\"grab-changed\",(n=>{o(t)&&(t.remove(),t=null),\"start\"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){o(t)&&t.remove(),n.remove()}}}export{t as canMoveZ,n as disableDisplayOnGrab};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../core/urlUtils.js\";import\"../../../../core/uuid.js\";import\"../../../../portal/support/resourceExtension.js\";import t from\"../../../../core/Evented.js\";let e=class extends t.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};r([o({constructOnly:!0})],e.prototype,\"graphic\",void 0),r([o()],e.prototype,\"tracking\",void 0),r([o()],e.prototype,\"displaying\",void 0),r([o()],e.prototype,\"isDraped\",void 0),e=r([s(\"esri.views.3d.layers.graphics.GraphicState\")],e);export{e as GraphicState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../core/maybe.js\";import{Manipulator3D as i}from\"../Manipulator3D.js\";class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof i&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),t(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}export{e as ManipulatorState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as a,refHandle as n}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as l}from\"../../../../chunks/vec3f64.js\";import{s,b as o,a as r}from\"../../../../chunks/vec3.js\";import{getGraphicEffectiveElevationInfo as c}from\"../../../../support/elevationInfoUtils.js\";import{LaserlineVisualElement as p}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as m}from\"../visualElements/ExtendedLineVisualElement.js\";import{Manipulator3D as h}from\"../Manipulator3D.js\";import{settings as u}from\"./settings.js\";import{OutlineVisualElement as d}from\"../visualElements/OutlineVisualElement.js\";import{ManipulatorState as g}from\"./ManipulatorState.js\";import{GraphicState as f}from\"../../layers/graphics/GraphicState.js\";function v(l){const{view:d,graphic:v}=l,b=new f({graphic:v}),S=y(l,b),j=[S,function(l,d,f){const{graphic:v,view:y}=l,b=[],S=c(v),j=\"on-the-ground\"===S.mode||!S.offset&&\"absolute-height\"!==S.mode,M=new g,G=new m({view:y,extensionType:u.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});u.visualElements.pointGraphics.shadowStyle.apply(G);const L=i(u.visualElements.heightPlaneAngleCutoff),D=new p({view:y,attached:!1,angleCutoff:L});u.visualElements.heightPlane.apply(D);let C=1,V=1;const k=()=>{if(M.update(l),!f.displaying||j&&(f.isDraped||!E(v)||!v.geometry.hasZ))return d.laserlineEnabled=!1,G.attached=!1,void(D.attached=!1);d.laserlineEnabled=!0;{const e=4&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==C&&(C=e,u.visualElements.lineGraphics.shadowStyle.apply(d,e),u.visualElements.pointGraphics.shadowStyle.apply(G,e))}{const e=2&M.grabbingState?u.visualElements.laserlineAlphaMultiplier:1;e!==V&&(V=e,u.visualElements.heightPlane.apply(D,e))}!function(t,a){const n=1===a.numSelected?a.firstSelected:a.numSelected>1&&e(a.firstGrabbedXY)?a.firstGrabbedXY:null;e(n)?(t.setStartEndFromWorldDownAtLocation(n.renderLocation),t.attached=!0):t.attached=!1}(G,M),function(t,a,n,i){if(i.numSelected>0){s(w,0,0,0);let e=0;t.forEachManipulator(((t,a)=>{1===a&&t.selected&&t instanceof h&&(o(w,w,t.renderLocation),e++)})),e>0?(n.heightManifoldTarget=r(w,w,1/e),n.attached=!0):n.attached=!1}else{const i=a.attachmentOrigin;e(i)&&t.view.renderCoordsHelper.toRenderCoords(i,w)?(n.heightManifoldTarget=w,n.attached=!0):n.attached=!1}}(l,d,D,M)};u.visualElements.zVerticalLine.apply(G),b.push(f.on(\"changed\",k),f.watch(\"displaying\",k),d.events.on(\"attachment-origin-changed\",k),a(G),a(D));const x=[],A=()=>{t(x).remove(),x.length=0,l.forEachManipulator((e=>x.push(e.events.on(\"grab-changed\",k)))),l.forEachManipulator((e=>x.push(e.events.on(\"select-changed\",k)))),k()};return A(),b.push(l.onManipulatorsChanged(A),n((()=>t(x)))),t(b)}(l,S.visualElement,b),d.maskOccludee(v),d.trackGraphicState(b)];return{visualElement:S.visualElement,remove:()=>t(j).remove()}}function y(e,n){const{view:i,graphic:l}=e,s=new d({view:i,geometry:E(l)?l.geometry:null,elevationInfo:c(l),attached:!1});u.visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};u.visualElements.lineGraphics.outline.apply(s);const r=[n.watch(\"displaying\",o),n.watch(\"isDraped\",(e=>s.isDraped=e)),n.on(\"changed\",(()=>s.geometry=E(l)?l.geometry:null)),a(s)];return o(),{visualElement:s,remove:()=>t(r).remove()}}function E(t){return e(t.geometry)&&(\"polygon\"===t.geometry.type||\"polyline\"===t.geometry.type)}const w=l();export{y as createGeometryRepresentationVisualElement,v as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{handlesGroup as t,destroyHandle as n,refHandle as o}from\"../../../../core/handleUtils.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../chunks/vec3.js\";import{init as s}from\"../../../../core/watchUtils.js\";import{containsXY as l}from\"../../../../geometry/support/aaBoundingRect.js\";import{projectVectorToVector as p,projectPointToVector as c}from\"../../../../geometry/projection.js\";import{create as m,empty as h,getMin as u}from\"../../../../geometry/support/aaBoundingBox.js\";import{getGraphicEffectiveElevationInfo as g}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationAlignmentAtPoint as d}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as f}from\"../../layers/graphics/ElevationContext.js\";import{LaserlineVisualElement as v}from\"../visualElements/LaserlineVisualElement.js\";import{ExtendedLineVisualElement as y}from\"../visualElements/ExtendedLineVisualElement.js\";import{PointVisualElement as E}from\"../visualElements/PointVisualElement.js\";import{settings as w}from\"./settings.js\";import{ManipulatorState as j}from\"./ManipulatorState.js\";import{GraphicState as b}from\"../../layers/graphics/GraphicState.js\";function x(r){const{view:m,graphic:x}=r,A=new b({graphic:x}),C=[],M=function(t,i,r){const{view:a,graphic:p}=t,m=new E({view:a,geometry:S(p)?p.geometry:null,elevationInfo:g(p),attached:!1});return function(t,n,i,r){const a=()=>n.attached=i.displaying;(function(t,n,i,r){const{view:a,graphic:s}=t;let p=null;const m=()=>{e(p)&&(p.remove(),p=null),i.isDraped&&S(s)&&(p=function(e,t,n){const o=e.elevationProvider.spatialReference;c(t,L,o);const i=L[0],r=L[1];return e.elevationProvider.on(\"elevation-change\",(e=>{l(e.extent,i,r)&&n()}))}(a,s.geometry,(()=>{n.geometry=s.geometry})))},h=()=>{m(),n.geometry=S(s)?s.geometry:null};r.push(i.on(\"changed\",h),o((()=>p))),h()})(t,n,i,r),w.visualElements.pointGraphics.outline.apply(n),r.push(s(i,\"displaying\",a))}(t,m,i,r),r.push(n(m)),m}(r,A,C);return function(e,t,o,r){const{view:s,graphic:l}=e,c=new y({view:s,extensionType:w.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});w.visualElements.zVerticalLine.apply(c);const m=new v({view:s,intersectsLineInfinite:!0,attached:!1});w.visualElements.pointGraphics.shadowStyle.apply(m);const E=i(w.visualElements.heightPlaneAngleCutoff),b=new v({view:s,attached:!1,angleCutoff:E});w.visualElements.heightPlane.apply(b);const x=g(e.graphic),A=f.fromElevationInfo(x),C=\"on-the-ground\"===x.mode||!x.offset&&\"absolute-height\"!==x.mode,M=new j;let R=1,U=1;const D=()=>{M.update(e);const n=C&&(t.isDraped||!S(l)||!l.geometry.hasZ);let o=!0;if(!n&&S(l)){const e=l.geometry,t=d(l.geometry,s.elevationProvider,A,s.renderCoordsHelper);a(L,e.x,e.y,t),p(L,e.spatialReference,L,s.renderCoordsHelper.spatialReference),c.setStartEndFromWorldDownAtLocation(L),m.intersectsWorldUpAtLocation=L}else o=!1;{const e=2&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==R&&(R=e,w.visualElements.heightPlane.apply(b,e))}{const e=h(P);!n&&t.displaying&&r.calculateMapBounds(e)&&p(u(e,L),s.spatialReference,L,s.renderCoordsHelper.spatialReference)?(b.heightManifoldTarget=L,b.attached=!0):b.attached=!1}{const e=4&M.grabbingState?w.visualElements.laserlineAlphaMultiplier:1;e!==U&&(U=e,w.visualElements.pointGraphics.shadowStyle.apply(m,e))}const i=o&&t.displaying&&!n;m.attached=i,c.attached=i};o.push(t.watch([\"displaying\",\"isDraped\"],D),t.on(\"changed\",D)),e.forEachManipulator((e=>{o.push(e.events.on(\"grab-changed\",D))})),o.push(n(m)),o.push(n(c)),o.push(n(b)),D()}(r,A,C,M),C.push(m.trackGraphicState(A)),{visualElement:M,remove(){t(C).remove()}}}function S(t){return e(t.geometry)&&\"point\"===t.geometry.type}const L=r(),P=m();export{x as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as e}from\"../../../../core/maybe.js\";import{createVisualElements as t}from\"./lineGraphicVisualElementUtils.js\";import{createVisualElements as r}from\"./pointGraphicVisualElementUtils.js\";function i(i){switch(e(i.graphic.geometry).type){case\"point\":return r(i);case\"polygon\":case\"polyline\":return t(i);default:return null}}export{i as createVisualElements};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(70/3*2),P=160,i=.5,l=24,n=9,p=190,r=213,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;export{w as ALIGN_ARROWS_SCALE_THRESHOLD,h as DISC_COLLISION_RADIUS,M as DISC_HEIGHT,e as DISC_RADIUS,I as DISC_RADIUS_SMALL,o as DISC_TRANSLATE_ARROW_OFFSET,c as DISC_TRANSLATE_ARROW_SIZE,f as DRAG_THRESHOLD_PX,a as GEOMETRY_SEGMENTS,t as HANDLE_COLOR,n as INDICATOR_THICKNESS,p as INNER_INDICATOR_RADIUS,r as OUTER_INDICATOR_RADIUS,i as RING_HEIGHT,u as RING_INDICATOR_DELAY_MS,P as RING_RADIUS,v as RING_RESET_ANIMATION_SPEED_FACTOR,l as RING_THICKNESS,b as ROTATE_INDICATOR_ARC_LENGTH,g as ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE,s as ROTATE_INDICATOR_ARROW_TIP_LENGTH,x as ROTATE_INDICATOR_ARROW_TIP_RADIUS,q as ROTATE_INDICATOR_DIRECTION_BUFFER,d as SCALE_INDICATOR_ARC_LENGTH,m as SCALE_INDICATOR_DIRECTION_BUFFER,j as SCALE_INDICATOR_OFFSET1,k as SCALE_INDICATOR_OFFSET2};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{E as t}from\"./common.js\";function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function s(t,n,a,s,r){return t[0]=n,t[1]=a,t[2]=s,t[3]=r,t}function r(t,n){if(t===n){const a=n[1];t[1]=n[2],t[2]=a}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function u(t,n){const a=n[0],s=n[1],r=n[2],u=n[3];let o=a*u-r*s;return o?(o=1/o,t[0]=u*o,t[1]=-s*o,t[2]=-r*o,t[3]=a*o,t):null}function o(t,n){const a=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=a,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function e(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return t[0]=s*c+u*e,t[1]=r*c+o*e,t[2]=s*i+u*f,t[3]=r*i+o*f,t}function i(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=Math.sin(a),e=Math.cos(a);return t[0]=s*e+u*c,t[1]=r*e+o*c,t[2]=s*-c+u*e,t[3]=r*-c+o*e,t}function f(t,n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1];return t[0]=s*c,t[1]=r*c,t[2]=u*e,t[3]=o*e,t}function h(t,n){const a=Math.sin(n),s=Math.cos(n);return t[0]=s,t[1]=a,t[2]=-a,t[3]=s,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function l(t){return\"mat2(\"+t[0]+\", \"+t[1]+\", \"+t[2]+\", \"+t[3]+\")\"}function b(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function m(t,n,a,s){return t[2]=s[2]/s[0],a[0]=s[0],a[1]=s[1],a[3]=s[3]-t[2]*a[1],[t,n,a]}function p(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function x(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function w(n,a){const s=n[0],r=n[1],u=n[2],o=n[3],c=a[0],e=a[1],i=a[2],f=a[3];return Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-i)<=t*Math.max(1,Math.abs(u),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))}function y(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function j(t,n,a,s){return t[0]=n[0]+a[0]*s,t[1]=n[1]+a[1]*s,t[2]=n[2]+a[2]*s,t[3]=n[3]+a[3]*s,t}let q=e,_=d;var v=Object.freeze({__proto__:null,copy:n,identity:a,set:s,transpose:r,invert:u,adjoint:o,determinant:c,multiply:e,rotate:i,scale:f,fromRotation:h,fromScaling:M,str:l,frob:b,LDU:m,add:p,subtract:d,exactEquals:x,equals:w,multiplyScalar:y,multiplyScalarAndAdd:j,mul:q,sub:_});export{m as L,u as a,o as b,n as c,c as d,e,h as f,f as g,M as h,a as i,l as j,b as k,p as l,v as m,d as n,x as o,w as p,y as q,i as r,s,r as t,j as u,q as v,_ as w};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,r,n,t){return[e,r,n,t]}function t(e,r){return new Float64Array(e,r,4)}var a=Object.freeze({__proto__:null,create:e,clone:r,fromValues:n,createView:t});export{r as a,t as b,e as c,n as f,a as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../../../core/maybe.js\";import{cyclical2PI as n}from\"../../../support/mathUtils.js\";import{empty as e,expandPointInPlace as r,area as o,create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{a}from\"../../../../../chunks/vec2f64.js\";import{o as c}from\"../../../../../chunks/vec2.js\";import{convexHull as i}from\"../../../../../geometry/geometryEngine.js\";import{f as m}from\"../../../../../chunks/mat2.js\";import{c as f}from\"../../../../../chunks/mat2f64.js\";import{dragGraphic as p,resetGraphic as l}from\"../../../../interactive/dragEventPipeline.js\";function u(t,n,e){const r=t.graphic,o=(t,e)=>n({action:t,graphic:r,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return e(((t,n,e)=>{n.next((t=>(\"start\"===t.action&&o(\"start\",t),t))).next(p(r)).next((t=>{switch(t.action){case\"start\":case\"update\":(t.translationX||t.translationY||t.translationZ)&&o(\"update\",t);break;case\"end\":o(\"end\",t)}return t})),e.next(l(r)).next((()=>{o(\"end\",{screenDeltaX:0,screenDeltaY:0})}))}))}function h(s){if(t(s)||\"polyline\"!==s.type&&\"polygon\"!==s.type)return 0;const a=i(s),f=a&&a.rings&&a.rings[0];if(!f)return 0;!function(t){let n=0,e=0;for(const r of t)n+=r[0],e+=r[1];n/=t.length,e/=t.length;for(const r of t)r[0]-=n,r[1]-=e}(f);const p=[];for(let t=0;t<f.length-1;t++){const e=Math.atan2(f[t+1][1]-f[t][1],f[t+1][0]-f[t][0]),r=n.normalize(e)%(Math.PI/2);p.push(r)}const l=p.sort(((t,n)=>t-n));let u=null,h=0,y=Number.POSITIVE_INFINITY,x=0;for(const t of l){if(t===u)continue;u=t,m(g,t),e(d);for(const t of f)c(j,t,g),r(d,j);const n=o(d);((n>y?y/n:n/y)>=.99&&t<h||n<y)&&(h=t,y=n),x=Math.max(x,n)}return y/x>=.95?0:h}const g=f(),d=s(),j=a();export{u as createGraphicMoveDragPipeline,h as primaryShapeOrientation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{Manipulator3D as a}from\"../../Manipulator3D.js\";class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof a&&t(i,o)}))}}export{t as Manipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{b as s,i as e}from\"../../../../chunks/vec3.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{ray as a}from\"../../support/geometryUtils.js\";import{isInstanceHidden as o}from\"../materials/renderers/utils.js\";import{IntersectorOptions as n,IntersectorResults as h,IntersectorTransform as d,getVerticalOffsetObject3D as c,IntersectorResult as l}from\"./intersectorUtils.js\";class f{constructor(t){this.options=new n,this.results=new h,this.transform=new d,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=1e-5,this.verticalOffset=null,this._ray={origin:r(),direction:r()},this._rayEndPoint=r(),this._rayStartPointTransformed=r(),this._rayEndPointTransformed=r(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a.fromPoints(t,r,this._ray))}resetWithRay(t){t!==this._ray&&a.copy(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r,s,e,i,a,o){this.point=s,this.camera=e,this.filterPredicate=a,this.tolerance=null==i?1e-5:i;const n=c(this.verticalOffset),h=o?t=>{o(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};if(r&&r.length>0)for(const s of r){const r=s.getSpatialQueryAccelerator&&s.getSpatialQueryAccelerator();if(r)t(n)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,h,n):r.forEachAlongRay(this._ray.origin,this._ray.direction,h),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(h);else{const t=s.getObjects();for(const r of t)h(r)}}this.sortResults()}intersectObject(r){this._numObjectsTested++;const s=r.geometryRecords;if(!s)return;const a=r.id,n=r.objectTransformation;let h;const d=c(this.verticalOffset);for(const c of s){const{geometry:s,material:f,instanceParameters:m}=c;if(o(m))continue;h=s.id,this.transform.setAndInvalidateLazyTransforms(n,c.getShaderTransformation()),e(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),e(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(d)&&(d.objectTransform=this.transform),f.intersect(s,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((s,e,o,n,d,c)=>{if(s>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,s))return;if(d)return void((null==this.results.hud.dist||s<this.results.hud.dist)&&this.results.hud.set(r,a,s,e,i,n,c,h,o));const f=t=>t.set(r,a,s,e,u,n,null,h,o);if((null==this.results.min.drapedLayerOrder||n>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||s<this.results.min.dist)&&f(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||n<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||s>this.results.max.dist)&&f(this.results.max),2===this.options.store){const t=new l(this._ray);f(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}f.DEFAULT_TOLERANCE=1e-5;export{f as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as n}from\"../../../../core/maybe.js\";import t from\"../../../../geometry/Point.js\";import\"../../../../geometry.js\";import{sign as o}from\"../../../../core/mathUtils.js\";import{screenPointObjectToArray as s,castScreenPointArray as c,createScreenPointArray as l}from\"../../../../core/screenUtils.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{g as a,l as u,f as m,d,a as p,b as f,c as S}from\"../../../../chunks/vec3.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{getZForElevationMode as y,getGraphicEffectiveElevationInfo as j}from\"../../../../support/elevationInfoUtils.js\";import{sv2d as E}from\"../../support/stack.js\";import{ray as x,plane as w,vector as b}from\"../../support/geometryUtils.js\";import{TERRAIN_ID as v}from\"../../webgl-engine/lib/intersectorUtils.js\";import{Intersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{EventPipeline as P}from\"../../../interactive/dragEventPipeline.js\";function R(n,t){const o=i(),l=i();let a=!1;return i=>{if(\"start\"===i.action){const r=s(i.screenStart,c(E.get())),l=x.fromScreen(n.state.camera,r,G);e(l)&&(a=w.intersectRay(t,l,o))}if(!a)return null;const u=s(i.screenEnd,c(E.get())),m=x.fromScreen(n.state.camera,u,G);return r(m)?null:w.intersectRay(t,m,l)?{...i,renderStart:o,renderEnd:l,plane:t,ray:m}:null}}function C(n,t,o,s=null){let c=null;return i=>{if(\"start\"===i.action&&(c=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenStart.x,i.screenStart.y),t,o),e(c)&&e(s)&&!g(c,c,s)))return null;if(r(c))return null;const a=n.sceneIntersectionHelper.intersectElevationFromScreen(l(i.screenEnd.x,i.screenEnd.y),t,o);return e(a)?e(s)&&!g(a,a,s)?null:{...i,mapStart:c,mapEnd:a}:null}}function H(e,r,n,t=null){return C(e,n,y(r,e,n),t)}function U(e,r,n,t=null){return H(e,n,j(r),t)}function k(r,n,t,o){const s=n.toMap(r.screenStart,{include:[t]});return e(s)?U(n,t,s,o):null}function h(e,r,n){let t=null;const o=new P;return o.next(R(e,function(e,r){const n=D,t=q,o=w.create();e.renderCoordsHelper.worldUpAtPosition(r,n);const s=S(o,n,m(t,r,e.state.camera.eye));return S(s,s,n),w.fromPositionAndNormal(r,s,o)}(e,r))).next(T(e,r)).next(A(e,n)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function T(e,r){const n=i(),t=u(r);e.renderCoordsHelper.worldUpAtPosition(r,n);const s=i(),c=i(),l=s=>{if(m(s,s,r),b.projectPoint(n,s,s),\"global\"===e.viewingMode){u(s)*o(d(n,s))<.001-t&&m(s,p(s,n,.001),r)}return f(s,s,r),s};return e=>(e.renderStart=l(a(s,e.renderStart)),e.renderEnd=l(a(c,e.renderEnd)),e)}function A(r,n){const o=r.renderCoordsHelper;return r=>{const s=o.fromRenderCoords(r.renderStart,new t,n),c=o.fromRenderCoords(r.renderEnd,new t,n);return e(s)&&e(c)?{...r,mapStart:s,mapEnd:c}:null}}function F(r){let n=null;return t=>{switch(t.action){case\"start\":n=r.disableDisplay();break;case\"end\":case\"cancel\":e(n)&&(n.remove(),n=null)}return t}}function M(o,c=null){let a=null;const u=new I(o.state.mode);u.options.selectionMode=!0,u.options.store=0;const m=l(),d={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},p=i(),f=n(c,o.spatialReference),S=e=>{o.map.ground&&o.map.ground.opacity<1?d.exclude.add(v):d.exclude.delete(v),o.sceneIntersectionHelper.intersectIntersectorScreen(s(e,m),u,d);const r=u.results.min;let n;if(r.getIntersectionPoint(p))n=\"TerrainRenderer\"===r.intersector?0:1;else{if(!u.results.ground.getIntersectionPoint(p))return null;n=0}const c=new t({spatialReference:f});return o.renderCoordsHelper.fromRenderCoords(p,c),{location:c,surfaceType:n}};return n=>{if(\"start\"===n.action){const r=S(n.screenStart);a=e(r)?r.location:null}if(r(a))return null;const t=S(n.screenEnd);return e(t)?{...n,mapStart:a,mapEnd:t.location,surfaceType:t.surfaceType}:null}}const D=i(),q=i(),G=x.create();export{A as convertToMapCoordinates,F as hideManipulatorWhileDragging,T as projectToWorldUp,M as screenToMap3D,C as screenToMapXY,H as screenToMapXYAtLocation,k as screenToMapXYForGraphic,U as screenToMapXYForGraphicAtLocation,R as screenToRenderPlane,h as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import{handlesGroup as a}from\"../../../../../core/handleUtils.js\";import r from\"../../../../../core/Evented.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as o}from\"../../../../../chunks/vec3.js\";import s from\"../../../../../core/Handles.js\";import{w as n,i as l,x as p,m as u,r as h,p as m}from\"../../../../../chunks/mat4.js\";import{a as c}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as d}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as f,sm4d as _}from\"../../../support/stack.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as w}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as v,dragAtLocation as j,constrainToMapAxis as y,addScreenDelta as A}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as I}from\"../dragEventPipeline3D.js\";import{Manipulator3D as b}from\"../../Manipulator3D.js\";import{colors as x}from\"../settings.js\";import{DISC_RADIUS as T,DISC_HEIGHT as D,DISC_TRANSLATE_ARROW_OFFSET as P,DISC_TRANSLATE_ARROW_SIZE as k}from\"./config.js\";import{Manipulation as E}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as S}from\"./moveUtils.js\";class U extends E{constructor(t){super(),this._handles=new s,this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=T,this._updateAfterDrag=!1,this.events=new r,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles.removeAll(),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){this._arrowManipulatorInfos.map((({manipulator:a})=>t(a,1)))}createGraphicDragPipeline(a,r){const e=a.graphic,i=d(e),o=t(e.geometry).spatialReference;return S(a,r,(t=>this.createDragPipeline(t,i,o)))}createDragPipeline(t,r,e){return a(this._arrowManipulatorInfos.map((({manipulator:a},i)=>v(a,((a,o,s,n,l)=>{const p=o.next((t=>({...t,manipulatorType:1}))).next(j(this._view,a.elevationAlignedLocation)).next(I(this._view,a.elevationAlignedLocation,r,e)).next(y(a.location,this.angle+(i+1)*Math.PI*.5)).next(A());t(a,p,s,n,l)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/T,i=k*e,s=Math.sqrt(i*i*3/4),h=g.createExtrudedTriangle(s,i/2,i/2,D);g.transformInPlace(h,n(_.get(),o(f.get(),0,-s/3,0)));const m=new M(h,\"move-xy-axis-arrow\");t.renderObjects=[{geometry:m,material:this._opaqueMaterial,stateMask:2},{geometry:m,material:this._transparentMaterial,stateMask:1}],t.radius=s/3*2*1.2;const c=l(_.get());p(c,r*Math.PI/2);const d=l(_.get());n(d,o(f.get(),0,P*e,0)),u(a,c,d)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=l(_.get());h(a,a,t,i(0,0,1));const r=m(_.get(),o(f.get(),this.displayScale,this.displayScale,this.displayScale)),e=l(_.get());u(e,r,a);for(const t of this._arrowManipulatorInfos){const a=u(_.get(),e,t.transform);t.manipulator.modelTransform=a}}_createArrowManipulator(t){const a=new b({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)}}),r={manipulator:a,transform:c()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on(\"drag\",(t=>{this._updateAfterDrag&&\"end\"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(t=1){const a=e.toUnitRGBA(x.main);return a[3]*=t,new w({color:a,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}export{U as MoveXYAxisManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import{getZForElevationMode as e}from\"../../../../../support/elevationInfoUtils.js\";import{EventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new n,this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&t(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(t(a)){const t={action:\"update\",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=t(this.view)?this.view.toMap(n,{exclude:[]}):null;return t(a)&&t(this.view)&&(a.z=e(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent=\"end\"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return t(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}export{a as SnapToScene};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../Color.js\";import{f as i}from\"../../../../../chunks/vec3f64.js\";import{s as a}from\"../../../../../chunks/vec3.js\";import r from\"../../../../../core/Handles.js\";import{p as s}from\"../../../../../chunks/mat4.js\";import{a as o}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as n}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as l,sm4d as p}from\"../../../support/stack.js\";import c from\"../../../webgl-engine/lib/GeometryUtil.js\";import m from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as u}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as h,dragAtLocation as d,addScreenDelta as _}from\"../../../../interactive/dragEventPipeline.js\";import{screenToMapXYAtLocation as f}from\"../dragEventPipeline3D.js\";import{Manipulator3D as g}from\"../../Manipulator3D.js\";import{colors as M}from\"../settings.js\";import{DISC_RADIUS as j,DISC_HEIGHT as y,GEOMETRY_SEGMENTS as S,DISC_COLLISION_RADIUS as v}from\"./config.js\";import{Manipulation as T}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as w}from\"./moveUtils.js\";import{SnapToScene as b}from\"../snapping/SnapToScene.js\";class x extends T{constructor(t){super(),this._handles=new r,this._snapToScene=new b,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=j,this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(e,i){const a=e.graphic,r=n(a),s=t(a.geometry).spatialReference;return w(e,i,(t=>this.createDragPipeline(t,r,s)))}createDragPipeline(t,e,i){const a=this._view;return h(this._manipulator,((r,s,o,n,l)=>{const p=s.next(d(a,r.elevationAlignedLocation)).next(f(a,r.elevationAlignedLocation,e,i)).next(this._snapToScene.createDragEventPipelineStep(a,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(_());t(r,p,o,n,l)}))}_updateManipulatorTransform(){const t=s(p.get(),a(l.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new g({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:\"disc\",direction:i(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=new m(c.createCylinderGeometry(y,1,S,i(0,0,1),i(0,0,0)),\"graphic-transform-disc\"),e=s(o(),i(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=v*(this._radius/j)}_createMaterial(t=1){const i=e.toUnitRGBA(M.main);return i[3]*=t,new u({color:i,transparent:1!==t,cullFace:2,renderOccluded:2},\"move-xy-disc\")}get test(){return{discManipulator:this._manipulator}}}export{x as MoveXYDiscManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrap as t}from\"../../../../../core/maybe.js\";import e from\"../../../../../core/Evented.js\";import{clamp as r}from\"../../../../../core/mathUtils.js\";import{c as a,f as i}from\"../../../../../chunks/vec3f64.js\";import{w as o,f as s,n,d as l,c as m,a as p}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{t as u,e as h,s as d}from\"../../../../../chunks/mat4.js\";import{darken as f}from\"../../../../../core/colorUtils.js\";import{a as M}from\"../../../../../chunks/mat4f64.js\";import g from\"../../../webgl-engine/lib/GeometryUtil.js\";import _ from\"../../../webgl-engine/lib/Geometry.js\";import{createManipulatorDragEventPipeline as y,addScreenDelta as j}from\"../../../../interactive/dragEventPipeline.js\";import{screenToZConstrained as v}from\"../dragEventPipeline3D.js\";import{Manipulator3D as w}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as z}from\"../../manipulatorUtils.js\";import{settings as b}from\"../settings.js\";import{DISC_RADIUS as k}from\"./config.js\";import{Manipulation as P}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as x}from\"./moveUtils.js\";class D extends P{constructor(t){super(),this._handles=new c,this._radius=k,this.events=new e,this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(e,r){const a=t(e.graphic.geometry).spatialReference;return x(e,r,(t=>this.createDragPipeline(t,a)))}createDragPipeline(t,e){const r=this._view;return y(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(v(r,a.renderLocation,e)).next(j());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const t=this._radius/k,e=b.zManipulator.height*t,r=b.zManipulator.coneHeight*t,a=b.zManipulator.coneWidth*t,o=b.zManipulator.width*t,s=[i(0,0,0),i(0,0,e)],n=new _(g.createTubeGeometry(s,o/2,16,!1),\"move-z\"),l=g.createConeGeometry(r,a/2,16,!1),m=new _(l),p=[i(0,0,0),i(0,0,e+r)],c=(t=>{const r=M();if(u(r,r,[0,0,e]),h(r,r,Math.PI/2),t){const e=1+2*t/a;d(r,r,[e,e,e])}return r})(0),y=(t,e)=>{const r=f(b.zManipulator.color,e);return[r.r/255,r.g/255,r.b/255,b.zManipulator.color.a*t]},j=z(y(1,.25),1),v=z(y(1,0),1),w=z(y(.7,0),b.zManipulator.renderOccluded),P=z(y(.85,0),b.zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:m,transform:c,material:j,stateMask:1},{geometry:n,material:j,stateMask:1},{geometry:m,transform:c,material:v,stateMask:2},{geometry:n,material:v,stateMask:2},{geometry:m,transform:c,material:w,stateMask:1},{geometry:n,material:w,stateMask:1},{geometry:m,transform:c,material:P,stateMask:2},{geometry:n,material:P,stateMask:2}],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:\"line\",paths:[p]}}createManipulator(){const t=new w({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:\"ns-resize\",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,a=E;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const i=o(e.eye,a),c=e.computeRenderPixelSizeAtDist(i),u=s(O,a,e.eye);n(u,u);const h=U;this._view.renderCoordsHelper.worldUpAtPosition(E,h);const d=Math.abs(l(u,h)),f=m(O,u,h),M=m(O,f,h),g=r(d,.01,1),_=1-Math.sqrt(1-g*g)/g/e.fullWidth,y=this._radius/k,j=b.zManipulator.width*y;p(M,n(M,M),(1/_-1)*i+c*j),t[12]-=O[0],t[13]-=O[1],t[14]-=O[2]},this._manipulator=t,this.updateManipulator()}}const E=a(),O=a(),U=a();export{D as MoveZManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport i from\"../../../../../core/has.js\";import{isSome as a}from\"../../../../../core/maybe.js\";import{handlesGroup as t}from\"../../../../../core/handleUtils.js\";import e from\"../../../../../core/Handles.js\";import{DISC_RADIUS_SMALL as n,DISC_RADIUS as s}from\"./config.js\";import{Manipulation as o}from\"./Manipulation.js\";import{MoveXYAxisManipulation as r}from\"./MoveXYAxisManipulation.js\";import{MoveXYDiscManipulation as l}from\"./MoveXYDiscManipulation.js\";import{MoveZManipulation as p}from\"./MoveZManipulation.js\";class h extends o{constructor(i){super(),this._handles=new e,this._angleDeferred=null,this._interactive=!0;const{tool:a,view:t,snapToScene:n,radius:s}=i;this._view=t,this.xyManipulation=new l({tool:a,view:t,snapToScene:n,radius:s}),this.xyAxisManipulation=new r({tool:a,view:t,radius:s}),this.zManipulation=new p({tool:a,view:t,radius:s}),this.xyManipulation.available=i.xyAvailable,this.xyAxisManipulation.available=i.xyAxisAvailable,this.zManipulation.available=i.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on(\"grab-changed\",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,a){return t([this.xyManipulation.createGraphicDragPipeline(i,a),this.xyAxisManipulation.createGraphicDragPipeline(i,a),this.zManipulation.createGraphicDragPipeline(i,a)])}createDragPipeline(i,a,e){return t([this.xyManipulation.createDragPipeline(i,a,e),this.xyAxisManipulation.createDragPipeline(i,a,e),this.zManipulation.createDragPipeline(i,e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&\"touch\"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if(i(\"esri-mobile\"))return;const n=[];e.forEachManipulator((i=>n.push(i))),t.forEachManipulator((i=>n.push(i)));const s=()=>{const i=[];this.xyAxisVisible?a(this._angleDeferred)&&(this.angle=this._angleDeferred()):t.forEachManipulator((a=>i.push(a.disableDisplay()))),this._handles.remove(u),this._handles.add(i,u)};for(const i of n)this._handles.add(i.events.on(\"focus-changed\",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch(\"latestPointerType\",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const t=a(i)&&\"point-3d\"===i.type&&i.symbolLayers;return!!t&&t.length>0&&t.some((i=>\"icon\"===i.type))?n:s}}const u=\"disable-xy-axis-display\";export{h as MoveManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../../core/maybe.js\";import i from\"../../../../../core/Handles.js\";import{createManipulatorDragEventPipeline as e,addMapDelta as r,addScreenDelta as a}from\"../../../../interactive/dragEventPipeline.js\";import{GraphicManipulator as o}from\"../../../../interactive/GraphicManipulator.js\";import{screenToMapXYForGraphic as s}from\"../dragEventPipeline3D.js\";import{Manipulation as n}from\"./Manipulation.js\";import{createGraphicMoveDragPipeline as l}from\"./moveUtils.js\";class h extends n{constructor(t){super(),this._handles=new i,this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return l(this._graphicState,t,(t=>this.createDragPipeline(t)))}createDragPipeline(i){const o=this._view,n=this._graphicState.graphic,l=t(n.geometry)?n.geometry.spatialReference:null;return e(this._manipulator,((t,e,h,p,c)=>{const m=e.next(s(c,o,n,l)).next(r()).next(a());i(t,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new o({graphic:i,view:t,selectable:!0,cursor:\"move\"})}}export{h as MoveXYGraphicManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{unwrap as e,isSome as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as a}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import r from\"../../../../../core/Collection.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as h}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{dragGraphicMany as c,resetGraphicMany as m}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as u}from\"../../../../interactive/InteractiveToolBase.js\";import{getGraphicAttachmentOrigin as d}from\"../../manipulatorUtils.js\";import{isSupportedGraphic as g}from\"./isSupportedGraphic.js\";import{canMoveZ as v}from\"../manipulatorUtils.js\";import{OutlineVisualElement as f}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as M}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as y}from\"../visualElementUtils.js\";import{DISC_RADIUS as _}from\"../manipulations/config.js\";import{primaryShapeOrientation as j}from\"../manipulations/moveUtils.js\";import{MoveManipulation as w}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as b}from\"../manipulations/MoveXYGraphicManipulation.js\";class x{constructor(t){this.allGraphics=t,this.type=\"graphic-move-start\"}}class E{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type=\"graphic-move\"}}class A{constructor(t){this.allGraphics=t,this.type=\"graphic-move-stop\"}}let S=class extends(n.EventedMixin(u)){constructor(t){super(t),this.graphics=new r,this.enableZ=!0,this.type=\"move-3d\",this._toolHandles=new l,this._handles=new l}initialize(){this._toolHandles.add([this.graphics.on(\"change\",(()=>this._refreshManipulators()))]),this._refreshManipulators()}destroy(){this._handles.destroy(),this._handles=null,this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set(\"view\",null)}reset(){}_refreshManipulators(){this._handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===g(t))).map((t=>new D(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this._handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new b({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this._handles.add(t.events.on(\"immediate-click\",(t=>{this.emit(\"immediate-click\",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this._handles.add(e.manipulationXY.createDragPipeline(((e,i,a)=>this.buildDragEventPipeline(e,i,a,t))))}this.createMoveManipulation(t)}createMoveManipulation(t){const i=new w({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?w.radiusForSymbol(t[0].graphic.symbol):_});this._moveManipulation=i,i.elevationInfo={mode:\"absolute-height\",offset:0},i.forEachManipulator((t=>{this._handles.add(t.events.on(\"immediate-click\",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit(\"immediate-click\",{...e,graphic:this.graphics.getItemAt(0)}),e.stopPropagation()})))}));const a=()=>this.updateMoveManipulation(t);for(const e of t)this._handles.add([e.state.on(\"changed\",a),e.state.watch(\"displaying\",a)]);const o=t[t.length-1];this._handles.add(o.state.on(\"changed\",(()=>this.updateMoveManipulationAngle(o)))),this._handles.add(i.createDragPipeline(((e,i,a)=>{this.buildDragEventPipeline(e,i,a,t)}),p(o.graphic),e(o.graphic.geometry).spatialReference)),this.updateMoveManipulationAngle(o)}createVisualElements(t){for(const e of t){const i=e.graphic,o=y({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>a()});e.geometryRepresentation=o.visualElement,e.geometryRepresentation instanceof f&&this._handles.add([e.geometryRepresentation.events.on(\"attachment-origin-changed\",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch(\"isDraped\",(()=>this.updateMoveManipulation(t)))]),this._handles.add(o)}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>j(t.graphic.geometry)}updateMoveManipulation(t){const e=h(0,0,0,this.view.spatialReference);let a=0,o=!1;const s=this._moveManipulation;for(const s of t){if(!s.state.displaying)continue;const t=s.state.graphic;this.enableZ&&v(t)&&(o=!0);const n=s.geometryRepresentation instanceof f&&!s.state.isDraped?s.geometryRepresentation.attachmentOrigin:d(this.view,t);i(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,a++)}a>0?(e.x/=a,e.y/=a,e.z/=a,s.location=e,s.xyManipulation.available=!0,s.xyAxisManipulation.available=!0,s.zManipulation.available=o):s.available=!1}buildDragEventPipeline(t,e,i,a){const o=[],s=[];let n=null,r=null;const l=()=>{for(const t of o)t.dragging=!1;o.length=0,s.length=0,n=null,r=null,this._moveManipulation.interactive=!0};e.next((e=>{if(\"start\"===e.action){o.length=0,s.length=0;for(const e of a)e.dragging||!e.manipulationXY.hasManipulator(t)&&e.manipulationXY.grabbing||(o.push(e),s.push(e.graphic),e.dragging=!0);if(0!==s.length&&(this._moveManipulation.interactive=!1,n=c(s),r=m(s),this.emit(\"graphic-move-start\",new x(s)),this.destroyed))return null}return 0!==s.length?e:null})).next((t=>n(t))).next((t=>{switch(t.action){case\"start\":case\"update\":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,o=i.y-e.y;if(this.emit(\"graphic-move\",new E(a,o,s)),this.destroyed)return null}break;case\"end\":if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}})),i.next((t=>r(t))).next((()=>{if(this.emit(\"graphic-move-stop\",new A(s)),this.destroyed)return null;l()}))}};t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"view\",void 0),t([o({readOnly:!0})],S.prototype,\"graphics\",void 0),t([o({constructOnly:!0,nonNullable:!0})],S.prototype,\"enableZ\",void 0),t([o({readOnly:!0})],S.prototype,\"type\",void 0),S=t([s(\"esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool\")],S);class D{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new M({graphic:t})}get graphic(){return this.state.graphic}}export{E as GraphicMoveEvent,x as GraphicMoveStartEvent,A as GraphicMoveStopEvent,S as GraphicMoveTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,destroyMaybe as i,isNone as a,unwrap as o}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{handlesGroup as n}from\"../../../../../core/handleUtils.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import l from\"../../../../../core/Evented.js\";import{s as p,b as h,a as u}from\"../../../../../chunks/vec3.js\";import c from\"../../../../../core/Handles.js\";import{init as d}from\"../../../../../core/watchUtils.js\";import{getGraphicEffectiveElevationInfo as m}from\"../../../../../support/elevationInfoUtils.js\";import{makeDehydratedPoint as g}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{sv3d as _}from\"../../../support/stack.js\";import v from\"../../../webgl-engine/lib/GeometryUtil.js\";import M from\"../../../webgl-engine/lib/Geometry.js\";import{EditGeometry as y}from\"../editGeometry/EditGeometry.js\";import{EditGeometryHelper as f}from\"../editGeometry/EditGeometryHelper.js\";import{addMapDelta as x,createManipulatorDragEventPipeline as b,dragAtLocation as S}from\"../../../../interactive/dragEventPipeline.js\";import{SnappingContext as E}from\"../../../../interactive/snapping/SnappingAlgorithm.js\";import{SnappingEngine as G}from\"../../../../interactive/snapping/SnappingEngine.js\";import{screenToMapXYForGraphicAtLocation as w}from\"../dragEventPipeline3D.js\";import{Manipulator3D as H}from\"../../Manipulator3D.js\";import{createManipulatorMaterial as I,createManipulatorOutlineMaterial as O,placeAtGraphic as P}from\"../../manipulatorUtils.js\";import{canMoveZ as V}from\"../manipulatorUtils.js\";import{settings as D}from\"../settings.js\";import{OutlineVisualElement as j}from\"../../visualElements/OutlineVisualElement.js\";import{GraphicState as k}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as A}from\"../visualElementUtils.js\";import{DISC_RADIUS_SMALL as U}from\"../manipulations/config.js\";import{primaryShapeOrientation as L}from\"../manipulations/moveUtils.js\";import{MoveManipulation as T}from\"../manipulations/MoveManipulation.js\";import{MoveXYGraphicManipulation as z}from\"../manipulations/MoveXYGraphicManipulation.js\";let C=class extends l.EventedAccessor{constructor(e){super(e),this._vertexManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.vertex.color),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.outlineColor),D.reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.vertex.hoverOutlineColor),D.reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.edge.color),D.reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.edge.outlineColor),D.reshapeManipulators.edge.renderOccluded),this._selectedManipulatorMaterial=I(D.colorToVec4(D.reshapeManipulators.selected.color),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.outlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=O(D.colorToVec4(D.reshapeManipulators.selected.hoverOutlineColor),D.reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._handles=new c,this._manipulatorHandles=new c,this._manipulatorInfos=[],this._reshapeHelper=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null,this.snappingEngine=new G(e.tool.snappingOptions)}initialize(){const e=new k({graphic:this.graphic});this._graphicState=e,this._handles.add([e.watch(\"displaying\",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._clear(),this._handles.destroy(),this.snappingEngine.destroy()}get inputGeometry(){return t(this._reshapeHelper)?this._reshapeHelper.geometry:null}set inputGeometry(e){this._recreateManipulators(e)}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZ(){return this.tool.enableZ}get enableMoveGraphic(){return this.tool.enableMoveGraphic}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&\"vertex\"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit(\"manipulators-changed\")}_clear(){this._moveManipulation=i(this._moveManipulation),this._graphicMoveManipulation=i(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[],this._reshapeHelper=null,this._numGrabbing=0,this._numDragging=0}_recreateManipulators(e=this.inputGeometry){if(this._clear(),a(e))return;this._reshapeHelper=new Y(y.fromGeometry(e,this.view.viewingMode),e.type);const t=m(this.graphic);for(const e of this._reshapeHelper.data.components){for(const i of e.vertices)this._createPerVertexManipulator(i,t);for(const i of e.edges)this._createPerVertexManipulator(i,t)}this._createGraphicMoveManipulators(t)}_perGraphicManipulatorDragAction(e,t){if(\"end\"===t.action)return;const i=[],a=this._manipulatorInfos.some((e=>\"vertex\"===e.handle.type&&e.manipulator.selected)),n=1===e&&a,r=o(this._reshapeHelper);for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&(e.manipulator.grabbing||n&&!e.manipulator.selected||(o(r).moveVertices([e.handle],t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ),i.push(e.handle.pos),this._updateManipulatorPosition(e)));if(0===i.length)return;let s=0;for(const e of this._manipulatorInfos)\"vertex\"===e.handle.type&&s++;this.outputGeometry=r.geometry;if(i.length===s){if(this._updateEventState(1),this.destroyed)return;if(this.emit(\"move\",{type:\"move\",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic}),this.destroyed)return}else{if(this._updateEventState(2),this.destroyed)return;if(this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic}),this.destroyed)return}}isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)F(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const t=e.mapDeltaX,i=e.mapDeltaY,a=e.mapDeltaZ;if(!t&&!i&&!a)return;const n=[];for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected&&!t.manipulator.grabbing||t===e.info)&&n.push(t);const r=o(this._reshapeHelper);for(const e of n)r.moveVertices([e.handle],t,i,a);this.outputGeometry=r.geometry;for(const e of n)this._updateManipulatorPosition(e);this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape-stop\",mover:this.graphic}),this.destroyed||this.emit(\"move\",{type:\"move-start\",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic});break;case 1:this.emit(\"move\",{type:\"move-stop\",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit(\"reshape\",{type:\"reshape-start\",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){this._graphicMoveManipulation=new z({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic?this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,t,i)=>{t.next((e=>this._trackNumDragging(e))).next((e=>{this._perGraphicManipulatorDragAction(0,e)})),i.next(this._cancelDragOperation())}))):this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null})),this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit(\"immediate-click\"),e.stopPropagation()}))]))),this._moveManipulation=new T({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&V(this.graphic),snapToScene:!1,radius:T.radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this._handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on(\"immediate-click\",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit(\"immediate-click\"),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:\"absolute-height\",offset:0};const i=o(this.graphic.geometry).spatialReference;let a=null;this._handles.add([this._moveManipulation.createDragPipeline(((i,n,r,s)=>{n.next((e=>this._trackNumDragging(e))).next((i=>{if(\"start\"===i.action){const t=this._manipulatorInfos.filter((e=>F(e)&&e.manipulator.selected));if(1===i.manipulatorType&&1===t.length){const i=t[0].handle;a=new E(o(this._reshapeHelper),this.view,e,s,i)}}return t(a)&&(i.mapEnd=this.snappingEngine.snap(i.mapEnd,a)),\"end\"===i.action&&(this.snappingEngine.doneSnapping(),a=null),i})).next(x()).next((e=>{this._perGraphicManipulatorDragAction(1,e)})),r.next(this._cancelDragOperation())}),e,i),d(this._graphicState,\"displaying\",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on(\"changed\",(()=>this._updateMoveManipulationPosition())),d(this._graphicState,\"isDraped\",(()=>{const e=\"align-move-manipulation\";this._graphicState.isDraped?this._handles.add(this.view.elevationProvider.on(\"elevation-change\",(()=>this._updateMoveManipulationPosition())),e):this._handles.remove(e)}))]),this._updateMoveManipulationPosition();const n=A({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){t(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on(\"manipulators-changed\",e)});this._outlineVisualElement=n.visualElement instanceof j?n.visualElement:null,t(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on(\"attachment-origin-changed\",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch(\"isDraped\",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(n)}_createPerVertexManipulator(e,t=m(this.graphic)){if(a(this._vertexManipulatorGeometry)||a(this._vertexManipulatorOutlineGeometry)){const e=D.reshapeManipulators.vertex,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._vertexManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._vertexManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}if(a(this._edgeManipulatorGeometry)||a(this._edgeManipulatorOutlineGeometry)){const e=D.reshapeManipulators.edge,t=e.size/2,i=t+e.collisionPadding,a=t/i;this._edgeManipulatorGeometry=new M(v.createSphereGeometry(a,16,16),\"reshape-manipulator\");const o=(t+e.outlineSize)/i;this._edgeManipulatorOutlineGeometry=new M(v.createSphereGeometry(o,16,16),\"reshape-manipulator-outline\")}const i=new H({view:this.view,renderObjects:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|X.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Vertex},{geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|X.Edge},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|X.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|X.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|X.Edge},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}],elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(i,e,t);const o=\"edge\"===e.type?{manipulator:i,handle:e,locationUpdateHandle:null,type:\"edge\",selectedIndex:0}:{manipulator:i,handle:e,type:\"vertex\",selectedIndex:0};if(this._manipulatorInfos.push(o),this.manipulators.add(i),this._updateManipulatorPosition(o),\"edge\"===o.type){const e=this._getManipulatorInfoFromHandle(o.handle.left).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o))),t=this._getManipulatorInfoFromHandle(o.handle.right).manipulator.events.on(\"location-update\",(()=>this._updateManipulatorPosition(o)));o.locationUpdateHandle=n([e,t]),this._manipulatorHandles.add(o.locationUpdateHandle,i)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(i,!0),i);const r=b(i,((e,i,a,n)=>{i.next((e=>this._trackNumDragging(e))).next((e=>R(o)?{...e,info:this._splitEdgeManipulator(o)}:{...e,info:o})).next(S(this.view,e.elevationAlignedLocation)).next(w(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference)).next(this._snapDrag(t,n)).next(x()).next((e=>{this._perVertexManipulatorDragAction(e)})),a.next(this._cancelDragOperation())}));return this._manipulatorHandles.add(r,i),this._manipulatorHandles.add([i.events.on(\"immediate-click\",(e=>this._manipulatorClickCallback(e,o))),i.events.on(\"select-changed\",(()=>{o.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))]),this.emit(\"manipulators-changed\"),i}_snapDrag(e,i){let a=null;const n=o(this._reshapeHelper);return o=>{if(\"start\"===o.action&&(this.isMultiVertexSelection()||(a={context:new E(n,this.view,e,i,o.info.handle),originalPos:n.data.coordinateHelper.createDehydratedPoint(o.info.handle.pos)})),t(a)){const e={...a.originalPos};e.x+=o.mapEnd.x-o.mapStart.x,e.y+=o.mapEnd.y-o.mapStart.y;const t=this.snappingEngine.snap(e,a.context);o.mapEnd.x=t.x+(o.mapStart.x-a.originalPos.x),o.mapEnd.y=t.y+(o.mapStart.y-a.originalPos.y)}return\"end\"===o.action&&(this.snappingEngine.doneSnapping(),a=null),o}}_trackNumDragging(e){switch(e.action){case\"start\":this._numDragging++;break;case\"end\":this._numDragging--}return e}_cancelDragOperation(){const e=t(this._reshapeHelper)?this._reshapeHelper.geometry.clone():null;return()=>{switch(this._numDragging--,this.inputGeometry=e,this.outputGeometry=e,this.snappingEngine.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit(\"move\",{type:\"move\",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit(\"reshape\",{type:\"reshape\",mover:this.graphic})}this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case\"vertex\":e.state=X.Vertex,e.selectable=!0,e.cursor=\"move\",e.collisionPriority=2,e.radius=D.reshapeManipulators.vertex.size/2+D.reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i;break;case\"edge\":e.state=X.Edge,e.selectable=!1,e.cursor=\"copy\",e.collisionPriority=-1,e.radius=D.reshapeManipulators.edge.size/2+D.reshapeManipulators.edge.collisionPadding,e.elevationInfo=\"on-the-ground\"===i.mode?i:{mode:\"absolute-height\",offset:0}}}_watchAndUpdateGrabState(e,t){return e.events.on(\"grab-changed\",(i=>{if(\"start\"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit(\"manipulators-changed\"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit(\"manipulators-changed\"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const i=o(this._reshapeHelper);if(\"vertex\"===e.handle.type)e.manipulator.location=i.data.coordinateHelper.toPoint(e.handle.pos,N),e.manipulator.grabbing&&t(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if(\"edge\"===e.handle.type){const a=this._getManipulatorInfoFromHandle(e.handle.left).manipulator,o=this._getManipulatorInfoFromHandle(e.handle.right).manipulator;if(t(e.manipulator.elevationInfo)&&\"on-the-ground\"===e.manipulator.elevationInfo.mode){const t=a.location,n=o.location,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?0:void 0;e.manipulator.location=g(s,l,p,i.geometry.spatialReference)}else{const t=a.elevationAlignedLocation,n=o.elevationAlignedLocation,r=.5,s=t.x+r*(n.x-t.x),l=t.y+r*(n.y-t.y),p=t.hasZ&&n.hasZ?t.z+r*(n.z-t.z):void 0;e.manipulator.elevationAlignedLocation=g(s,l,p,i.geometry.spatialReference)}}}_splitEdgeManipulator(e){const t=o(this._reshapeHelper),i=o(t.splitEdge(e.handle,.5).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const a=e;a.handle=i,a.type=\"vertex\";const n=m(this.graphic);this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n),i.left&&this._createPerVertexManipulator(i.left),i.right&&this._createPerVertexManipulator(i.right),this.outputGeometry=t.geometry,this._updateManipulatorPosition(a),this._updateSelection(e.manipulator);const r=this._updateEventState(2),s=t.data.coordinateHelper.toArray(a.handle.pos),l=t.data.components.indexOf(i.component);return this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:[{coordinates:s,componentIndex:l,vertexIndex:o(i.index)}],added:s}),r&&this._updateEventState(0),a}_updateMoveManipulationPosition(){const e=_.get();p(e,0,0,0);let i=0,n=!1,r=null,s=null;for(const t of this._manipulatorInfos)F(t)&&(t.manipulator.selected?(i++,h(e,e,t.manipulator.renderLocation),a(r)||t.selectedIndex>r.selectedIndex?(s=r,r=t):(a(s)||t.selectedIndex>s.selectedIndex)&&(s=t)):n=!0);if(0!==i){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==i}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZ&&V(this.graphic)}if(0!==i){let e=0;if(t(r)){const i=r.handle.pos,a=t(s)?s.handle.pos:r.handle.left&&r.handle.left.left?r.handle.left.left.pos:null,o=!t(s)&&r.handle.right&&r.handle.right.right?r.handle.right.right.pos:null;a&&o?this._moveManipulation.xyAxisManipulation.available=!1:a?e=Z(a,i):o&&(e=Z(i,o))}this._moveManipulation.angle=e,this._moveManipulation.radius=U}else this._moveManipulation.angleDeferred=()=>L(o(this.graphic.geometry)),this._moveManipulation.radius=T.radiusForSymbol(this.graphic.symbol);0!==i&&n?(u(e,e,1/i),N.spatialReference=o(this._reshapeHelper).geometry.spatialReference,N.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,N),this._moveManipulation.elevationAlignedLocation=N):t(this._outlineVisualElement)&&!this._graphicState.isDraped&&t(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:P(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=o(this._reshapeHelper);for(const a of e)if(\"vertex\"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.left)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.right));const e=o(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createPerVertexManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.toArray(e.pos),componentIndex:t,vertexIndex:o(e.index)}}));this.outputGeometry=i.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit(\"vertex-remove\",{type:\"vertex-remove\",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),\"vertex\"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),\"vertex\"===t.handle.type&&2===e.button&&this._removeVertices([t]),R(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function Z(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function F(e){return\"vertex\"===e.handle.type}function R(e){return\"edge\"===e.handle.type}e([r({constructOnly:!0})],C.prototype,\"tool\",void 0),e([r()],C.prototype,\"inputGeometry\",null),e([r()],C.prototype,\"outputGeometry\",void 0),C=e([s(\"esri.views.3d.interactive.editingTools.graphicReshape3D.ReshapeOperation\")],C);const N=g(0,0,null,null);var X;!function(e){e.Vertex=16,e.Edge=32}(X||(X={}));class Y extends f{constructor(e,t){super(e,t),this.type=t,this._geometry=null}get geometry(){if(this._dirty){switch(this.type){case\"polyline\":this._geometry=this.data.toPolyline();break;case\"polygon\":this._geometry=this.data.toPolygon()}this._dirty=!1}return this._geometry}}export{Y as ReshapeGeometryHelper,C as ReshapeOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as t,isNone as r}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import s from\"../../../../../core/Evented.js\";import p from\"../../../../../core/Handles.js\";import{init as a}from\"../../../../../core/watchUtils.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";import{SnappingOptions as h}from\"../../../../interactive/snapping/SnappingOptions.js\";import{isSupportedGraphic as c}from\"./isSupportedGraphic.js\";import{ReshapeOperation as m}from\"./ReshapeOperation.js\";let l=class extends(s.EventedMixin(n)){constructor(e){super(e),this._handles=new p,this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZ=!0,this.enableMoveGraphic=!0,this.type=\"reshape-3d\",this.snappingOptions=new h}destroy(){this._handles.removeAll(),this._reshapeOperation&&(this._reshapeOperation.destroy(),this._reshapeOperation=null),this._set(\"view\",null),this._set(\"graphic\",null)}get selectionManagementDisabled(){return!0}_updateGeometry(){const e=this.graphic.geometry;0!==c(this.graphic)||!t(e)||\"polygon\"!==e.type&&\"polyline\"!==e.type?this._reshapeOperation.inputGeometry=null:this._reshapeOperation.inputGeometry=e.clone()}_updateGraphic(){if(this._handles.remove(\"onGraphicGeometryChange\"),this._updateGeometry(),0!==c(this.graphic))return;const e=this.watch(\"graphic.geometry\",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,\"onGraphicGeometryChange\")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_onReshapeGeometryChanged(){r(this.graphic)||(this._internalGeometryUpdate=!0,this.graphic.geometry=this._reshapeOperation.outputGeometry.clone(),this._internalGeometryUpdate=!1)}initialize(){this._reshapeOperation=new m({tool:this}),this._handles.add([this._reshapeOperation.on(\"reshape\",(e=>{\"reshape\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"reshape\",e)})),this._reshapeOperation.on(\"move\",(e=>{\"move\"===e.type&&this._onReshapeGeometryChanged(),this.emit(\"move\",e)})),this._reshapeOperation.on(\"vertex-add\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-add\",e)})),this._reshapeOperation.on(\"vertex-remove\",(e=>{this._onReshapeGeometryChanged(),this.emit(\"vertex-remove\",e)})),this._reshapeOperation.on(\"immediate-click\",(()=>this.emit(\"immediate-click\"))),a(this,\"graphic\",(()=>{this._updateGraphic()}),!0)])}beforeUndo(){this._reshapeOperation.snappingEngine.doneSnapping()}onInputEvent(e){\"key-down\"!==e.type||\"Delete\"!==e.key&&\"Backspace\"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}};e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"view\",void 0),e([o({constructOnly:!0})],l.prototype,\"graphic\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableZ\",void 0),e([o({constructOnly:!0,nonNullable:!0})],l.prototype,\"enableMoveGraphic\",void 0),e([o({readOnly:!0})],l.prototype,\"type\",void 0),e([o()],l.prototype,\"snappingOptions\",void 0),l=e([i(\"esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool\")],l);export{l as GraphicReshapeTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t,isNone as e}from\"../../../../../core/maybe.js\";import{addFrameTask as a}from\"../../../../../core/scheduling.js\";import i from\"../../../../../core/Evented.js\";import{clamp as o}from\"../../../../../core/mathUtils.js\";import{castRenderScreenPointArray as s,createScreenPointArray as r}from\"../../../../../core/screenUtils.js\";import{b as n,f as l,c}from\"../../../../../chunks/vec3f64.js\";import{a as h}from\"../../../../../chunks/common.js\";import{s as g,f as d,l as m,h as u,c as p,b as f}from\"../../../../../chunks/vec3.js\";import{cyclicalPI as D}from\"../../../support/mathUtils.js\";import M from\"../../../../../core/Handles.js\";import{init as y}from\"../../../../../core/watchUtils.js\";import{i as S,r as b,p as R,m as v,s as w}from\"../../../../../chunks/mat4.js\";import{a as k}from\"../../../../../chunks/mat4f64.js\";import{getGraphicEffectiveElevationInfo as _}from\"../../../../../support/elevationInfoUtils.js\";import{sv3d as j,sm4d as A}from\"../../../support/stack.js\";import{plane as F,ray as I}from\"../../../support/geometryUtils.js\";import E from\"../../../webgl-engine/lib/GeometryUtil.js\";import P from\"../../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as L}from\"../../../webgl-engine/materials/ColorMaterial.js\";import{createManipulatorDragEventPipeline as T,resetSymbol as U}from\"../../../../interactive/dragEventPipeline.js\";import{screenToRenderPlane as O}from\"../dragEventPipeline3D.js\";import{Manipulator3D as x}from\"../../Manipulator3D.js\";import{calculateInputRotationTransform as z,placeAtGraphic as C}from\"../../manipulatorUtils.js\";import{ROTATE_INDICATOR_DIRECTION_BUFFER as N,SCALE_INDICATOR_DIRECTION_BUFFER as Z,RING_HEIGHT as G,ROTATE_INDICATOR_ARROW_TIP_LENGTH as H,ROTATE_INDICATOR_ARROW_TIP_RADIUS as V,RING_THICKNESS as q,DRAG_THRESHOLD_PX as B,RING_RESET_ANIMATION_SPEED_FACTOR as J,RING_INDICATOR_DELAY_MS as K,INDICATOR_THICKNESS as Q,ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE as W,HANDLE_COLOR as X,RING_RADIUS as Y,ROTATE_INDICATOR_ARC_LENGTH as $,INNER_INDICATOR_RADIUS as tt,OUTER_INDICATOR_RADIUS as et,SCALE_INDICATOR_OFFSET1 as at,SCALE_INDICATOR_OFFSET2 as it,GEOMETRY_SEGMENTS as ot,SCALE_INDICATOR_ARC_LENGTH as st}from\"../manipulations/config.js\";var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class nt{constructor(e){this.mode=null,this._handles=new M,this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new i,this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>t(this._scaleRotateDragData)&&\"scale\"===this._scaleRotateDragData.mode?this._scaleRotateDragData.scale:1,this.tool=e.tool,this.mode=e.mode,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}destroy(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles.removeAll(),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=a({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){t(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation.destroy(),this._activeAnimation=null)}forEachManipulator(t){t(this.ringManipulator,2)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const a=this.ringManipulator,i=this.tool.graphicState.graphic,s=T(a,((a,s,r)=>{this._scaleRotateDragData=null;const l=function(t,a){const i=t.allLayerViews.find((t=>t.layer===a.layer));if(e(a.symbol))return null;const o=a.symbol;return{symbolLayers:o.symbolLayers.map((t=>{let e=null,a=null;return\"object\"===t.type&&(e=t.heading),a=i.getSymbolLayerSize(o,t),{heading:e,size:a}})).toArray()}}(this.tool.view,i);if(e(l))return this.updateDragState(),null;const c={mode:\"none\",origin:n(a.renderLocation),angle:0,startAngle:this.tool.symbolRotationAngle,angleDir:0,scale:1,scaleDir:0,startSymbolData:l};this._scaleRotateDragData=c,this.updateDragState();const h=j.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(a.renderLocation,h),s.next(O(this.tool.view,F.fromPositionAndNormal(a.renderLocation,h))).next((e=>{const a=F.normal(e.plane),s=z(e.renderStart,e.renderEnd,c.origin,a),r=D.shortestSignedDiff(c.angle,s);c.angleDir=o(c.angleDir+r,-N,N),c.angle=s;const n=function(t,e){const a=d(j.get(),e.renderStart,t.origin),i=d(j.get(),e.renderEnd,t.origin),o=m(a),s=m(i);if(0===o)return 0;return s/o}(c,e),l=n-c.scale;if(c.scaleDir=o(c.scaleDir+l,-Z,Z),c.scale=n,this.onScaleChanged(),\"none\"===c.mode){const a=this.mode||function(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=lt(o,i,j.get()),n=lt(s,i,j.get());if(u(r,n)<B*B)return null;const l=d(j.get(),o,a),c=p(j.get(),l,e),h=o,g=f(j.get(),h,c),m=lt(a,i,j.get()),D=r,M=lt(g,i,j.get()),y=d(j.get(),M,D),S=d(j.get(),r,m),b=I.wrap(D,y),R=I.wrap(m,S);if(I.distance2(b,n)<I.distance2(R,n))return\"rotate\";return\"scale\"}(e,e.plane,c.origin,this.tool.view.state.camera);if(t(a)){switch(a){case\"rotate\":this.tool.emit(\"graphic-rotate-start\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-start\",{graphic:i,scale:c.scale})}c.mode=a}}if(this.updateDragState(),t(i.symbol)){const t=i.symbol.clone();let e=0,a=1;switch(c.mode){default:case\"none\":break;case\"scale\":a=c.scale;break;case\"rotate\":e=c.angle}this.applySymbolData(t,c.startSymbolData,e,a),i.symbol=t,this.updateManipulatorTransform()}switch(e.action){case\"start\":case\"update\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale\",{graphic:i,scale:c.scale})}break;case\"end\":switch(c.mode){case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:c.angle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:c.scale});break;default:case\"none\":}}\"end\"===e.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),r.next(U(i)).next((()=>{if(t(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case\"none\":break;case\"rotate\":this.tool.emit(\"graphic-rotate-stop\",{graphic:i,angle:this._scaleRotateDragData.startAngle});break;case\"scale\":this.tool.emit(\"graphic-scale-stop\",{graphic:i,scale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on(\"focus-changed\",(t=>{\"focus\"===t.action?this.startAnimation(function(t,e){let a=0,i=null;const o=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=o,a=0,e()},update:t=>(a+=t,!i()||a>K?1:0),destroy:()=>{t.getFocused=i,e()}}}(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on(\"immediate-click\",(t=>{t.stopPropagation()})),y(this.tool.graphicState,\"displaying\",(t=>this.ringManipulator.available=t)),this.tool.graphicState.on(\"changed\",(()=>C(this.tool.view,this.ringManipulator,i)))]),C(this.tool.view,this.ringManipulator,i)}onScaleChanged(){this.events.emit(\"scale-changed\"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(t(this._scaleRotateDragData)&&\"none\"!==this._scaleRotateDragData.mode)),t(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case\"rotate\":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case\"scale\":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=S(A.get()),e=this.tool.symbolRotationAngle;b(t,t,e,l(0,0,1));const a=this.getScale(),i=R(A.get(),g(j.get(),a,a,a)),o=S(A.get());v(o,i,t),this.ringManipulator.modelTransform=o}createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(ot*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push(l(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=(t,e)=>new P(E.createPathExtrusionGeometry((t=>[[-t/2,0],[t/2,0],[t/2,G/2],[-t/2,G/2]])(e),t,[],[],!1),\"graphic-transform-ring\"),i=e(Y),o=a(i,q),s={left:[],right:[]},r=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-$,n=i+o,l=i+Math.PI/2-o,c=t(n,l,tt),h=a(c,Q);r.push(c),r.push(t(n,l,et-q/2)),s.left.push(h),s.right.push(h);for(let t=0;t<2;t++){const e=0===t,a=k();if(e){w(a,a,[1,-1,1]),b(a,a,-n,[0,0,1]);const t=Math.round(W*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{b(a,a,l,[0,0,1]);const t=Math.round((1-W)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const i=E.createExtrudedTriangle(H,0,V,G);E.transformInPlace(i,a);const o=new P(i,\"graphic-transform-ring-rotate\");(e?s.left:s.right).push(o)}}const n=[];for(let e=0;e<2;e++){const i=e*Math.PI-Math.PI/4,o=Math.PI/2-st,s=i+o,r=i+Math.PI/2-o,l=t(s,r,et);n.push(a(l,Q))}const c=e(Y+at),h=e(Y+it),g=a(c,Q),d=a(h,Q),m=e(Y-at),u=e(Y-it),p=a(m,Q),f=a(u,Q),D=this.createMaterial(),M=this.createMaterial(.66),y=this.createMaterial(.5),S=this.createMaterial(.33);let R=[{geometry:o,material:D,stateMask:rt.DelayedFocused},{geometry:o,material:y,stateMask:0}];this.mode&&\"scale\"!==this.mode||(R=R.concat([{geometry:n,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:M,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:d,material:S,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:p,material:M,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:f,material:S,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&\"rotate\"!==this.mode||(R=R.concat([{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:s.left,material:D,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:s.right,material:D,stateMask:rt.DelayedFocused|rt.RotateRight}]));const v=[i,...r];return new x({view:this.tool.view,renderObjects:R,autoScaleRenderObjects:!1,worldOriented:!0,radius:q,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:_(this.tool.graphicState.graphic),collisionType:{type:\"ribbon\",paths:v,direction:l(0,0,1)}})}createMaterial(t=1){const e=[...X,t];return new L({color:e,transparent:1!==t,cullFace:2,renderOccluded:2},\"graphic-transform\")}applySymbolData(e,a,i,o){e.symbolLayers.forEach(((e,s)=>{const{heading:r,size:n}=a.symbolLayers[s];\"object\"===e.type&&(e.heading=(t(r)?r:0)-h(i),t(n)&&\"width\"in n&&(n.width=this.enforceNonZeroSize(n.width),n.height=this.enforceNonZeroSize(n.height),n.depth=this.enforceNonZeroSize(n.depth),e.width=n.width*o,e.depth=n.depth*o,e.height=n.height*o))}))}enforceNonZeroSize(t){return t||this.tool.view.state.camera.computeRenderPixelSizeAt(this.ringManipulator.renderLocation)}get test(){return{ringManipulator:this.ringManipulator}}}function lt(t,e,a){const i=e.projectToRenderScreen(t,s(ht)),o=e.renderToScreen(i,gt);return g(a,o[0],o[1],0)}function ct(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*J,1),e(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=a,e()}}}const ht=c(),gt=r();export{nt as GraphicScaleRotateTransform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{isSome as a,isNone as i}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{makeHandle as e}from\"../../../../../core/handleUtils.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import n from\"../../../../../core/Evented.js\";import{t as r}from\"../../../../../chunks/common.js\";import l from\"../../../../../core/Handles.js\";import{getGraphicEffectiveElevationInfo as h}from\"../../../../../support/elevationInfoUtils.js\";import{InteractiveToolBase as c}from\"../../../../interactive/InteractiveToolBase.js\";import{placeAtGraphic as p}from\"../../manipulatorUtils.js\";import{canMoveZ as m}from\"../manipulatorUtils.js\";import{GraphicState as u}from\"../../../layers/graphics/GraphicState.js\";import{createVisualElements as d}from\"../visualElementUtils.js\";import{ALIGN_ARROWS_SCALE_THRESHOLD as g}from\"../manipulations/config.js\";import{MoveManipulation as v}from\"../manipulations/MoveManipulation.js\";import{GraphicScaleRotateTransform as y}from\"./GraphicScaleRotateTransform.js\";let M=class extends(n.EventedMixin(c)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type=\"transform-3d\",this.handles=new l,this.scaleRotate=null}initialize(){if(this.graphicState=new u({graphic:this.graphic}),this.moveManipulation=new v({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&m(this.graphic),radius:v.radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on(\"immediate-click\",(t=>t.stopPropagation()))))),this.moveManipulation.elevationInfo=h(this.graphic),this.moveManipulation.createGraphicDragPipeline(this.graphicState,(t=>{const{action:a,graphic:i,dxScreen:e,dyScreen:o}=t,s={graphic:i,dxScreen:e,dyScreen:o};switch(a){case\"start\":this.emit(\"graphic-translate-start\",s);break;case\"update\":this.emit(\"graphic-translate\",s);break;case\"end\":this.emit(\"graphic-translate-stop\",s)}})),this.moveManipulation.angle=this.symbolRotationAngle,this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?\"scale\":\"rotate\";this.scaleRotate=new y({tool:this,mode:t}),this.handles.add(this.scaleRotate.events.on(\"scale-changed\",(()=>this.onScaleChanged())))}this.handles.add([d({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>e()}),this.graphic.watch(\"symbol\",(()=>this.updateMoveAngle())),this.graphicState.on(\"changed\",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch(\"scale\",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged()}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),a(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch(\"displaying\",(t=>{this.forEachManipulator((a=>a.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&m(this.graphic)}))}destroy(){this.handles.destroy(),this.moveManipulation.destroy(),a(this.scaleRotate)&&(this.scaleRotate.destroy(),this.scaleRotate=null),this._set(\"view\",null),this._set(\"graphic\",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set(\"snapToScene\",t)}get symbolRotationAngle(){const t=this.graphic.symbol;if(t){const a=t.symbolLayers.find((t=>\"object\"===t.type)),i=a&&a.heading||0;return r(-i)}return 0}reset(){}onDetach(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){a(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(i(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){\"local\"===this.view.viewingMode||this.view.scale<g?this.moveManipulation.angle=this.symbolRotationAngle:this.moveManipulation.angle=0}onGeometryChanged(){p(this.view,this.moveManipulation,this.graphic)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,ringManipulator:a(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"view\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"graphic\",void 0),t([o({constructOnly:!0,nonNullable:!0})],M.prototype,\"enableZ\",void 0),t([o()],M.prototype,\"enableRotation\",void 0),t([o()],M.prototype,\"enableScaling\",void 0),t([o({value:!1})],M.prototype,\"snapToScene\",null),t([o({readOnly:!0})],M.prototype,\"type\",void 0),M=t([s(\"esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool\")],M);export{M as GraphicTransformTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{isNone as r}from\"../../core/maybe.js\";import o from\"../SimpleLineSymbol.js\";import m from\"../SimpleFillSymbol.js\";import e from\"../SimpleMarkerSymbol.js\";import t from\"../TextSymbol.js\";import{defaultPointSymbolJSON as l,defaultPolylineSymbolJSON as i,defaultPolygonSymbolJSON as n,defaultTextSymbolJSON as s,errorPointSymbolJSON as f,errorPolylineSymbolJSON as p,errorPolygonSymbolJSON as S}from\"./defaultsJSON.js\";const c=e.fromJSON(l),u=o.fromJSON(i),a=m.fromJSON(n),y=t.fromJSON(s);function J(o){if(r(o))return null;switch(o.type){case\"mesh\":return null;case\"point\":case\"multipoint\":return c;case\"polyline\":return u;case\"polygon\":case\"extent\":return a}return null}const N=e.fromJSON(f),O=o.fromJSON(p),j=m.fromJSON(S);export{c as defaultPointSymbol2D,a as defaultPolygonSymbol2D,u as defaultPolylineSymbol2D,y as defaultTextSymbol2D,N as errorPointSymbol2D,j as errorPolygonSymbol2D,O as errorPolylineSymbol2D,J as getDefaultSymbol2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e=[252,146,31,255],i=[153,153,153,255],l={type:\"esriSMS\",style:\"esriSMSCircle\",size:6,color:e,outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[153,153,153,255]}},o={type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:e},S={type:\"esriSFS\",style:\"esriSFSSolid\",color:[252,146,31,196],outline:{type:\"esriSLS\",style:\"esriSLSSolid\",width:.75,color:[255,255,255,191]}},t={type:\"esriTS\",color:[255,255,255,255],font:{family:\"arial-unicode-ms\",size:10,weight:\"bold\"},horizontalAlignment:\"center\",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:\"\",xoffset:0,yoffset:0,angle:0},r={type:\"esriSMS\",style:\"esriSMSCircle\",color:[0,0,0,255],outline:null,size:10.5},s={type:\"esriSLS\",style:\"esriSLSSolid\",color:[0,0,0,255],width:1.5},y={type:\"esriSFS\",style:\"esriSFSSolid\",color:[0,0,0,255],outline:null};export{e as defaultColor,i as defaultOutlineColor,l as defaultPointSymbolJSON,S as defaultPolygonSymbolJSON,o as defaultPolylineSymbolJSON,t as defaultTextSymbolJSON,r as errorPointSymbolJSON,y as errorPolygonSymbolJSON,s as errorPolylineSymbolJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t,e){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?function(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}(t.stops):e}function n(n){const r=n&&n.renderer,s=\"touch\"===(n&&n.event&&n.event.pointerType)?9:6;if(!r)return s;const o=\"visualVariables\"in r?function(t,n){if(!n)return t;const r=n.filter((t=>\"size\"===t.type)).map((n=>{const{maxSize:r,minSize:s}=n;return(e(r,t)+e(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let t=0;t<o;t++)s+=r[t];const f=Math.floor(s/o);return Math.max(f,t)}(s,r.visualVariables):s;if(\"simple\"===r.type)return t(o,r.symbol);if(\"unique-value\"===r.type){let e=o;return r.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===r.type){let e=o;return r.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return r.type,o}export{n as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,r,i){const u=r&&r.length,o=u?r[0]*i:e.length;let y=n(e,0,o,i,!0);const p=new Array;if(!y||y.next===y.prev)return p;let c,v,s,h,d;if(u&&(y=function(e,x,r,i){const u=new Array;for(let t=0,r=x.length;t<r;t++){const o=n(e,x[t]*i,t<r-1?x[t+1]*i:e.length,i,!1);o===o.next&&(o.steiner=!0),u.push(l(o))}u.sort(w);for(const e of u)f(e,r),r=t(r,r.next);return r}(e,r,y,i)),e.length>80*i){c=s=e[0],v=h=e[1];for(let n=i;n<o;n+=i){const t=e[n],x=e[n+1];c=Math.min(c,t),v=Math.min(v,x),s=Math.max(s,t),h=Math.max(h,x)}d=Math.max(s-c,h-v),d=0!==d?1/d:0}return x(y,p,i,c,v,d),p}function n(e,n,t,x,r){let i;if(r===s(e,n,t,x)>0)for(let r=n;r<t;r+=x)i=u(r,e[r],e[r+1],i);else for(let r=t-x;r>=n;r-=x)i=u(r,e[r],e[r+1],i);return i&&a(i,i.next)&&(o(i),i=i.next),i}function t(e,n=e){if(!e)return e;let t,x=e;do{if(t=!1,x.steiner||!a(x,x.next)&&0!==c(x.prev,x,x.next))x=x.next;else{if(o(x),x=n=x.prev,x===x.next)break;t=!0}}while(t||x!==n);return n}function x(e,n,u,l,f,p,c=0){if(!e)return;!c&&p&&(e=y(e,l,f,p));let v=e;for(;e.prev!==e.next;){const y=e.prev,s=e.next;if(p?i(e,l,f,p):r(e))n.push(y.index/u),n.push(e.index/u),n.push(s.index/u),o(e),e=s.next,v=s.next;else if((e=s)===v){c?1===c?x(e=g(e,n,u),n,u,l,f,p,2):2===c&&M(e,n,u,l,f,p):x(t(e),n,u,l,f,p,1);break}}}function r(e){const n=e.prev,t=e,x=e.next;if(c(n,t,x)>=0)return!1;let r=e.next.next;const i=r;let u=0;for(;r!==e.prev&&(0===u||r!==i);){if(u++,h(n.x,n.y,t.x,t.y,x.x,x.y,r.x,r.y)&&c(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function i(e,n,t,x){const r=e.prev,i=e,u=e.next;if(c(r,i,u)>=0)return!1;const o=r.x<i.x?r.x<u.x?r.x:u.x:i.x<u.x?i.x:u.x,l=r.y<i.y?r.y<u.y?r.y:u.y:i.y<u.y?i.y:u.y,f=r.x>i.x?r.x>u.x?r.x:u.x:i.x>u.x?i.x:u.x,y=r.y>i.y?r.y>u.y?r.y:u.y:i.y>u.y?i.y:u.y,p=Z(o,l,n,t,x),v=Z(f,y,n,t,x);let s=e.prevZ,d=e.nextZ;for(;s&&s.z>=p&&d&&d.z<=v;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;if(s=s.prevZ,d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;s&&s.z>=p;){if(s!==e.prev&&s!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,s.x,s.y)&&c(s.prev,s,s.next)>=0)return!1;s=s.prevZ}for(;d&&d.z<=v;){if(d!==e.prev&&d!==e.next&&h(r.x,r.y,i.x,i.y,u.x,u.y,d.x,d.y)&&c(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function u(e,n,t,x){const r=new m(e,n,t);return x?(r.next=x.next,r.prev=x,x.next.prev=r,x.next=r):(r.prev=r,r.next=r),r}function o(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function l(e){let n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function f(e,n){if(n=function(e,n){let t=n;const x=e.x,r=e.y;let i,u=-1/0;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const e=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(e<=x&&e>u){if(u=e,e===x){if(r===t.y)return t;if(r===t.next.y)return t.next}i=t.x<t.next.x?t:t.next}}t=t.next}while(t!==n);if(!i)return null;if(x===u)return i.prev;const o=i,l=i.x,f=i.y;let y,p=1/0;t=i.next;for(;t!==o;)x>=t.x&&t.x>=l&&x!==t.x&&h(r<f?x:u,r,l,f,r<f?u:x,r,t.x,t.y)&&(y=Math.abs(r-t.y)/(x-t.x),(y<p||y===p&&t.x>i.x)&&d(t,e)&&(i=t,p=y)),t=t.next;return i}(e,n)){const x=b(n,e);t(x,x.next)}}function y(e,n,t,x){for(let r;r!==e;r=r.next){if(r=r||e,null===r.z&&(r.z=Z(r.x,r.y,n,t,x)),r.prev.next!==r||r.next.prev!==r)return r.prev.next=r,r.next.prev=r,y(e,n,t,x);r.prevZ=r.prev,r.nextZ=r.next}return e.prevZ.nextZ=null,e.prevZ=null,function(e){let n,t=1;for(;;){let x,r=e;e=null,n=null;let i=0;for(;r;){i++,x=r;let u=0;for(;u<t&&x;u++)x=x.nextZ;let o=t;for(;u>0||o>0&&x;){let t;0===u?(t=x,x=x.nextZ,o--):0!==o&&x?r.z<=x.z?(t=r,r=r.nextZ,u--):(t=x,x=x.nextZ,o--):(t=r,r=r.nextZ,u--),n?n.nextZ=t:e=t,t.prevZ=n,n=t}r=x}if(n.nextZ=null,t*=2,i<2)return e}}(e)}function p(e,n,t,x){const r=n&&n.length,i=r?n[0]*t:e.length;let u=Math.abs(s(e,0,i,t));if(r)for(let x=0,r=n.length;x<r;x++){const i=n[x]*t,o=x<r-1?n[x+1]*t:e.length;u-=Math.abs(s(e,i,o,t))}let o=0;for(let n=0;n<x.length;n+=3){const r=x[n]*t,i=x[n+1]*t,u=x[n+2]*t;o+=Math.abs((e[r]-e[u])*(e[i+1]-e[r+1])-(e[r]-e[i])*(e[u+1]-e[r+1]))}return 0===u&&0===o?0:Math.abs((o-u)/u)}function c(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function v(e,n,t,x){return!!(a(e,n)&&a(t,x)||a(e,x)&&a(t,n))||c(e,n,t)>0!=c(e,n,x)>0&&c(t,x,e)>0!=c(t,x,n)>0}function s(e,n,t,x){let r=0;for(let i=n,u=t-x;i<t;i+=x)r+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return r}function h(e,n,t,x,r,i,u,o){return(r-u)*(n-o)-(e-u)*(i-o)>=0&&(e-u)*(x-o)-(t-u)*(n-o)>=0&&(t-u)*(i-o)-(r-u)*(x-o)>=0}function d(e,n){return c(e.prev,e,e.next)<0?c(e,n,e.next)>=0&&c(e,e.prev,n)>=0:c(e,n,e.prev)<0||c(e,e.next,n)<0}function Z(e,n,t,x,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-x)*r)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function a(e,n){return e.x===n.x&&e.y===n.y}function w(e,n){return e.x-n.x}function g(e,n,t){let x=e;do{const r=x.prev,i=x.next.next;!a(r,i)&&v(r,x,x.next,i)&&d(r,i)&&d(i,r)&&(n.push(r.index/t),n.push(x.index/t),n.push(i.index/t),o(x),o(x.next),x=e=i),x=x.next}while(x!==e);return x}function M(e,n,r,i,u,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.index!==e.index&&z(l,e)){let f=b(l,e);return l=t(l,l.next),f=t(f,f.next),x(l,n,r,i,u,o),void x(f,n,r,i,u,o)}e=e.next}l=l.next}while(l!==e)}function z(e,n){return e.next.index!==n.index&&e.prev.index!==n.index&&!function(e,n){let t=e;do{if(t.index!==e.index&&t.next.index!==e.index&&t.index!==n.index&&t.next.index!==n.index&&v(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}(e,n)&&d(e,n)&&d(n,e)&&function(e,n){let t=e,x=!1;const r=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&r<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(x=!x),t=t.next}while(t!==e);return x}(e,n)}function b(e,n){const t=new m(e.index,e.x,e.y),x=new m(n.index,n.x,n.y),r=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=r,r.prev=t,x.next=t,t.prev=x,i.next=x,x.prev=i,x}class m{constructor(e,n,t){this.index=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}}export{p as deviation,e as earcut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../core/maybe.js\";import r from\"../../geometry/Extent.js\";import\"../../geometry.js\";import{getMetersPerUnitForSR as n}from\"../../core/unitUtils.js\";import{calculateTolerance as i}from\"../../renderers/support/clickToleranceUtils.js\";function a(t,i,a,o=new r){let s;if(\"2d\"===a.type)s=i*a.resolution;else if(\"3d\"===a.type){const r=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?n(o)/n(a.spatialReference):i*r}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,n){const o=n.toMap(e);if(t(o))return!1;return a(o,i(),n,s).intersects(r)}const s=new r;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";function i(i){i.fragment.include(a),i.fragment.uniforms.add(\"depthTex\",\"sampler2D\"),i.fragment.uniforms.add(\"shadowMapNum\",\"int\"),i.fragment.uniforms.add(\"shadowMapDistance\",\"vec4\"),i.fragment.uniforms.add(\"shadowMapMatrix\",\"mat4\",4),i.fragment.uniforms.add(\"depthHalfPixelSz\",\"float\"),i.fragment.code.add(e`\n    float readShadowMap(const in vec3 _vpos, float _linearDepth) {\n      float halfPixelSize = depthHalfPixelSz;\n      vec4 distance = shadowMapDistance;\n      float depth = _linearDepth;\n\n      //choose correct cascade\n      int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\n\n      if (i >= shadowMapNum) { return 0.0; }\n\n      mat4 mat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];\n\n      vec4 lv = mat * vec4(_vpos, 1.0);\n      lv.xy /= lv.w;\n\n      // vertex completely outside? -> no shadow\n      vec3 lvpos = 0.5 * lv.xyz + vec3(0.5);\n      if (lvpos.z >= 1.0) { return 0.0; }\n      if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\n\n      // calc coord in cascade texture\n      vec2 uv = vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n\n      float texSize = 0.5 / halfPixelSize;\n\n      // filter, offset by half pixels\n      vec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\n\n      float s00 = rgba2float(texture2D(depthTex, uv + vec2(-halfPixelSize, -halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s10 = rgba2float(texture2D(depthTex, uv + vec2(halfPixelSize, -halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s11 = rgba2float(texture2D(depthTex, uv + vec2(halfPixelSize, halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n      float s01 = rgba2float(texture2D(depthTex, uv + vec2(-halfPixelSize, halfPixelSize))) < lvpos.z ? 1.0 : 0.0;\n\n      return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n    }\n  `)}!function(e){e.bindUniforms=function(e,a,i){a.shadowMappingEnabled&&(a.shadowMap.bind(e,i),a.shadowMap.bindView(e,a.origin))},e.bindViewCustomOrigin=function(e,a,i){a.shadowMappingEnabled&&a.shadowMap.bindView(e,i)},e.bindView=function(e,a){a.shadowMappingEnabled&&a.shadowMap.bindView(e,a.origin)}}(i||(i={}));export{i as ReadShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction n(n){return\"h\"in n&&\"s\"in n&&\"v\"in n}function t(n){return\"l\"in n&&\"a\"in n&&\"b\"in n}function r(n){return\"l\"in n&&\"c\"in n&&\"h\"in n}function o(n){return\"x\"in n&&\"y\"in n&&\"z\"in n}const u=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function e(n,t){const r=[];let o,u;if(n[0].length!==t.length)throw\"dimensions do not match\";const a=n.length,e=n[0].length;let c=0;for(o=0;o<a;o++){for(c=0,u=0;u<e;u++)c+=n[o][u]*t[u];r.push(c)}return r}function c(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4))),r=e(u,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function i(n){const t=e(a,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function h(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>Math.pow(6/29,3)?Math.pow(n,1/3):1/3*Math.pow(29/6,2)*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function s(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?Math.pow(n,3):3*Math.pow(6/29,2)*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function f(n){return h(c(n))}function b(n){return i(s(n))}function M(n){return function(n){const t=n.l,r=n.a,o=n.b,u=Math.sqrt(r*r+o*o);let a=Math.atan2(o,r);return a=a>0?a:a+2*Math.PI,{l:t,c:u,h:a}}(h(c(n)))}function l(n){return i(s(function(n){const t=n.l,r=n.c,o=n.h;return{l:t,a:r*Math.cos(o),b:r*Math.sin(o)}}(n)))}function g(u){return function(n){return\"r\"in n&&\"g\"in n&&\"b\"in n}(u)?u:r(u)?l(u):t(u)?b(u):o(u)?i(u):n(u)?function(n){const t=(n.h+360)%360/60,r=n.s/100,o=n.v/100*255,u=o*r,a=u*(1-Math.abs(t%2-1));let e;switch(Math.floor(t)){case 0:e={r:u,g:a,b:0};break;case 1:e={r:a,g:u,b:0};break;case 2:e={r:0,g:u,b:a};break;case 3:e={r:0,g:a,b:u};break;case 4:e={r:a,g:0,b:u};break;case 5:case 6:e={r:u,g:0,b:a};break;default:e={r:0,g:0,b:0}}return e.r=Math.round(e.r+o-u),e.g=Math.round(e.g+o-u),e.b=Math.round(e.b+o-u),e}(u):u}function p(t){if(n(t))return t;return function(n){const t=n.r,r=n.g,o=n.b,u=Math.max(t,r,o),a=u-Math.min(t,r,o);let e=u,c=0===a?0:u===t?(r-o)/a%6:u===r?(o-t)/a+2:(t-r)/a+4,i=0===a?0:a/e;return c<0&&(c+=6),c*=60,i*=100,e*=100/255,{h:c,s:i,v:e}}(g(t))}function m(n){return t(n)?n:f(g(n))}function d(n){return r(n)?n:M(g(n))}function w(n){return o(n)?n:c(g(n))}function x(n,t){const r=f(n);return r.l*=1-t,b(r)}export{x as darken,p as toHSV,m as toLAB,d as toLCH,g as toRGB,w as toXYZ};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`\n      void forwardLinearDepth() { linearDepth = gl_Position.w; }\n    `)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"uCameraNearFar\",\"vec2\"),a.vertex.code.add(e`\n      void forwardLinearDepth() {\n        linearDepth = (-position_view().z - uCameraNearFar[0]) / (uCameraNearFar[1] - uCameraNearFar[0]);\n      }\n    `)):a.vertex.code.add(e`\n      void forwardLinearDepth() {}\n    `)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`\n    vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n    {\n      return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n    }\n    `),a.add(e`\n    float integratedRadiance(float cosTheta2, float roughness)\n    {\n      return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n    }\n    `),a.add(e`\n    vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n    {\n      float cosTheta2 = 1.0 - RdotNG * RdotNG;\n      float intRadTheta = integratedRadiance(cosTheta2, roughness);\n\n      // Calculate the integrated directional radiance of the ground and the sky\n      float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\n      float sky = 2.0 - ground;\n      return (ground * ambientGround + sky * ambientSky) * 0.5;\n    }\n    `)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{AnalyticalSkyModel as t}from\"./AnalyticalSkyModel.glsl.js\";function n(n,a){const r=n.fragment.code;n.include(o),3===a.pbrMode||4===a.pbrMode?(r.add(e`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${a.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(e`\n    vec3 fresnelReflection(float angle, vec3 f0, float f90) {\n      return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n    }\n    `),r.add(e`\n    float normalDistributionWater(float NdotH, float roughness)\n    {\n      float r2 = roughness * roughness;\n      float NdotH2 = NdotH * NdotH;\n      float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\n      return r2 / denom;\n    }\n    `),r.add(e`\n    float geometricOcclusionKelemen(float LoH)\n    {\n        return 0.25 / (LoH * LoH);\n    }\n    `),r.add(e`\n    vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n    {\n      vec3  F = fresnelReflection(props.VdotH, F0, F0Max);\n      float dSun = normalDistributionWater(props.NdotH, roughness);\n      float V = geometricOcclusionKelemen(props.LdotH);\n\n      float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\n      float strengthSunHaze  = 1.2;\n      float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\n\n      return ((dSun + dSunHaze) * V) * F;\n    }\n\n    vec3 tonemapACES(const vec3 x) {\n      return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n    }\n    `)):1!==a.pbrMode&&2!==a.pbrMode||(n.include(t),r.add(e`\n    struct PBRShadingInfo\n    {\n        float NdotL;                  // cos angle between normal and light direction\n        float NdotV;                  // cos angle between normal and view direction\n        float NdotH;                  // cos angle between normal and half vector\n        float VdotH;                  // cos angle between view direction and half vector\n        float LdotH;                  // cos angle between view light direction and half vector\n        float NdotNG;                 // cos angle between normal and normal of the ground\n        float RdotNG;                 // cos angle between view direction reflected of the normal and normal of the ground\n        float NdotAmbDir;             // cos angle between view direction and the fill light in ambient illumination\n        float NdotH_Horizon;          // cos angle between normal and half vector defined with horizon illumination\n        vec3 skyRadianceToSurface;         // integrated radiance of the sky based on the surface roughness (used for specular reflection)\n        vec3 groundRadianceToSurface;      // integrated radiance of the ground based on the surface roughness (used for specular reflection)\n        vec3 skyIrradianceToSurface;       // irradiance of the sky (used for diffuse reflection)\n        vec3 groundIrradianceToSurface;    // irradiance of the ground (used for diffuse reflection)\n\n        float averageAmbientRadiance;      // average ambient radiance used to deduce black level in gamut mapping\n        float ssao;                   // ssao coefficient\n        vec3 albedoLinear;            // linear color of the albedo\n        vec3 f0;                      // fresnel value at normal incident light\n        vec3 f90;                     // fresnel value at 90o of incident light\n\n        vec3 diffuseColor;            // diffuse color of the material used in environment illumination\n        float metalness;              // metalness of the material\n        float roughness;              // roughness of the material\n    };\n    `),r.add(e`\n    float normalDistribution(float NdotH, float roughness)\n    {\n        float a = NdotH * roughness;\n        float b = roughness / (1.0 - NdotH * NdotH + a * a);\n        return b * b * INV_PI;\n    }\n    `),r.add(e`\n    const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\n    const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\n    const vec2 c2 = vec2(-1.04, 1.04);\n\n    vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\n        vec4 r = roughness * c0 + c1;\n        float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\n        return c2 * a004 + r.zw;\n    }\n    `),r.add(e`\n    vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\n      vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\n      vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\n\n      // From diffuse illumination calculate reflected color\n      vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\n\n      // From specular illumination calculate reflected color\n      vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\n      vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\n      vec3 specularComponent = specularColor * indirectSpecular;\n\n      return (diffuseComponent + specularComponent);\n    }\n    `),r.add(e`\n    float gamutMapChanel(float x, vec2 p){\n      return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n    }`),r.add(e`\n    vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\n      vec3 outColor;\n      vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\n      outColor.x = gamutMapChanel(inColor.x, p) ;\n      outColor.y = gamutMapChanel(inColor.y, p) ;\n      outColor.z = gamutMapChanel(inColor.z, p) ;\n      return outColor;\n    }\n    `))}export{n as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as t,isSome as s,unwrap as r}from\"../../../../core/maybe.js\";import{c as e,b as i}from\"../../../../chunks/vec3f64.js\";import{e as a,a as n,l as h,b as o,g as c,n as l,q as f,f as m}from\"../../../../chunks/vec3.js\";import{a as u,b as p,c as d,m as b}from\"../../../../chunks/mat4.js\";import{a as g}from\"../../../../chunks/mat3f64.js\";import{a as y}from\"../../../../chunks/mat4f64.js\";import{a as v}from\"../../../../chunks/quatf64.js\";import{a as S}from\"../../../../chunks/vec4f64.js\";import{b as T}from\"../../../../chunks/mat3.js\";import{t as z}from\"../../../../chunks/vec4.js\";import{c as O}from\"../../../../chunks/quat.js\";import{c as L}from\"../../../../chunks/vec3f32.js\";import{e as _}from\"../../../../chunks/boundedPlane.js\";import{c as x}from\"../../../../chunks/sphere.js\";import{ray as I}from\"../../support/geometryUtils.js\";import M from\"./Object3D.js\";function q(t){return(s,r,e)=>(a(K,s,r,e),!_(t,K))}class V{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}class j{constructor(){this._transform=y(),this._transformInverse=new w({value:this._transform},u,y),this._transformInverseTranspose=new w(this._transformInverse,p,y),this._transformTranspose=new w({value:this._transform},p,y),this._transformInverseRotation=new w({value:this._transform},T,g)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){d(this._transform,t)}multiplyTransform(t){b(this._transform,this._transform,t)}set(t){d(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class w{constructor(t,s,r){this.original=t,this.update=s,this.dirty=!0,this.transform=r()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class k{constructor(){this.min=new G,this.max=new G,this.hud=new G,this.ground=new G}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class G{constructor(t){this.normal=e(),this.transformation=y(),this._ray=I.create(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return n(Q,this.ray.direction,this.dist),h(Q)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(n(Q,this.ray.direction,this.dist),o(t,this.ray.origin,Q),!0)}getTransformedNormal(t){return c(W,this.normal),W[3]=0,z(W,W,this.transformation),c(t,W),l(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?I.copy(t,this._ray):this._ray=I.create()}set(t,s,r,e,a,n,h,o,l,f){t instanceof M&&(t={type:\"stage\",obj:t}),this.dist=r,c(this.normal,e),d(this.transformation,a),this.target=t,this.name=s,this.drapedLayerOrder=n,this.center=h?i(h):null,this.geometryId=o,this.triangleNr=l,this.drapedLayerGraphicOrder=f}copyFrom(t){I.copy(t._ray,this._ray),this.dist=t.dist,this.target=t.target,this.name=t.name,this.drapedLayerOrder=t.drapedLayerOrder,this.center=t.center?i(t.center):null,this.geometryId=t.geometryId,this.triangleNr=t.triangleNr,this.intersector=t.intersector,this.drapedLayerGraphicOrder=t.drapedLayerGraphicOrder,c(this.normal,t.normal),d(this.transformation,t.transformation)}toOwner(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return U(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return function(t,s){const r=t.metadata.layerUid;return null!=r?s.map.findLayerByUid(r):null}(this.target,t);case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return U(this.target.metadata,t);case\"TerrainRenderer\":return t.map&&t.map.ground}}return null}toGraphic(t){if(!this.target)return null;switch(this.target.type){case\"stage\":return R(this.target.obj.metadata,t);case\"external\":switch(this.intersector){case\"PointRenderer\":return this.target.metadata.createGraphic();case\"I3S\":case\"IM\":case\"LodRenderer\":case\"OverlayRenderer\":return R(this.target.metadata,t)}}return null}}function U(r,e){return t(r)||null==r.layerUid?null:s(e.graphicsView)&&r.layerUid===e.graphicsView.mockLayerId?e.graphics:e.map.findLayerByUid(r.layerUid)}function R(e,i){if(t(e))return null;const a=U(e,i);if(t(a))return null;if(a===i.graphics)return s(i.graphicsView)?r(i.graphicsView.getGraphicFromGraphicUid(e.graphicUid)):null;const n=i.allLayerViews.find((t=>t.layer===a));return n?function(t,s){if(!t||t.suspended)return null;if(\"getGraphicFromIntersectorMetadata\"in t&&s)return t.getGraphicFromIntersectorMetadata(s);if(\"getGraphicFromGraphicUid\"in t&&null!=s.graphicUid)return t.getGraphicFromGraphicUid(s.graphicUid);return null}(n,e):null}class F{constructor(t=0){this.offset=t,this.tmpVertex=e()}applyToVertex(t,s,r){const e=t+this.localOrigin[0],i=s+this.localOrigin[1],a=r+this.localOrigin[2],n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],r=t[1]+this.localOrigin[1],e=t[2]+this.localOrigin[2],i=t[3]+this.localOrigin[0],a=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}}class P{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=e(),this.mbs=S(),this.obb={center:e(),halfSize:L(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,r){const e=t,i=s,a=r+this.componentLocalOriginLength,n=this.offset/Math.sqrt(e*e+i*i+a*a);return this.tmpVertex[0]=t+e*n,this.tmpVertex[1]=s+i*n,this.tmpVertex[2]=r+a*n,this.tmpVertex}applyToAabb(t){const s=t[0],r=t[1],e=t[2]+this.componentLocalOriginLength,i=t[3],a=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+r*r+e*e);t[0]+=s*h,t[1]+=r*h,t[2]+=e*h;const o=this.offset/Math.sqrt(i*i+a*a+n*n);return t[3]+=i*o,t[4]+=a*o,t[5]+=n*o,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),r=this.offset/s;return this.mbs[0]=t[0]+t[0]*r,this.mbs[1]=t[1]+t[1]*r,this.mbs[2]=t[2]+t[2]*r,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*r,this.obb.center[1]=s[1]+s[1]*r,this.obb.center[2]=s[2]+s[2]*r,f(this.obb.halfSize,t.halfSize,t.quaternion),o(this.obb.halfSize,this.obb.halfSize,t.center);const e=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*e,this.obb.halfSize[1]+=this.obb.halfSize[1]*e,this.obb.halfSize[2]+=this.obb.halfSize[2]*e,m(this.obb.halfSize,this.obb.halfSize,t.center),O(X,t.quaternion),f(this.obb.halfSize,this.obb.halfSize,X),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class N{constructor(t=0){this.offset=t,this.sphere=x(),this.tmpVertex=e()}applyToVertex(t,s,r){const e=this.objectTransform.transform;let i=e[0]*t+e[4]*s+e[8]*r+e[12],a=e[1]*t+e[5]*s+e[9]*r+e[13],n=e[2]*t+e[6]*s+e[10]*r+e[14];const h=this.offset/Math.sqrt(i*i+a*a+n*n);i+=i*h,a+=a*h,n+=n*h;const o=this.objectTransform.inverse;return this.tmpVertex[0]=o[0]*i+o[4]*a+o[8]*n+o[12],this.tmpVertex[1]=o[1]*i+o[5]*a+o[9]*n+o[13],this.tmpVertex[2]=o[2]*i+o[6]*a+o[10]*n+o[14],this.tmpVertex}applyToMinMax(t,s){const r=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*r,t[1]+=t[1]*r,t[2]+=t[2]*r;const e=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*e,s[1]+=s[1]*e,s[2]+=s[2]*e}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t,s){const r=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]),e=this.offset/r;return this.sphere.center[0]=s[0]+s[0]*e,this.sphere.center[1]=s[1]+s[1]*e,this.sphere.center[2]=s[2]+s[2]*e,this.sphere.radius=t+t*this.offset/r,this.sphere}}const A=new N;function B(t){return s(t)?(A.offset=t,A):null}const D=new P;function C(t){return s(t)?(D.offset=t,D):null}const E=new F;function H(t){return s(t)?(E.offset=t,E):null}const J=\"terrain\",K=e(),Q=e(),W=S(),X=v();export{P as I3SVerticalOffsetGlobalViewingMode,V as IntersectorOptions,G as IntersectorResult,k as IntersectorResults,j as IntersectorTransform,N as Object3DVerticalOffsetGlobalViewingMode,J as TERRAIN_ID,F as TerrainVerticalOffsetGlobalViewingMode,C as getVerticalOffsetI3S,B as getVerticalOffsetObject3D,H as getVerticalOffsetTerrain,q as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import{get as t,isSome as i,isNone as o}from\"../../core/maybe.js\";import s from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import a from\"../../core/Accessor.js\";import n from\"../../core/Evented.js\";import{pt2px as c,screenPointObjectToArray as h,createScreenPointArray as p}from\"../../core/screenUtils.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{k as u}from\"../../chunks/vec3.js\";import{canProjectWithoutEngine as g,project as y,projectPointToVector as d}from\"../../geometry/projection.js\";import b from\"../../symbols/support/ElevationInfo.js\";import{getDefaultSymbol2D as f}from\"../../symbols/support/defaults.js\";import{j as _}from\"../../chunks/vec2.js\";import{getGraphicEffectiveElevationMode as v}from\"../../support/elevationInfoUtils.js\";import{intersectsDrapedGeometry as S}from\"../support/drapedUtils.js\";const j=s.getLogger(\"esri.views.interactive.GraphicManipulator\");let C=class extends a{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new n.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){\"mesh\"!==t(e.geometry,\"type\")?(this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()):j.error(\"Mesh geometries are not supported\")}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=v(this.graphic),i=e?e.offset:0;return new b({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this._get(\"graphic\");if(!1===t.visible)return null;const s=this._get(\"focusedSymbol\"),r=i(s)?s:t.symbol,l=t.geometry;return o(l)?null:\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,l,r):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),i(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),i(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{i(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&i(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){i(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&i(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,s,r){if(r=r||f(s),o(r))return null;let l=this._circleCollisionCache;if(\"point\"!==s.type||\"simple-marker\"!==r.type)return S(t,s,e)?1:null;if(o(l)||!l.originalPoint.equals(s)){const t=s,i=e.spatialReference;if(g(t.spatialReference,i)){const e=y(t,i);l={originalPoint:t.clone(),mapPoint:e,radiusPx:c(r.size)},this._circleCollisionCache=l}}if(i(l)){const i=h(t,G),o=e.toScreen(l.mapPoint),s=l.radiusPx,a=o.x+c(r.xoffset),n=o.y-c(r.yoffset);return _(i,[a,n])<s*s?1:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&d(o,w,e.renderSpatialReference)?u(w,e.state.camera.eye):null}};e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"graphic\",null),e([r({readOnly:!0,dependsOn:[\"graphic\"]})],C.prototype,\"elevationInfo\",null),e([r({constructOnly:!0,nonNullable:!0})],C.prototype,\"view\",void 0),e([r({value:null})],C.prototype,\"focusedSymbol\",null),e([r({constructOnly:!0})],C.prototype,\"layer\",void 0),e([r()],C.prototype,\"interactive\",void 0),e([r()],C.prototype,\"selectable\",void 0),e([r()],C.prototype,\"grabbable\",void 0),e([r({value:!1})],C.prototype,\"grabbing\",null),e([r()],C.prototype,\"dragging\",void 0),e([r()],C.prototype,\"hovering\",null),e([r({value:!1})],C.prototype,\"selected\",null),e([r()],C.prototype,\"cursor\",void 0),C=e([l(\"esri.views.interactive.GraphicManipulator\")],C);const w=m(),G=p();export{C as GraphicManipulator};\n"],"sourceRoot":""}