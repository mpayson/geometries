{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/collisions/Metric.js","../node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js","../node_modules/@arcgis/core/views/2d/engine/webgl/util/Reader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js","../node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js","../node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js","../node_modules/@arcgis/core/views/2d/engine/webgl/Fader.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js","../node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayList.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js","../node_modules/@arcgis/core/core/CircularArray.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/AttributeStoreView.js","../node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","../node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js"],"names":["i","e","tiles","Map","this","clear","layer","layerView","tileInfoView","isUpdating","t","createTile","once","notifyChange","set","id","forEach","delete","key","disposeTile","isReady","requestUpdate","s","prototype","o","r","a","_pointToCallbacks","_layer","_layerView","attributeView","update","hasAnimation","painter","effects","integrate","draw","requestRender","promise","minScale","maxScale","state","scale","hasLabels","featureReduction","type","labelsVisible","labelingInfo","length","registerRenderPass","name","brushes","label","target","children","drawPhase","LABEL","LABEL_ALPHA","fill","line","marker","text","enableDefaultDraw","hasEffects","apply","outsideEffect","enable","args","effectLists","excluded","insideEffect","included","hittest","size","HIGHLIGHT","highlight","hasHighlight","n","featuresView","addChild","removeChild","destroy","hitTest","indexOf","visualVariables","map","clone","normalizationField","valueExpression","field","setRendererInfo","get","tileKey","onTileData","data","view","labelManager","onTileError","forceTextureUpload","lockTextureUpload","lockUploads","unlockTextureUpload","unlockUploads","getMaterialItems","isDirty","getTileBounds","addTile","removeTile","l","u","push","serialize","readInt32","Array","deserialize","getLogger","d","h","range","boxes","minZoom","directionX","directionY","offsetX","offsetY","placementPadding","anchor","baseZoom","x","y","bounds","extend","Math","floor","xBucket","yBucket","hasVV","xOverflow","yOverflow","min","ceil","width","height","findCollisionDelta","abs","_boxesToBoxes","_boxesToBox","_boxToBoxes","error","isNaN","_computeOffset","round","max","from","count","writeF32","f","c","readF32","b","m","p","g","setPlacementOffset","computeIndex","vertexData","vertexCount","indexData","geometryType","materialKey","maxZoom","meshData","symbolLevel","zOrder","vertexFrom","indexFrom","indexCount","_sortKey","_computeSortKey","copy","stride","writeMeshDataToBuffers","_pos","_roundToNearest","BYTES_PER_ELEMENT","_array","ArrayBuffer","_buffer","_ctor","byteLength","_ensureSize","Float32Array","slice","insertAfter","displayRecords","metrics","buffer","indexBuffer","Uint32Array","namedBuffers","decode","indexVector","namedVectors","fromVertexVector","triangleCountReportedInDebug","transforms","dvs","tileMat3","triangleCount","coordRange","texture","dispose","_coords","_bounds","resolution","pixelRatio","toScreenNoRotation","coords","displayViewMat3","warn","_i32View","Int32Array","_f32View","vertexVectorsMap","_currentIndex","_currentRecordOffset","_currentMetricOffset","_currentMetrics","features","records","_bufDisplayObjects","_bufDisplayRecords","_bufMetrics","_vertexBuffersMap","intoBuffers","incr","hasDisplayRecords","setValue","_rollbackDisplayObject","transfer","bufDisplayObjects","bufRecords","bufMetrics","vertexBuffersMap","decr","seek","level","row","col","_tileInfoView","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","DEBUG","MAP","getStencilTarget","has","getTileResolution","setTransform","stencilRef","allDirty","_dirties","indices","vertices","buffers","Object","keys","_largestRange","_parent","_updateLargestRange","_freeHead","next","_size","_allocated","prev","_bookKeeper","rangeCreated","findBestRange","rangeResized","_removeRange","findAdjacentRanges","_fuse","largestRange","_strides","_displayList","_freeListsAndStorage","_dirtyMap","vtxFreeList","idxFreeList","vertexBuffers","_freeVertices","_freeIndices","removeFromList","_allocateVertices","_allocateIndices","_storageFor","markDirtyIndices","markDirtyVertices","addToList","setMeshDataFromBuffers","vertexBuffer","allocate","fragmentation","free","getStrides","tileDisplayData","displayObjects","displayList","tileBufferData","geometries","duration","_lastTime","_elapsed","_value","_finished","performance","now","geometryMap","createIndex","vao","createVertex","vertexBufferMap","_upload","_uploadIndices","_uploadVertices","setSubData","setData","_","Set","_data","_wglBuffers","_deferPatches","_labelIndex","_lastCommitTime","_patchQueue","fader","_dirty","_replaceBuffers","_uploadsLocked","_hasData","_invalidated","labelMat2d","_ensureCorrectZOrder","_displayObjects","getScreenTransform","viewMat2d","addOrUpdate","remove","computeDisplayList","_dispRecStore","fromTileData","markAllDirty","end","ready","enqueue","_doPatchData","emit","time","step","dequeue","visible","context","hasDirty","upload","_rebuildLabelIndex","markAllClean","_bulkAddFeatures","reshuffleBulkAdd","objectIndex","recordIndex","_patchData","reshuffle","_initLabelIndex","_insertIntoLabelIndex","labelIndex","displayObjectRegistry","FILL","LINE","tryAddMeshData","splice","unshift","unified","getDPInfoType","add","splitAfter","setMeshData","_byGeometryType","MARKER","TEXT","symbolLevels","zLevels","geometryDPInfo","getGeometryBrush","getGeometry","prepareState","drawGeometry","isArray","_addToList","_removeFromList","_getDisplayList","zLevel","console","_displayObjectRegistry","_deserializeObjects","reset","needMore","indicesFor","_computeVertexAlignment","verticesFor","_align","D","getBuffers","_guessSize","result","displayData","bufferData","transferList","deserializeDisplayObjects","fromMeshData","icon","writeAllMeshDataToBuffers","Number","POSITIVE_INFINITY","_start","maxSize","isFinite","sqrt","value","expression","stops","values","sizes","vvFields","vvRanges","SIZE_MINMAX_VALUE","minMaxValue","minDataValue","maxDataValue","minSize","SIZE_SCALE_STOPS","scaleStops","SIZE_FIELD_STOPS","levels","fieldStops","SIZE_UNIT_VALUE","unitValue","unit","valueUnit","valueRepresentation","color","opacity","v","rotation","rotationType","opacities","colors","z","w","S","U","_texture","_lastTexture","_fbos","texelSize","pixelType","textureOnly","T","shared","_resetRange","detachColorTexture","wrapMode","pixelFormat","dataType","samplingMode","dirtyStart","dirtyEnd","_initTexture","colorTarget","depthStencilTarget","getTexture","_textureDesc","Atomics","load","locked","debug","updateData","start","layout","descriptor","getFBO","getBoundFramebufferObject","getViewport","bindFramebuffer","readPixels","setViewport","j","_initialized","_forceNextUpload","_locked","blocks","resize","_defaultTexture","getData","_pendingAttributeUpdate","resolver","_getDefaultTexture","bindTexture","updateTexture","Uint8Array","vvColorValues","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","ddColors","ddBackgroundColor","ddActiveDots","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_vvSizeFieldStops","parseFloat","pow","_vvInfo","_updateVisualVariables","_updateEffects","_updateDotDensityInfo","ddDotBlending","outsideLabelsVisible","oesTextureFloat","supportsTextureFloat","filter","enabled","excludedLabelsVisible","vvSizeScaleStopsValue","spatialReference","vvSizeUnitValueToPixelsRatio","attributes","ddDotValue","dotValue","ddDotScale","referenceScale","ddDotSize","dotSize","dotBlendingEnabled","ddSeed","seed","backgroundColor","_rendererInfo","_materialItemsRequestQueue","removeAllChildren","setInfo","items","abortOptions","contains","capabilities","textureFloat","pop","_processMaterialItemRequest","commitChanges","rendererInfo","textureManager","rasterizeItem","symbol","glyphIds","then","stage","mosaicItem","resolve","reject"],"mappings":"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","file":"static/js/67.8ef120da.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../../../../core/promiseUtils.js\";import{WGLDrawPhase as s}from\"../../../../engine/webgl/enums.js\";import{brushes as t}from\"../../../../engine/brushes.js\";import{FeatureContainer as i}from\"../../../../engine/FeatureContainer.js\";class a extends i{constructor(e,s,t){super(e),this._pointToCallbacks=new Map,this._layer=t,this._layerView=s}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}hitTest(s,t){const i=[s,t],a=e();return this._pointToCallbacks.set(i,a),this.requestRender(),a.promise}doRender(e){const{minScale:s,maxScale:t}=this._layer,i=e.state.scale;i<=(s||1/0)&&i>=t&&super.doRender(e)}get hasAnimation(){return this.hasLabels}get hasLabels(){const e=this._layer.featureReduction,s=e&&\"cluster\"===e.type&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo&&this._layer.labelingInfo.length&&this._layer.labelsVisible||!!s}get labelsVisible(){return this._layer.labelsVisible}prepareRenderPasses(e){const i=e.registerRenderPass({name:\"label\",brushes:[t.label],target:()=>this.hasLabels?this.children:null,drawPhase:s.LABEL|s.LABEL_ALPHA}),a=e.registerRenderPass({name:\"geometry\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.excluded},{apply:e.effects.insideEffect,enable:()=>this._layerView.hasEffects,args:()=>this._layerView.effectLists.included},{apply:e.effects.hittest,enable:()=>!!this._pointToCallbacks.size,args:()=>this._pointToCallbacks}]}),r=e.registerRenderPass({name:\"highlight\",brushes:[t.fill,t.line,t.marker,t.text],target:()=>this.children,drawPhase:s.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return[...super.prepareRenderPasses(e),a,r,i]}}export{a as WGLFeatureView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{create as i}from\"../../../../../geometry/support/aaBoundingRect.js\";import{WGLTile as s}from\"../../../engine/webgl/WGLTile.js\";import{simplifyVVRenderer as r}from\"../support/rendererUtils.js\";import{convertVisualVariables as a}from\"./support/visualVariablesUtils.js\";import l from\"./BaseTileRenderer.js\";import{WGLFeatureView as o}from\"./support/WGLFeatureView.js\";let n=class extends l{install(e){const t=new o(this.tileInfoView,this.layerView,this.layer);this.featuresView=t,e.addChild(t)}uninstall(e){e.removeChild(this.featuresView),this.featuresView.destroy()}hitTest(e,t){return this.featuresView.hitTest(e,t)}supportsRenderer(e){return null!=e&&-1!==[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\"].indexOf(e.type)}onConfigUpdate(e){let t=null;if(\"visualVariables\"in e){const i=(r(e).visualVariables||[]).map((e=>{const t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t}));t=a(i)}this.featuresView.setRendererInfo(e,t,this.layerView.effects)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lockUploads()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlockUploads()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&(this.tiles.forEach((e=>e.isDirty=!0)),this.layerView.view.labelManager.requestUpdate())}createTile(e){const t=this.tileInfoView.getTileBounds(i(),e),r=new s(e,t);return this.featuresView.hasLabels&&this.layerView.view.labelManager.addTile(this.layerView,r),r}disposeTile(e){this.featuresView.removeChild(e),this.featuresView.hasLabels&&this.layerView.view.labelManager.removeTile(this.layerView,e.key.id),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};n=e([t(\"esri.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],n);var u=n;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nfunction e(e,n){if(null!==n){e.push(n.length);for(const r of n)r.serialize(e);return e}e.push(0)}function n(e,n,r){const t=e.readInt32(),o=new Array(t);for(let t=0;t<o.length;t++)o[t]=n.deserialize(e,r);return o}export{n as deserializeList,e as serializeList};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Logger.js\";import{COLLISION_BUCKET_SIZE as s,COLLISION_MAX_ZOOM_DELTA as i,TILE_SIZE as e}from\"../definitions.js\";import{f as o}from\"../../../../../chunks/vec2f32.js\";import h from\"./BoundingBox.js\";import{serializeList as n,deserializeList as r}from\"../util/serializationUtils.js\";const a=t.getLogger(\"esri/views/2d/engine/webgl/collisions/Metric\");class d{constructor(t,s,i,e,h){this.id=t,this.range=s,this.boxes=null,this.minZoom=-1,this.size=0,this.directionX=0,this.directionY=0,this.offsetX=0,this.offsetY=0,this.placementPadding=0,this.anchor=o(i,e),this.baseZoom=h}add(t,s,i){t.x=t.x+s,t.y=t.y+i,this.bounds?this.boxes?(this.boxes.push(t),this.bounds.extend(t)):(this.boxes=[this.bounds,t],this.bounds=this.bounds.clone(),this.bounds.extend(t)):this.bounds=t}computeIndex(){const t=this.anchor[0],i=this.anchor[1],o=Math.floor(t/s),h=Math.floor(i/s);this.xBucket=o,this.yBucket=h;const n=e/s;if(this.hasVV)return this.xOverflow=n,void(this.yOverflow=n);this.xOverflow=Math.min(n,Math.ceil(2*this.bounds.width/s)),this.yOverflow=Math.min(n,Math.ceil(2*this.bounds.height/s))}findCollisionDelta(t){const s=this.bounds.findCollisionDelta(t.bounds),e=this.boxes&&this.boxes.length,o=t.boxes&&t.boxes.length;return Math.abs(s)>i||!e&&!o?s:e&&o?this._boxesToBoxes(t):e?this._boxesToBox(t):this._boxToBoxes(t)}computeVVOffset(t,s){s||a.error(\"mapview-labeling\",`Unable to compute label offset. Expected an evaluator function but found ${s}`);let i=this.size;if(this.hasVV){const e=s(t);i=isNaN(e)||null==e||e===1/0?this.size:e}this._computeOffset(i)}setPlacementOffset(t,s,i,e,o){this.hasVV=t,this.size=s,this.placementPadding=Math.round(i),this.directionX=e,this.directionY=o}clone(){const t=new d(this.id,this.range,this.anchor[0],this.anchor[1],this.baseZoom);return t.minZoom=this.minZoom,this.bounds&&(t.bounds=this.bounds.clone()),this.boxes&&(t.boxes=this.boxes.map((t=>t.clone()))),t.xBucket=this.xBucket,t.yBucket=this.yBucket,t.xOverflow=this.xOverflow,t.yOverflow=this.yOverflow,t.hasVV=this.hasVV,t.size=this.size,t.directionX=this.directionX,t.directionY=this.directionY,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t}_boxToBoxes(t){let s=-1/0;for(const i of t.boxes){const t=this.bounds.findCollisionDelta(i);s=Math.max(t,s)}return s}_boxesToBox(t){let s=this.boxes[0].findCollisionDelta(t.bounds);for(let i=1;i<this.boxes.length;i++){const e=this.boxes[i].findCollisionDelta(t.bounds);s=Math.max(e,s)}return s}_boxesToBoxes(t){let s=-1/0;for(let i=0;i<this.boxes.length;i++){const e=this.boxes[i];for(const i of t.boxes){const t=e.findCollisionDelta(i);s=Math.max(t,s)}}return s}_computeOffset(t){this.offsetX=this.directionX*(t/2+this.placementPadding),this.offsetY=this.directionY*(t/2+this.placementPadding)}serialize(t){return t.push(this.id),this.bounds.serialize(t),t.push(this.range.from),t.push(this.range.count),t.push(this.anchor[0]),t.push(this.anchor[1]),t.push(this.baseZoom),t.push(this.hasVV?1:0),t.push(this.size),t.writeF32(this.directionX),t.writeF32(this.directionY),t.push(this.offsetX),t.push(this.offsetY),t.push(this.placementPadding),n(t,this.boxes),t}static deserialize(t){const s=t.readInt32(),i=h.deserialize(t),e={from:t.readInt32(),count:t.readInt32()},o=t.readInt32(),n=t.readInt32(),a=t.readInt32(),f=t.readInt32(),l=t.readInt32(),c=t.readF32(),u=t.readF32(),b=t.readInt32(),x=t.readInt32(),m=t.readInt32(),p=r(t,h),g=new d(s,e,o,n,a);return g.bounds=i,g.boxes=p,g.setPlacementOffset(!!f,l,m,c,u),g.offsetX=b,g.offsetY=x,g.computeIndex(),f||g._computeOffset(l),g}}export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(){this.vertexData=new Map,this.vertexCount=0,this.indexData=[]}clear(){this.vertexData.clear(),this.vertexCount=0,this.indexData=[]}update(t,e,a){for(const e in t)this.vertexData.set(e,t[e]);for(const e in this.vertexData)null===t[e]&&this.vertexData.delete(e);this.vertexCount=e,this.indexData=a}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{strideToPackingFactor as t}from\"./Utils.js\";import e from\"./MeshData.js\";class s{constructor(t,e,s,r=0,i=0){this.id=t,this.geometryType=e,this.materialKey=s,this.minZoom=r,this.maxZoom=i,this.meshData=null,this.symbolLevel=0,this.zOrder=0,this.vertexFrom=0,this.vertexCount=0,this.indexFrom=0,this.indexCount=0}get sortKey(){return void 0===this._sortKey&&this._computeSortKey(),this._sortKey}clone(){return this.copy()}copy(){const t=new s(this.id,this.geometryType,this.materialKey);return t.vertexFrom=this.vertexFrom,t.vertexCount=this.vertexCount,t.indexFrom=this.indexFrom,t.indexCount=this.indexCount,t.zOrder=this.zOrder,t.symbolLevel=this.symbolLevel,t.meshData=this.meshData,t.minZoom=this.minZoom,t.maxZoom=this.maxZoom,t}setMeshDataFromBuffers(s,r,i){const o=new e;for(const e in r){const i=r[e].stride,a=r[e].data,h=[],n=t(i);for(let t=0;t<i*s.vertexCount/n;++t)h[t]=a[t+i*s.vertexFrom/n];o.vertexData.set(e,h)}o.indexData.length=0;for(let t=0;t<s.indexCount;++t)o.indexData[t]=i[t+s.indexFrom]-s.vertexFrom;o.vertexCount=s.vertexCount,this.meshData=o}readMeshDataFromBuffers(s,r){this.meshData?this.meshData.clear():this.meshData=new e;for(const e in s){const r=s[e].stride,i=s[e].data,o=[],a=t(r);for(let t=0;t<r*this.vertexCount/a;++t)o[t]=i[t+r*this.vertexFrom/a];this.meshData.vertexData.set(e,o)}this.meshData.indexData.length=0;for(let t=0;t<this.indexCount;++t)this.meshData.indexData[t]=r[t+this.indexFrom]-this.vertexFrom;this.meshData.vertexCount=this.vertexCount}writeMeshDataToBuffers(e,s,r,i){for(const r in s){const i=s[r].stride,o=this.meshData.vertexData.get(r),a=s[r].data,h=t(i);for(let t=0;t<i*this.meshData.vertexCount/h;++t)a[t+i*e/h]=o[t]}for(let t=0;t<this.meshData.indexData.length;++t)i[t+r]=this.meshData.indexData[t]+e;this.vertexFrom=e,this.vertexCount=this.meshData.vertexCount,this.indexFrom=r,this.indexCount=this.meshData.indexData.length}static writeAllMeshDataToBuffers(t,e,s){let r=0,i=0;for(const o of t)o.writeMeshDataToBuffers(r,e,i,s),r+=o.vertexCount,i+=o.indexCount}_computeSortKey(){this._sortKey=(31&this.symbolLevel)<<12|(127&this.zOrder)<<4|7&this.geometryType}serialize(t){return t.push(this.geometryType),t.push(this.materialKey),t.push(this.vertexFrom),t.push(this.vertexCount),t.push(this.indexFrom),t.push(this.indexCount),t.push(this.minZoom),t.push(this.maxZoom),t}static deserialize(t,e){const r=t.readInt32(),i=t.readInt32(),o=new s(e.id,r,i);return o.vertexFrom=t.readInt32(),o.vertexCount=t.readInt32(),o.indexFrom=t.readInt32(),o.indexCount=t.readInt32(),o.minZoom=t.readInt32(),o.maxZoom=t.readInt32(),o}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t,s){this._pos=0;const r=s?this._roundToNearest(s,t.BYTES_PER_ELEMENT):40;this._array=new ArrayBuffer(r),this._buffer=new t(this._array),this._ctor=t}get length(){return this._pos}_roundToNearest(t,s){const r=Math.round(t);return r+(s-r%s)}_ensureSize(t){if(this._pos+t>=this._buffer.length){const s=this._roundToNearest(1.5*(this._array.byteLength+t*this._buffer.BYTES_PER_ELEMENT),this._buffer.BYTES_PER_ELEMENT),r=new ArrayBuffer(s),e=new this._ctor(r);e.set(this._buffer,0),this._array=r,this._buffer=e}}writeF32(t){this._ensureSize(1);const s=this._pos;return new Float32Array(this._array,4*this._pos,1)[0]=t,this._pos++,s}push(t){this._ensureSize(1);const s=this._pos;return this._buffer[this._pos++]=t,s}writeFixed(t){this._buffer[this._pos++]=t}setValue(t,s){this._buffer[t]=s}getValue(t){return this._buffer[t]}incr(t){this._buffer[t]++}decr(t){this._buffer[t]--}writeRegion(t){this._ensureSize(t.length);const s=this._pos;return this._buffer.set(t,this._pos),this._pos+=t.length,s}buffer(){const t=this._array.slice(0,4*this._pos);return this.destroy(),t}toArray(){const t=this._array,s=[];for(let r=0;r<t.byteLength/4;r++)s.push(t[r]);return s}seek(t){this._pos=t}destroy(){this._array=null,this._buffer=null}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./WGLDisplayRecord.js\";import{serializeList as i,deserializeList as t}from\"./util/serializationUtils.js\";import e from\"./collisions/Metric.js\";class r{constructor(s){this.insertAfter=null,this.id=s,this.displayRecords=[],this.metrics=[]}copy(){const s=new r(this.id);return s.set(this),s}clone(){const s=new r(this.id);return s.displayRecords=this.displayRecords.map((s=>s.clone())),s.metrics=this.metrics.map((s=>s.clone())),s.insertAfter=this.insertAfter,s}set(s){this.id=s.id,this.displayRecords=s.displayRecords,this.metrics=s.metrics,this.insertAfter=s.insertAfter}serialize(s){return s.push(this.id),i(s,this.metrics),i(s,this.displayRecords),s}static deserialize(i){const c=i.readInt32(),o=new r(c),d={id:c},n=t(i,e);return n.length&&(o.metrics=n),o.displayRecords=t(i,s,d),o}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{allocateTypedArrayBufferwithData as e}from\"../Utils.js\";class t{constructor(e,t,r){this.data=e,this.stride=t,this.vertexCount=r}static decode(r){const s=e(r.data,r.stride),o=r.stride,n=r.vertexCount;return new t(s,o,n)}static fromVertexVector(r){const s=e(r.data.buffer(),r.stride),o=r.stride,n=r.vertexCount;return new t(s,o,n)}}class r{constructor(e,t,r){this.geometryType=e,this.indexBuffer=new Uint32Array(t),this.namedBuffers=r}static decode(e){const s=e.geometryType,o=e.indexBuffer,n={};for(const r in e.namedBuffers)n[r]=t.decode(e.namedBuffers[r]);return new r(s,o,n)}static fromVertexVectors(e){const s=e.geometryType,o=e.indexVector.buffer(),n={};for(const r in e.namedVectors)n[r]=t.fromVertexVector(e.namedVectors[r]);return new r(s,o,n)}}export default t;export{r as VertexBuffers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=(n,l)=>n&&((...n)=>l.warn(\"DEBUG:\",...n))||(()=>null),l=!1;export{l as DEBUG_ATTR_UPDATES,n as createDebugLogger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t){this._pos=0,this._buffer=t,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer)}readInt32(){return this._i32View[this._pos++]}readF32(){return this._f32View[this._pos++]}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../WGLDisplayRecord.js\";import{serializeList as t,deserializeList as e}from\"../util/serializationUtils.js\";import r from\"../collisions/Metric.js\";import i from\"../WGLDisplayObject.js\";import c from\"../util/Reader.js\";import u from\"../util/Writer.js\";class f{constructor(s,t){this.vertexVectorsMap=s,this._currentIndex=-1,this._currentRecordOffset=0,this._currentMetricOffset=0,this._currentMetrics=[];const e=4*(4*t.features+1),r=4*(8*t.records+1),i=4*(20*t.metrics+1);this._bufDisplayObjects=new u(Uint32Array,e+4),this._bufDisplayRecords=new u(Uint32Array,r+4),this._bufMetrics=new u(Uint32Array,i+4),this._bufDisplayObjects.push(0),this._bufDisplayRecords.push(0),this._bufMetrics.push(0)}get vertexBuffersMap(){if(!this._vertexBuffersMap){this._vertexBuffersMap={};for(let s=0;s<this.vertexVectorsMap.length;s++)this._vertexBuffersMap[s]=this.vertexVectorsMap[s].intoBuffers();this.vertexVectorsMap=null}return this._vertexBuffersMap}get(s){return this.vertexVectorsMap[s]}currentDisplayRecordCount(){return this._bufDisplayRecords[this._currentRecordOffset]}writeDisplayObject(s,t){this._bufDisplayObjects.incr(0),this._currentIndex=this._bufDisplayObjects.push(s),this._bufDisplayObjects.push(t),this._bufDisplayObjects.push(0),this._bufDisplayObjects.push(0),this._currentRecordOffset=0,this._currentMetricOffset=0,this._currentMetrics=[]}hasDisplayRecords(){return!(0===this._currentRecordOffset)}endDisplayObject(){this.hasDisplayRecords()?this._currentMetrics&&(0===this._currentMetricOffset&&(this._bufDisplayObjects.setValue(this._currentIndex+3,this._bufMetrics.length),this._currentMetricOffset=this._bufMetrics.length),t(this._bufMetrics,this._currentMetrics)):this._rollbackDisplayObject()}writeDisplayRecord(s,t,e,r,i,c,u=0,f=0){0===this._currentRecordOffset&&(this._currentRecordOffset=this._bufDisplayRecords.push(0),this._bufDisplayObjects.setValue(this._currentIndex+2,this._currentRecordOffset)),this._bufDisplayRecords.incr(this._currentRecordOffset),this._bufDisplayRecords.push(s),this._bufDisplayRecords.push(t),this._bufDisplayRecords.push(e),this._bufDisplayRecords.push(r),this._bufDisplayRecords.push(i),this._bufDisplayRecords.push(c),this._bufDisplayRecords.push(u),this._bufDisplayRecords.push(f)}writeMetrics(s){s&&this._currentMetrics.push(...s)}static deserializeDisplayObjects(t){const{bufDisplayObjects:u,bufMetrics:f,bufRecords:h}=t,p=new c(u),a=new c(h),l=new c(f),n=[];let b=p.readInt32();for(a.readInt32(),l.readInt32();b--;){const t=p.readInt32(),c=p.readInt32(),u=p.readInt32(),f=p.readInt32(),h=new i(t);0!==c&&(h.insertAfter=c),0!==u&&(h.displayRecords=e(a,s,{id:t})),0!==f&&(h.metrics=e(l,r)),n.push(h)}return n}encode(s,t){const e={};for(let s=0;s<this.vertexVectorsMap.length;s++){const r=this.vertexVectorsMap[s];e[s]={},r.transfer(e[s],t)}s.bufDisplayObjects=this._bufDisplayObjects.buffer(),s.bufRecords=this._bufDisplayRecords.buffer(),s.bufMetrics=this._bufMetrics.buffer(),t.push(s.bufDisplayObjects),t.push(s.bufMetrics),t.push(s.bufRecords),s.vertexBuffersMap=e,this.destroy()}destroy(){this.vertexVectorsMap=null,this._bufDisplayObjects=null,this._bufDisplayRecords=null,this._bufMetrics=null}_rollbackDisplayObject(){this._bufDisplayObjects.decr(0),this._bufDisplayObjects.seek(this._bufDisplayObjects.length-4),this._currentIndex=this._bufDisplayObjects.length}}export{f as MeshData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;export default class extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createGeometryData as t}from\"./Utils.js\";function i(t,i,r){if(!t.allDirty)if(null!=t.from&&null!=t.count){const s=Math.min(t.from,i),l=Math.max(t.from+t.count,i+r)-s;t.from=s,t.count=l}else t.from=i,t.count=r}export default class{constructor(){this._dirties=t((()=>({indices:{from:null,count:null,allDirty:!1}})),(()=>({vertices:{from:null,count:null,allDirty:!1}})))}hasDirty(){for(const t of this._dirties)if(null!==t.data.indices.count||t.data.indices.allDirty)return!0;return!1}markAllClean(){for(const t of this._dirties){t.data.indices.from=null,t.data.indices.count=null,t.data.indices.allDirty=!1;for(const i in t.buffers)t.buffers[i].data.vertices.from=null,t.buffers[i].data.vertices.count=null,t.buffers[i].data.vertices.allDirty=!1}}markAllDirty(){for(const t of this._dirties){t.data.indices.allDirty=!0;for(const i in t.buffers)t.buffers[i].data.vertices.allDirty=!0}}forEach(t){for(let i=0;i<this._dirties.length;++i){const r=this._dirties[i],s={};for(const t in r.buffers){const i=r.buffers[t].data.vertices;(i.allDirty||null!=i.from&&null!=i.count&&i.count>0)&&(s[t]=i)}const l=r.data.indices;let n;n=l.allDirty||null!=l.from&&null!=l.count&&l.count>0?{indices:l,vertices:s}:{indices:null,vertices:s},(n.indices||Object.keys(n).length>0)&&t(n,i)}}markDirtyIndices(t,r,s){i(this._dirties[t].data.indices,r,s)}markDirtyVertices(t,r,s,l){i(this._dirties[t].buffers[r].data.vertices,s,l)}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this._largestRange=null,this._parent=e,this._updateLargestRange()}get largestRange(){return this._largestRange}rangeCreated(e){(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}rangeResized(e,t){e===this._largestRange?e.count<t&&this._updateLargestRange():(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}findBestRange(e){let t=this._parent._freeHead,n=null;for(;null!==t;)t.count>=e&&(!n||t.count-e<n.count-e)&&(n=t),t=t.next;return n}findAdjacentRanges(e,t){let n=!0,r=!1,s=null,o=this._parent._freeHead;for(;n&&!r;){const a=null!==s?s.from+s.count:0,l=null!==o?o.from:this._parent._size;e>=a&&e+t<=l?(n=!1,r=!0):null!==o?(s=o,o=o.next):n=!1}return[s,o]}_updateLargestRange(){let e=null,t=this._parent._freeHead;for(;null!==t;)(!e||t.count>e.count)&&(e=t),t=t.next;this._largestRange=e}}class t{constructor(t,n){this._allocated=0,this._size=t,this._freeHead=t>0?{from:0,count:t,prev:null,next:null}:null,this._bookKeeper=n||new e(this),this._freeHead&&this._bookKeeper.rangeCreated(this._freeHead)}allocate(e){const n=this._bookKeeper.findBestRange(e);if(null===n)return-1;const r=n.from,s=n.count;if(n.from+=e,n.count-=e,this._bookKeeper.rangeResized(n,r,s),this._allocated+=e,0===n.count){const e=null!==n.prev?this._freeHead:n.next;t._removeRange(n),this._freeHead=e}return r}free(e,n){const[r,s]=this._bookKeeper.findAdjacentRanges(e,n),o={from:e,count:n,prev:r,next:s};if(null!==r&&(r.next=o),null!==s&&(s.prev=o),this._bookKeeper.rangeCreated(o),this._allocated-=n,null!==s&&o.from+o.count===s.from){const e=o.from,n=o.count;t._fuse(o,s),t._removeRange(s),this._bookKeeper.rangeResized(o,e,n),this._bookKeeper.rangeResized(s,void 0,0)}if(null!==r&&r.from+r.count===o.from){const e=r.from,n=r.count;t._fuse(r,o),t._removeRange(o),this._bookKeeper.rangeResized(r,e,n),this._bookKeeper.rangeResized(o,void 0,0)}this._freeHead=null!==o.prev?this._freeHead:o}get fragmentation(){const e=this._size-this._allocated;if(0===e)return 0;return 1-this._bookKeeper.largestRange.count/e}static _removeRange(e){null!==e.prev?null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev.next=null:null!==e.next&&(e.next.prev=null)}static _fuse(e,t){e.count+=t.count,e.next=t.next,t.from+=t.count,t.count=0,null!==t.next&&(t.next.prev=e)}}export{t as FreeList};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{allocateTypedArrayBuffer as e,strideToPackingFactor as t,copyMeshData as r}from\"./Utils.js\";import{FreeList as i}from\"./FreeList.js\";const s=[\"FILL\",\"LINE\",\"MARKER\",\"TEXT\",\"LABEL\"];class o{constructor(t,r,s,o){this._strides=t,this._displayList=r,this._freeListsAndStorage={},this._dirtyMap=null,this._dirtyMap=s;for(const r in t){this._freeListsAndStorage[r]={vtxFreeList:o?new i(o):null,idxFreeList:o?new i(o):null,vertexBuffers:{},indexBuffer:o?new Uint32Array(o):null};for(const i in t[r])this._freeListsAndStorage[r].vertexBuffers[i]={data:o?e(o,t[r][i]):null,stride:t[r][i]}}}static fromTileData(e,r){const n=function(e){const t=e.getStrides(),r={};for(let e=0;e<t.length;e++)r[s[e]]=t[e];return r}(e),d=[0,0,0,0,0],a=[0,0,0,0,0],x=e.tileDisplayData.displayObjects;for(const e of x)for(const t of e.displayRecords)d[t.geometryType]=Math.max(d[t.geometryType],t.vertexFrom+t.vertexCount),a[t.geometryType]=Math.max(a[t.geometryType],t.indexFrom+t.indexCount);const u=new o(n,e.tileDisplayData.displayList,r,null);for(let r=0;r<e.tileBufferData.geometries.length;++r){const o=d[r],n=a[r],x=e.tileBufferData.geometries[r],f=s[r],l=u._storageFor(f),c=e.tileBufferData.geometries[r].indexBuffer;let m;l.indexBuffer=c,l.idxFreeList=new i(c.length),l.idxFreeList.allocate(n);for(const i in x.vertexBuffer){const s=e.tileBufferData.geometries[r].vertexBuffer[i];l.vertexBuffers[i].data=s.data,l.vertexBuffers[i].stride=s.stride;const o=t(s.stride),n=s.data.length*o/s.stride;m||(m=n)}l.vtxFreeList=new i(m),l.vtxFreeList.allocate(o)}return u}delete(e){const t=s[e.geometryType];this._freeVertices(t,e.vertexFrom,e.vertexCount),this._freeIndices(t,e.indexFrom,e.indexCount),this._displayList.removeFromList(e),e.vertexFrom=void 0,e.indexFrom=void 0}setMeshData(e,t,i,o,n){const d=s[e.geometryType];let a,x;e.meshData=null,void 0===e.vertexFrom?(x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount>e.vertexCount?(this._freeVertices(d,e.vertexFrom,e.vertexCount),x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount===e.vertexCount?(a=e.vertexFrom,x=e.vertexCount):(this._freeVertices(d,e.vertexFrom+t.vertexCount,e.vertexCount-t.vertexCount),a=e.vertexFrom,x=t.vertexCount);let u,f,l,c=!0;if(void 0===e.indexFrom?(u=n,l=t.indexCount,f=this._allocateIndices(d,l)):t.indexCount>e.indexCount?(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom,e.indexCount),l=t.indexCount,f=this._allocateIndices(d,l)):t.indexCount===e.indexCount?(c=!1,f=e.indexFrom,l=e.indexCount):(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom+t.indexCount,e.indexCount-t.indexCount),f=e.indexFrom,l=t.indexCount),-1!==a&&-1!==f){const s=this._storageFor(d);if(r(a,f,s.vertexBuffers,s.indexBuffer,t,i,o),e.vertexFrom=a,e.indexFrom=f,e.vertexCount=t.vertexCount,e.indexCount=t.indexCount,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in i)this._dirtyMap.markDirtyVertices(e.geometryType,t,e.vertexFrom,e.vertexCount)}return c&&this._displayList.addToList(e,u),!0}return-1!==a&&this._freeVertices(d,a,x),-1!==f&&this._freeIndices(d,f,l),e.setMeshDataFromBuffers(t,i,o),e.vertexFrom=void 0,e.vertexCount=0,e.indexFrom=void 0,e.indexCount=0,!1}tryAddMeshData(e,t){const i=t.vertexBuffer,o=t.indexBuffer,n=s[e.geometryType],d=this._allocateVertices(n,e.vertexCount);if(-1===d)return this._freeVertices(n,d,e.vertexCount),!1;const a=this._allocateIndices(n,e.indexCount);if(-1===a)return this._freeVertices(n,d,e.vertexCount),this._freeIndices(n,a,e.indexCount),!1;const x=this._storageFor(n);if(r(d,a,x.vertexBuffers,x.indexBuffer,e,i,o),e.vertexFrom=d,e.indexFrom=a,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in i)this._dirtyMap.markDirtyVertices(e.geometryType,t,d,e.vertexCount)}return this._displayList.addToList(e),!0}_allocateVertices(e,t){const r=this._storageFor(e),i=r.vtxFreeList.allocate(t);if(-1===i)return-1;return r.vtxFreeList.fragmentation>.5?-1:i}_freeVertices(e,t,r){this._storageFor(e).vtxFreeList.free(t,r)}_freeIndices(e,t,r){this._storageFor(e).idxFreeList.free(t,r)}_allocateIndices(e,t){const r=this._storageFor(e),i=r.idxFreeList.allocate(t);if(-1===i)return-1;return r.idxFreeList.fragmentation>.5?-1:i}_storageFor(e){return this._freeListsAndStorage[e]}_stridesFor(e,t){return this._strides[e][t]}}export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(t=400){this.duration=t,this._lastTime=0,this._elapsed=0,this._value=0,this._finished=!1}get value(){return this._value}reset(){this._lastTime=0,this._elapsed=0,this._value=0}step(){const t=performance.now();if(0===this._lastTime)return this._lastTime=t,this._value=0,!0;if(this._elapsed>=this.duration)return!0;const s=t-this._lastTime;return this._elapsed+=s,this._lastTime=t,this._value=Math.min(this._elapsed/this.duration,1),!1}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import\"../../../../core/mathUtils.js\";import\"../../../../chunks/builtins.js\";import e from\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{createGeometryData as t,C_VBO_INFO as r}from\"./Utils.js\";export default class{constructor(s){this.geometryMap=t((()=>({indexBuffer:e.createIndex(s,35044),vao:null})),((t,f)=>({vertexBuffer:e.createVertex(s,r[f])})))}dispose(){for(let e=0;e<5;e++){const t=this.geometryMap[e];if(t){t.data.vao&&t.data.vao.dispose(!1),t.data.indexBuffer&&t.data.indexBuffer.dispose();for(const e in t.buffers)t.buffers[e]&&t.buffers[e].data.vertexBuffer.dispose()}}}get(e){const t=this.geometryMap[e],r={};for(const e in t.buffers)r[e]=t.buffers[e].data.vertexBuffer;return{indexBuffer:t.data.indexBuffer,get vao(){return t.data.vao},set vao(e){t.data.vao=e},vertexBufferMap:r}}has(e){return null!=this.geometryMap[e]}upload(e,t){t.forEach(((t,r)=>{this._upload(t,r,e)}))}_upload(e,t,r){if(e.indices&&(e.indices.allDirty?this._uploadIndices(r,t):null!=e.indices.from&&null!=e.indices.count&&this._uploadIndices(r,t,e.indices.from,e.indices.count)),e.vertices){const s=e.vertices;for(const e in s){const f=s[e];f.allDirty?this._uploadVertices(r,t,e):null!=f.from&&null!=f.count&&this._uploadVertices(r,t,e,f.from,f.count)}}}_uploadVertices(e,t,r,s,f){const a=this.geometryMap[t];if(!a)return;const i=e.geometries[t].vertexBuffer[r];if(!i)return;const o=i.stride,u=i.data.buffer;a.buffers[r]&&u.byteLength>0&&(null!=s&&null!=f?a.buffers[r].data.vertexBuffer.setSubData(u,s*o,s*o,(s+f)*o):a.buffers[r].data.vertexBuffer.setData(u))}_uploadIndices(e,t,r,s){const f=this.geometryMap[t];if(!f)return;const a=e.geometries[t].indexBuffer.buffer;f.data.indexBuffer&&a.byteLength>0&&(null!=r&&null!=s?f.data.indexBuffer.setSubData(a,4*r,4*r,4*(r+s)):f.data.indexBuffer.setData(a))}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import e from\"../../../../core/CircularArray.js\";import{t as s}from\"../../../../chunks/vec2.js\";import{TILE_SIZE as i,COLLISION_BUCKET_SIZE as a}from\"./definitions.js\";import{i as r,t as l,m as d}from\"../../../../chunks/mat2d.js\";import{c as h}from\"../../../../chunks/mat2df32.js\";import{c as o}from\"../../../../chunks/vec2f32.js\";import{TiledDisplayObject as p}from\"./TiledDisplayObject.js\";import{WGLGeometryType as c}from\"./enums.js\";import n from\"./DirtyMap.js\";import y from\"./DisplayRecordStore.js\";import f from\"./Fader.js\";import u from\"./WGLBuffers.js\";const _=new Set;class m extends p{constructor(t,s,a=!1){super(t,s,[i,i]),this._data=null,this._displayList=null,this._wglBuffers=null,this._deferPatches=!1,this._dirtyMap=new n,this._labelIndex=null,this._lastCommitTime=0,this._patchQueue=new e(100),this.fader=new f,this._dirty=!0,this._replaceBuffers=!1,this._uploadsLocked=!1,this._hasData=!1,this._invalidated=!1,this.transforms.labelMat2d=h(),this._ensureCorrectZOrder=a,this._deferPatches=!a}destroy(){super.destroy(),this.clear()}get displayObjects(){var t;return null!=(t=this._displayObjects)?t:[]}get isDirty(){return this._dirty}get hasData(){return!!this._hasData}get labelIndex(){return this._labelIndex}set isDirty(t){this._dirty=t,this.requestRender()}getGeometry(t){return this._wglBuffers&&this._wglBuffers.has(t)?this._wglBuffers.get(t):null}getDisplayList(){return this._displayList}setTransform(t,e){super.setTransform(t,e);const i=this.transforms.labelMat2d,a=t.getScreenTransform(i,e),h=o();s(h,this.coords,a),r(i),l(i,i,h),d(i,t.viewMat2d,i)}setData(t){const e=t.addOrUpdate,s=t.remove;t.clear&&(this.clear(),this._patchQueue.clear(),this._hasData=!1),\"replace\"===t.type&&(this._replaceBuffers=!0,this._patchQueue.clear(),this._data=null),!this._data&&e&&e.tileDisplayData.displayObjects.length?(e.tileDisplayData.computeDisplayList(this._ensureCorrectZOrder),this._dirtyMap=new n,this._dispRecStore=y.fromTileData(e,this._dirtyMap),this._data=e,this._dirtyMap.markAllDirty(),this._hasData=!0,t.end&&this.ready()):this._data&&(e&&e.tileDisplayData.displayObjects.length||s.length)?this._deferPatches?this._patchQueue.enqueue(t):this._doPatchData(t):t.end&&this.ready(),t.end&&!this._data&&this.clear(),this.requestRender(),this.emit(\"change\")}lockUploads(){this._uploadsLocked=!0}unlockUploads(){this._uploadsLocked=!1,this.requestRender()}commitChanges(e){if(!e.time||e.time!==this._lastCommitTime){if(this._lastCommitTime=e.time,this.fader.step()||this.requestRender(),this._patchQueue.size){const e=this._patchQueue.dequeue();t(e)&&(e.end&&this.ready(),this._doPatchData(e),this.requestRender(),this._hasData=!0)}if(this._uploadsLocked)this.requestRender();else if(this.visible&&this._data){if(this._replaceBuffers)for(this._wglBuffers&&this._wglBuffers.dispose(),this._wglBuffers=null,this._replaceBuffers=!1;this._patchQueue.size;){const e=this._patchQueue.dequeue();t(e)&&(e.end&&this.ready(),this._doPatchData(e),this._hasData=!0)}this._wglBuffers||(this._wglBuffers=new u(e.context)),(this._dirtyMap.hasDirty()||this._invalidated)&&(this._invalidated=!1,this._wglBuffers.upload(this._data.tileBufferData,this._dirtyMap),this._displayList=this._data.tileDisplayData.displayList.clone(),this._displayObjects=this._data.tileDisplayData.displayObjects.slice(),this._rebuildLabelIndex(),this._dirtyMap.markAllClean())}}}clear(){this._data=null,this._displayList=null,this._dispRecStore=null,this._wglBuffers&&(this._wglBuffers.dispose(),this._wglBuffers=null)}_doPatchData(t){try{if(\"new\"===t.type){if(!t.addOrUpdate)return;this._invalidated=!0;const e=this._bulkAddFeatures(t);e&&(this._dirtyMap.markAllDirty(),this._data.reshuffleBulkAdd(t,e.objectIndex,e.recordIndex),this._dispRecStore=y.fromTileData(this._data,this._dirtyMap))}else this._invalidated=!0,this._patchData(t)||(this._dirtyMap.markAllDirty(),this._data.reshuffle(),this._dispRecStore=y.fromTileData(this._data,this._dirtyMap))}catch(t){}this.requestRender()}_rebuildLabelIndex(){var t,e;if(!(null==(t=this._data)||null==(e=t.tileBufferData.geometries[c.LABEL])||!e.indexBuffer.length)){this.isDirty=!0,this._labelIndex=this._initLabelIndex();for(const t of this.displayObjects)for(const e of t.metrics)this._insertIntoLabelIndex(e)}}_insertIntoLabelIndex(t){if(t.xBucket<0||t.yBucket<0||t.yBucket>3||t.xBucket>3)return;this.labelIndex[t.yBucket][t.xBucket].push(t)}_initLabelIndex(){const t=[];for(let e=0;e<i/a;e++){t.push([]);for(let s=0;s<i/a;s++)t[e].push([])}return t}_bulkAddFeatures(t){const e=t.addOrUpdate.tileDisplayData.displayObjects,s=this._data.tileDisplayData.displayObjects,i=this._data.tileDisplayData.displayObjectRegistry;for(let a=0;a<e.length;a++){const r=e[a],l=i.get(r.id);for(let e=0;e<r.displayRecords.length;++e){const s=r.displayRecords[e];if(l){if(s.geometryType!==c.FILL&&s.geometryType!==c.LINE)continue;l.displayRecords.push(s)}const i=t.addOrUpdate.tileBufferData.geometries[s.geometryType];if(!this._dispRecStore.tryAddMeshData(s,i))return{objectIndex:a,recordIndex:e}}l||(i.set(r.id,r),s.push(r))}return null}_patchData(t){let e=!0;const s=t.addOrUpdate&&t.addOrUpdate.tileDisplayData&&t.addOrUpdate.tileDisplayData.displayObjects||[],i=(t.remove||[]).slice();for(const t of s)null!=t.insertAfter&&i.push(t.id);for(const t of i){const e=this._data.tileDisplayData.displayObjectRegistry.get(t);if(e){this._data.tileDisplayData.displayList.removeFromList(e.displayRecords);for(const t of e.displayRecords)this._dispRecStore.delete(t);this._data.tileDisplayData.displayObjectRegistry.delete(t);const s=this._data.tileDisplayData.displayObjects.indexOf(e);this._data.tileDisplayData.displayObjects.splice(s,1)}}for(const i of s){let s,a=this._data.tileDisplayData.displayObjectRegistry.get(i.id);if(a){const t=a.displayRecords;a.set(i),a.displayRecords=t;const e=a.displayRecords.length;for(let t=0;t<e;++t){const e=a.displayRecords[t],s=i.displayRecords[t];(t>=i.displayRecords.length||e.geometryType!==s.geometryType||e.symbolLevel!==s.symbolLevel||e.zOrder!==s.zOrder||e.materialKey!==s.materialKey)&&(this._dispRecStore.delete(a.displayRecords[t]),t<i.displayRecords.length&&(a.displayRecords[t]=void 0))}a.displayRecords.length=i.displayRecords.length,a.metrics=i.metrics}else{let t;a=i.copy(),a.displayRecords=[],this._data.tileDisplayData.displayObjectRegistry.set(i.id,a);const e=this._data.tileDisplayData.displayObjects;if(null!=a.insertAfter)if(s={},a.insertAfter>=0){const s=this._data.tileDisplayData.displayObjectRegistry.get(a.insertAfter);s?(t=e.indexOf(s)+1,t<e.length?e.splice(t,0,a):(e.push(a),t=e.length)):(e.push(a),t=e.length)}else e.unshift(a),t=0;else e.push(a),t=e.length;if(s){let a;if(this._data.tileDisplayData.displayList.unified)a=i.displayRecords.length>0?1:0;else{_.clear();for(const t of i.displayRecords){const e=this._data.tileDisplayData.displayList.getDPInfoType(t.geometryType);_.add(e)}a=_.size}let r=0;for(let i=t-1;i>=0&&r<a;--i)for(let t=e[i].displayRecords.length-1;t>=0&&r<a;--t){const a=e[i].displayRecords[t],l=this._data.tileDisplayData.displayList.getDPInfoType(a.geometryType);s[l]||(s[l]=a,++r)}}}const r=i.displayRecords.length;for(let l=0;l<r;++l){const r=i.displayRecords[l];let d=a.displayRecords[l];d?(d.meshData=r.meshData,d.materialKey=r.materialKey):(d=r.copy(),d.vertexFrom=void 0,d.indexFrom=void 0,a.displayRecords[l]=d);const h=r.geometryType,o=this._data.tileDisplayData.displayList.getDPInfoType(h),p=t.addOrUpdate.tileBufferData.geometries[h],c=p.vertexBuffer,n=p.indexBuffer;let y;s&&(y=s[o]?this._data.tileDisplayData.displayList.splitAfter(s[o]):-1),e=this._dispRecStore.setMeshData(d,r,c,n,y)&&e,s&&null!=d.indexFrom&&null!=d.indexFrom&&(s[o]=d)}}return e}}export{m as WGLTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(){this._byGeometryType=null}get satisfied(){return!this._byGeometryType}reset(){this._byGeometryType=null}verticesFor(e){return this._byGeometryType?this._byGeometryType[e].vertices:0}indicesFor(e){return this._byGeometryType?this._byGeometryType[e].indices:0}needMore(e,t,i){if(!t&&!i)return;this._byGeometryType||(this._byGeometryType=[{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0}]);const r=this._byGeometryType[e];r.vertices+=t,r.indices+=i}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{allocateTypedArrayBufferwithData as e}from\"./Utils.js\";class r{constructor(){this.geometries=[{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}}]}clone(){const e=new r;for(let r=0;r<this.geometries.length;r++){const f=this.geometries[r],t=e.geometries[r];t.indexBuffer=f.indexBuffer.slice(),t.vertexBuffer={};for(const e in f.vertexBuffer){const{data:r,stride:i}=f.vertexBuffer[e];t.vertexBuffer[e]={data:r.slice(),stride:i}}}return e}static deserialize(f){const t=new r;for(let r=0;r<5;++r){t.geometries[r].indexBuffer=new Uint32Array(f.geometries[r].indexBuffer),t.geometries[r].vertexBuffer={};for(const i in f.geometries[r].vertexBuffer)t.geometries[r].vertexBuffer[i]={data:e(f.geometries[r].vertexBuffer[i].data,f.geometries[r].vertexBuffer[i].stride),stride:f.geometries[r].vertexBuffer[i].stride}}return t}serialize(){const e={geometries:[{indexBuffer:this.geometries[0].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[1].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[2].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[3].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[4].indexBuffer.buffer,vertexBuffer:{}}]};for(let r=0;r<5;++r)for(const f in this.geometries[r].vertexBuffer)e.geometries[r].vertexBuffer[f]={data:this.geometries[r].vertexBuffer[f].data.buffer,stride:this.geometries[r].vertexBuffer[f].stride};return e}getBuffers(){const e=[];for(let r=0;r<5;++r){e.push(this.geometries[r].indexBuffer.buffer);for(const f in this.geometries[r].vertexBuffer)e.push(this.geometries[r].vertexBuffer[f].data.buffer)}return e}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{WGLDrawPhase as t,WGLGeometryType as o}from\"./enums.js\";const n=e.getLogger(\"esri.views.2d.engine.webgl.WGLDisplayList\");function i(e,t,o,...n){t<e.length?e.splice(t,o,...n):e.push(...n)}const r=new Map;r.set(t.MAP,[o.FILL,o.LINE,o.MARKER,o.TEXT]),r.set(t.LABEL,[o.LABEL]),r.set(t.LABEL_ALPHA,[o.LABEL]);class s{constructor(e=!1){this.symbolLevels=[],this.unified=e}replay(e,t,o){if(this.unified)for(const n of this.symbolLevels)for(const i of n.zLevels){const n=i.geometryDPInfo.unified;if(n)for(const i of n){const n=e.painter.getGeometryBrush(i.geometryType),r=t.getGeometry(i.geometryType);n.prepareState(e,t),n.drawGeometry(e,t,i,r,o)}}}get empty(){return!this.symbolLevels||0===this.symbolLevels.length}clear(){this.symbolLevels.length=0}addToList(e,t){if(Array.isArray(e))for(const o of e)this._addToList(o,t);else this._addToList(e,t)}removeFromList(e){Array.isArray(e)||(e=[e]);let t=null;for(const o of e)t=this._removeFromList(o);return t}byType(e,t){for(const o of this.symbolLevels)for(const n of o.zLevels){const o=n.geometryDPInfo,i=this.getDPInfoType(e);if(o[i])for(const e of o[i])t(e)}}clone(){const e=new s(this.unified);for(const t of this.symbolLevels)e.symbolLevels.push(t.clone());return e}splitAfter(e){const t=this._getDisplayList(e.symbolLevel,e.zOrder,e.geometryType),o=t.length,n=e.indexFrom+e.indexCount;for(let i=0;i<o;++i){const o=t[i];if(o.geometryType===e.geometryType&&n>o.indexFrom&&n<=o.indexFrom+o.indexCount){if(n<o.indexFrom+o.indexCount){const e=new l;e.geometryType=o.geometryType,e.materialKey=o.materialKey,e.indexFrom=n,e.indexCount=o.indexFrom+o.indexCount-n,t.splice(i+1,0,e),o.indexCount=n-o.indexFrom}return i}}}_addToList(e,t){const o=e.symbolLevel,n=e.zOrder,r=this._getDisplayList(o,n,e.geometryType),s=null!=t?t:r.length-1,m=s>=0&&s<r.length?r[s]:null;if(null===m||m.materialKey!==e.materialKey||m.indexFrom+m.indexCount!==e.indexFrom||this.unified&&m.geometryType!==e.geometryType){const t=new l;t.indexFrom=e.indexFrom,t.indexCount=e.indexCount,t.materialKey=e.materialKey,t.geometryType=e.geometryType,i(r,s+1,0,t)}else m.indexCount+=e.indexCount}_removeFromList(e){const t=e.symbolLevel,o=e.zOrder,n=this._getDisplayList(t,o,e.geometryType),r=n.length;let s;for(let t=0;t<r;++t){const o=n[t];if(e.indexFrom+e.indexCount>o.indexFrom&&e.indexFrom<o.indexFrom+o.indexCount&&(!this.unified||o.geometryType===e.geometryType)){s=t;break}}if(void 0!==s){const t=n[s];if(e.indexFrom===t.indexFrom)return t.indexCount-=e.indexCount,t.indexFrom+=e.indexCount,0===t.indexCount&&i(n,s,1),s-1;if(e.indexFrom+e.indexCount===t.indexFrom+t.indexCount)return t.indexCount-=e.indexCount,0===t.indexCount?(i(n,s,1),s-1):s;{const o=t.indexFrom,r=e.indexFrom-t.indexFrom,m=e.indexCount,y=t.indexFrom+t.indexCount-(e.indexFrom+e.indexCount);t.indexCount=r;const d=new l;return d.geometryType=t.geometryType,d.materialKey=t.materialKey,d.indexFrom=o+r+m,d.indexCount=y,i(n,s+1,0,d),s}}return null}_getDisplayList(e,t,n){let i;const r=this.symbolLevels.length;for(let t=0;t<r;t++)if(this.symbolLevels[t].symbolLevel===e){i=this.symbolLevels[t];break}let s;i||(i=new d,i.symbolLevel=e,this.symbolLevels.push(i));const l=i.zLevels.length;for(let e=0;e<l;e++)if(i.zLevels[e].zLevel===t){s=i.zLevels[e];break}let f;if(s||(s=new y,s.geometryDPInfo=new m,s.zLevel=t,i.zLevels.push(s)),this.unified)s.geometryDPInfo.unified||(s.geometryDPInfo.unified=[]),f=s.geometryDPInfo.unified;else switch(n){case o.FILL:s.geometryDPInfo.fill||(s.geometryDPInfo.fill=[]),f=s.geometryDPInfo.fill;break;case o.LINE:s.geometryDPInfo.line||(s.geometryDPInfo.line=[]),f=s.geometryDPInfo.line;break;case o.MARKER:s.geometryDPInfo.marker||(s.geometryDPInfo.marker=[]),f=s.geometryDPInfo.marker;break;case o.TEXT:s.geometryDPInfo.text||(s.geometryDPInfo.text=[]),f=s.geometryDPInfo.text;break;case o.LABEL:s.geometryDPInfo.label||(s.geometryDPInfo.label=[]),f=s.geometryDPInfo.label;break;default:console.error(\"Trying to add a record with geometry type '\"+n+\"'.\")}return f}getDPInfoType(e){if(this.unified)return\"unified\";switch(e){case o.FILL:return\"fill\";case o.LINE:return\"line\";case o.MARKER:return\"marker\";case o.TEXT:return\"text\";case o.LABEL:return\"label\";default:return void n.error(`DisplayList: Tried to convert unknown geometryType: ${e}`)}}}class l{constructor(){this.materialKey=null,this.indexFrom=0,this.indexCount=0}clone(){const e=new l;return e.geometryType=this.geometryType,e.materialKey=this.materialKey,e.indexFrom=this.indexFrom,e.indexCount=this.indexCount,e}}class m{constructor(){this.fill=null,this.line=null,this.marker=null,this.text=null,this.label=null,this.unified=null}clone(){const e=new m;return e.fill=this.fill&&this.fill.map((e=>e.clone())),e.line=this.line&&this.line.map((e=>e.clone())),e.marker=this.marker&&this.marker.map((e=>e.clone())),e.text=this.text&&this.text.map((e=>e.clone())),e.label=this.label&&this.label.map((e=>e.clone())),e.unified=this.unified&&this.unified.map((e=>e.clone())),e}}class y{constructor(){this.geometryDPInfo=new m}clone(){const e=new y;return e.zLevel=this.zLevel,e.geometryDPInfo=this.geometryDPInfo.clone(),e}}class d{constructor(){this.zLevels=[]}clone(){const e=new d;e.symbolLevel=this.symbolLevel;for(const t of this.zLevels)e.zLevels.push(t.clone());return e}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"./WGLDisplayList.js\";import{serializeList as t}from\"./util/serializationUtils.js\";import i from\"./WGLDisplayObject.js\";function e(s){const t=[[],[],[],[],[]],i=s;for(const s of i)for(const i of s.displayRecords)t[i.geometryType].push(i);return t}class r{constructor(){}get displayObjectRegistry(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const s of this.displayObjects)this._displayObjectRegistry.set(s.id,s)}return this._displayObjectRegistry}get displayList(){return this._displayList}computeDisplayList(t){if(this._displayList=new s(t),t)for(const s of this.displayObjects)for(const t of s.displayRecords)this._displayList.addToList(t);else{const s=e(this.displayObjects),t=s.length;for(let i=0;i<t;++i){const t=s[i];this._displayList.addToList(t)}}}clone(){const s=new r;return this.displayObjects&&(s.displayObjects=this.displayObjects.map((s=>s.clone()))),s}serialize(s){return t(s,this.displayObjects),s}_deserializeObjects(s){const t=s.readInt32(),e=new Array(t),r=new Map;for(let t=0;t<e.length;++t){const l=i.deserialize(s);e[t]=l,r.set(l.id,l)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=r}static deserialize(s){const t=new r;return t._deserializeObjects(s),t}}export default r;export{e as groupRecordsByGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLGeometryType as e}from\"./enums.js\";import{allocateTypedArrayBuffer as t,copyMeshData as r}from\"./Utils.js\";import i from\"./MemoryRequirements.js\";import s from\"./TileBufferData.js\";import a from\"./WGLDisplayRecord.js\";import o,{groupRecordsByGeometryType as n}from\"./TileDisplayData.js\";import f from\"./util/Writer.js\";import{MeshData as l}from\"./mesh/MeshData.js\";import{VertexBuffers as d}from\"./mesh/VertexBuffer.js\";const u=new i,c=new i;function p(e,r){const i={};for(const s in e){const a={data:t(r,e[s]),stride:e[s]};i[s]=a}return i}class m{constructor(){this.tileDisplayData=null,this.tileBufferData=null}reshuffle(){u.reset();const e=n(this.tileDisplayData.displayObjects);for(const t of e)for(const e of t)e&&u.needMore(e.geometryType,e.meshData?e.meshData.vertexCount:e.vertexCount,e.meshData?e.meshData.indexData.length:e.indexCount);const i=e.length,a=new s;for(let e=0;e<i;++e){a.geometries[e].indexBuffer=new Uint32Array(Math.round(1.5*u.indicesFor(e)));const r=[];for(const t in this.tileBufferData.geometries[e].vertexBuffer)r.push(this.tileBufferData.geometries[e].vertexBuffer[t].stride);const i=m._computeVertexAlignment(r),s=Math.round(1.5*u.verticesFor(e)),o=m._align(s,i);for(const r in this.tileBufferData.geometries[e].vertexBuffer){const i=this.tileBufferData.geometries[e].vertexBuffer[r].stride;a.geometries[e].vertexBuffer[r]={stride:i,data:t(o,i)}}}c.reset(),this.tileDisplayData.displayList.clear();for(let t=0;t<i;++t){const i=e[t];for(const e of i){if(e.meshData)e.writeMeshDataToBuffers(c.verticesFor(t),a.geometries[t].vertexBuffer,c.indicesFor(t),a.geometries[t].indexBuffer),e.meshData=null;else{const i=this.tileBufferData.geometries[t].vertexBuffer,s=this.tileBufferData.geometries[t].indexBuffer,o=a.geometries[t].vertexBuffer,n=a.geometries[t].indexBuffer,f=c.verticesFor(t),l=c.indicesFor(t);r(f,l,o,n,e,i,s),e.vertexFrom=f,e.indexFrom=l}c.needMore(t,e.vertexCount,e.indexCount)}this.tileDisplayData.displayList.unified||this.tileDisplayData.displayList.addToList(i)}if(this.tileDisplayData.displayList.unified)for(const e of this.tileDisplayData.displayObjects)this.tileDisplayData.displayList.addToList(e.displayRecords);this.tileBufferData=a}reshuffleBulkAdd(i,a,o){const n=i.addOrUpdate.tileDisplayData.displayObjects,f=this.tileDisplayData.displayObjects;u.reset();for(let e=0;e<f.length;e++){const t=f[e];for(let e=0;e<t.displayRecords.length;e++){const r=t.displayRecords[e];u.needMore(r.geometryType,r.vertexCount,r.indexCount)}}for(let e=a;e<n.length;e++){const t=n[e];for(let r=e===a?o:0;r<t.displayRecords.length;r++){const e=t.displayRecords[r];u.needMore(e.geometryType,e.vertexCount,e.indexCount)}}const l=new s;for(let e=0;e<5;e++){l.geometries[e].indexBuffer=new Uint32Array(Math.round(1.5*u.indicesFor(e)));const r=[],i=this.tileBufferData.geometries[e].vertexBuffer;for(const e in i)r.push(i[e].stride);const s=m._computeVertexAlignment(r),a=Math.round(1.5*u.verticesFor(e)),o=m._align(a,s);for(const r in i){const s=i[r].stride,a=t(o,s);l.geometries[e].vertexBuffer[r]={stride:s,data:a}}}c.reset(),this.tileDisplayData.displayList.clear();for(let e=0;e<f.length;e++){const t=f[e];for(let e=0;e<t.displayRecords.length;e++){const i=t.displayRecords[e],s=i.geometryType,a=this.tileBufferData.geometries[s].vertexBuffer,o=this.tileBufferData.geometries[s].indexBuffer,n=l.geometries[s].vertexBuffer,f=l.geometries[s].indexBuffer,d=c.verticesFor(s),u=c.indicesFor(s);r(d,u,n,f,i,a,o),i.vertexFrom=d,i.indexFrom=u,c.needMore(s,i.vertexCount,i.indexCount),this.tileDisplayData.displayList.addToList(i)}}const d=this.tileDisplayData.displayObjectRegistry;if(0!==o){const t=n[a];for(let i=0;i<o;i++){const s=t.displayRecords[i];if(d.get(t.id)){if(s.geometryType!==e.FILL&&s.geometryType!==e.LINE)continue}const a=s.geometryType,o=this.tileBufferData.geometries[a].vertexBuffer,n=this.tileBufferData.geometries[a].indexBuffer,f=l.geometries[a].vertexBuffer,u=l.geometries[a].indexBuffer,p=c.verticesFor(a),m=c.indicesFor(a);r(p,m,f,u,s,o,n),s.vertexFrom=p,s.indexFrom=m,c.needMore(a,s.vertexCount,s.indexCount),this.tileDisplayData.displayList.addToList(s)}}for(let t=a;t<n.length;t++){const s=n[t],f=t===a?o:0,u=d.get(s.id);for(let t=f;t<s.displayRecords.length;t++){const a=s.displayRecords[t];if(u){if(a.geometryType!==e.FILL&&a.geometryType!==e.LINE)continue;u.displayRecords.push(a)}const o=a.geometryType,n=i.addOrUpdate.tileBufferData.geometries[o],f=n.vertexBuffer,d=n.indexBuffer,p=l.geometries[o].vertexBuffer,m=l.geometries[o].indexBuffer,D=c.verticesFor(o),y=c.indicesFor(o);r(D,y,p,m,a,f,d),a.vertexFrom=D,a.indexFrom=y,c.needMore(o,a.vertexCount,a.indexCount),this.tileDisplayData.displayList.addToList(a)}u||(d.set(s.id,s),this.tileDisplayData.displayObjects.push(s))}this.tileBufferData=l}getStrides(){const e=[];for(let t=0;t<this.tileBufferData.geometries.length;++t){const r=this.tileBufferData.geometries[t];e[t]={};for(const i in r.vertexBuffer)e[t][i]=r.vertexBuffer[i].stride}return e}clone(){const e=new m;return e.tileBufferData=this.tileBufferData.clone(),e.tileDisplayData=this.tileDisplayData.clone(),e}_guessSize(){const{displayObjects:e}=this.tileDisplayData,t=Math.min(e.length,4);let r=0;for(let i=0;i<t;i++)r=Math.max(r,e[i].displayRecords.length);return 2*(12*e.length+e.length*r*40)}serialize(){const e=this.tileBufferData.serialize(),t=this.tileBufferData.getBuffers(),r=this.tileDisplayData.serialize(new f(Int32Array,this._guessSize())).buffer();return t.push(r),{result:{displayData:r,bufferData:e},transferList:t}}static decode(e){const t=l.deserializeDisplayObjects(e),r={};for(const t in e.vertexBuffersMap)r[t]=d.decode(e.vertexBuffersMap[t]);return m.fromMeshData({displayObjects:t,vertexBuffersMap:r})}static fromMeshData(e){const t=new m,r=new o,i=new s;r.displayObjects=e.displayObjects;for(const t in e.vertexBuffersMap){const r=e.vertexBuffersMap[t];i.geometries[t].indexBuffer=r.indexBuffer,i.geometries[t].vertexBuffer=r.namedBuffers}return t.tileDisplayData=r,t.tileBufferData=i,t}static bind(e,t){const r=new m;return r.tileDisplayData=e,r.tileBufferData=t,r}static create(e,t){const r=new m;r.tileDisplayData=new o,r.tileDisplayData.displayObjects=e;const i=[0,0,0,0,0],n=[0,0,0,0,0],f=[[],[],[],[],[]];for(const t of e)for(const e of t.displayRecords)f[e.geometryType].push(e),i[e.geometryType]+=e.meshData.vertexCount,n[e.geometryType]+=e.meshData.indexData.length;const l=new s,d=function(e){return[e.fill||{},e.line||{},e.icon||{},e.text||{},e.label||{}]}(t);for(let e=0;e<5;e++){const t=new Uint32Array(n[e]),r=p(d[e],i[e]);a.writeAllMeshDataToBuffers(f[e],r,t),l.geometries[e]={indexBuffer:t,vertexBuffer:r}}return r.tileBufferData=l,r}static _align(e,t){const r=e%t;return 0===r?e:e+(t-r)}static _computeVertexAlignment(e){let t=!1,r=!1;for(const i of e)i%4==2?t=!0:i%4!=0&&(r=!0);return r?4:t?2:1}}export{m as TileData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"./maybe.js\";export default class{constructor(t=Number.POSITIVE_INFINITY){this.size=0,this._start=0,this.maxSize=t,this._buffer=isFinite(t)?new Array(t):[]}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return isFinite(this.maxSize)?this._buffer[(this._start+this.size++)%this.maxSize]=t:this._buffer[this._start+this.size++]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}clear(){for(;t(this.dequeue()););}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../../../core/maybe.js\";import{toPt as t,pt2px as s}from\"../../../../../../core/screenUtils.js\";import{NAN_MAGIC_NUMBER as n}from\"../../../../engine/webgl/definitions.js\";import{WGLVVFlag as o}from\"../../../../engine/webgl/enums.js\";import{premultiplyAlpha as i}from\"../../../../engine/webgl/color.js\";import{getTypeOfSizeVisualVariable as l}from\"../../../../engine/webgl/visualVariablesUtils.js\";function r(e,t){if(!e||!t)return e;switch(t){case\"radius\":case\"distance\":return 2*e;case\"diameter\":case\"width\":return e;case\"area\":return Math.sqrt(e)}return e}function a(e){return{value:e.value,size:t(e.size)}}function u(e){return e.map((e=>a(e)))}function c(e){if(\"string\"==typeof e||\"number\"==typeof e)return t(e);const s=e;return{type:\"size\",expression:s.expression,stops:u(s.stops)}}function p(e){const t=e&&e.length>0?{}:null;return t&&e.forEach((e=>{const s=e.type;e.field&&(t[s]=e.field)})),t}const f=e=>{const t=[],o=[],i=u(e),l=i.length;for(let e=0;e<6;e++){const r=i[Math.min(e,l-1)];t.push(r.value),o.push(null==r.size?n:s(r.size))}return{values:new Float32Array(t),sizes:new Float32Array(o)}};function m(e){const t=e&&e.length>0?{}:null,s=t?{}:null;if(!t)return{vvFields:t,vvRanges:s};for(const n of e)if(n.field&&(t[n.type]=n.field),\"size\"===n.type){s.size||(s.size={});const e=n;switch(l(e)){case o.SIZE_MINMAX_VALUE:s.size.minMaxValue={minDataValue:e.minDataValue,maxDataValue:e.maxDataValue,minSize:c(e.minSize),maxSize:c(e.maxSize)};break;case o.SIZE_SCALE_STOPS:s.size.scaleStops={stops:u(e.stops)};break;case o.SIZE_FIELD_STOPS:if(e.levels){const t={};for(const s in e.levels)t[s]=f(e.levels[s]);s.size.fieldStops={type:\"level-dependent\",levels:t}}else s.size.fieldStops={type:\"static\",...f(e.stops)};break;case o.SIZE_UNIT_VALUE:s.size.unitValue={unit:e.valueUnit,valueRepresentation:e.valueRepresentation}}}else if(\"color\"===n.type)s.color=y(n);else if(\"opacity\"===n.type)s.opacity=v(n);else if(\"rotation\"===n.type){const e=n;s.rotation={type:e.rotationType}}return{vvFields:t,vvRanges:s}}function v(e){const t={values:[0,0,0,0,0,0,0,0],opacities:[0,0,0,0,0,0,0,0]};if(\"string\"==typeof e.field){if(!e.stops)return null;{if(e.stops.length>8)return null;const s=e.stops;for(let e=0;e<8;++e){const n=s[Math.min(e,s.length-1)];t.values[e]=n.value,t.opacities[e]=n.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return null;{const s=e.stops&&e.stops.length>=0&&e.stops[0].opacity;for(let e=0;e<8;e++)t.values[e]=1/0,t.opacities[e]=s}}return t}function g(e,t,s){e[4*t+0]=s.r/255,e[4*t+1]=s.g/255,e[4*t+2]=s.b/255,e[4*t+3]=s.a}function y(t){if(e(t))return null;if(t.normalizationField)return null;const s={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};if(\"string\"==typeof t.field){if(!t.stops)return null;{if(t.stops.length>8)return null;s.field=t.field;const e=t.stops;for(let t=0;t<8;++t){const n=e[Math.min(t,e.length-1)];s.values[t]=n.value,g(s.colors,t,n.color)}}}else{if(!(t.stops&&t.stops.length>=0))return null;{const e=t.stops&&t.stops.length>=0&&t.stops[0].color;for(let t=0;t<8;t++)s.values[t]=1/0,g(s.colors,t,e)}}for(let e=0;e<32;e+=4)i(s.colors,e,!0);return s}export{y as convertColorVariable,m as convertVisualVariables,r as getVisualVariableSizeValueRepresentationRatio,p as getVisualVariablesFields,c as normalizeSizeElement,u as normalizeSizeStops,a as stopToSizeStop};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{isNone as e,mapMany as i,isSome as s,andThen as r,unwrap as a,forEachSome as h,mapOr as o,unwrapOr as n}from\"../../../../core/maybe.js\";import d from\"../../../../core/Logger.js\";import u from\"../../../../core/Error.js\";import{createResolver as l}from\"../../../../core/promiseUtils.js\";import{ATTRIBUTE_DATA_VV as p,TEXTURE_BINDING_ATTRIBUTE_DATA_0 as x,TEXTURE_BINDING_ATTRIBUTE_DATA_1 as c,TEXTURE_BINDING_ATTRIBUTE_DATA_2 as _,TEXTURE_BINDING_ATTRIBUTE_DATA_3 as g}from\"./definitions.js\";import\"../../../../chunks/builtins.js\";import f from\"../../../webgl/Texture.js\";import b from\"../../../webgl/FramebufferObject.js\";import\"../../../webgl/RenderingContext.js\";import{getPixelArrayCtor as T,getPixelBytes as m}from\"./Utils.js\";import{createDebugLogger as y,DEBUG_ATTR_UPDATES as w}from\"./util/debug.js\";const z=d.getLogger(\"esri.views.2d.engine.webgl.AttributeStoreView\"),D=y(w,z),S=t=>2147483647&t;class U{constructor(t,e,i){this._texture=null,this._lastTexture=null,this._fbos={},this.texelSize=4;const{buffer:s,pixelType:r,textureOnly:h}=t,o=T(r);this.shared=i,this.pixelType=r,this.size=e,this.textureOnly=h,h||(this.data=new o(a(s))),this._resetRange()}destroy(){r(this._texture,(t=>t.dispose()));for(const t in this._fbos)r(this._fbos[t],(e=>{\"0\"===t&&e.detachColorTexture(),e.dispose()})),this._fbos[t]=null;this._texture=null}get _textureDesc(){return{target:3553,wrapMode:33071,pixelFormat:6408,dataType:this.pixelType,samplingMode:9728,width:this.size,height:this.size}}setData(t,e,i){const s=S(t),r=a(this.data),h=s*this.texelSize+e;!r||h>=r.length||(r[h]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s))}getData(t,i){if(e(this.data))return null;const s=S(t)*this.texelSize+i;return!this.data||s>=this.data.length?null:this.data[s]}getTexture(t){return n(this._texture,(()=>this._initTexture(t)))}getFBO(t,i=0){if(e(this._fbos[i])){const e={colorTarget:0,depthStencilTarget:0},s=0===i?this.getTexture(t):this._textureDesc;this._fbos[i]=new b(t,e,s)}return this._fbos[i]}get locked(){return!(5121!==this.pixelType||!this.shared||this.textureOnly||!t(\"esri-atomics\")||!this.data)&&1===Atomics.load(this.data,0)}updateTexture(t){if(!this.locked)try{const e=this.dirtyStart,i=this.dirtyEnd;if(e>i)return;this._resetRange();const s=a(this.data).buffer,r=this.getTexture(t),h=4,o=(e-e%this.size)/this.size,n=(i-i%this.size)/this.size,d=o,l=this.size,p=n,x=o*this.size*h,c=(l+p*this.size)*h-x,_=T(this.pixelType),g=_.BYTES_PER_ELEMENT;try{new _(s,x*g,c)}catch(t){console.debug(t)}const f=new _(s,x*g,c),b=this.size,m=p-d+1;if(m>this.size)return void z.error(new u(\"mapview-webgl\",\"Out-of-bounds index when updating AttributeData\"));r.updateData(0,0,d,b,m,f)}catch(t){console.debug(t)}}update(t){const{data:e,start:i,end:r}=t;if(s(e)){const s=this.data,r=i*this.texelSize;for(let i=0;i<e.length;i++){const a=1<<i%this.texelSize;t.layout&a&&(s[r+i]=e[i])}}this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,r)}resize(t,e){const i=this.size;if(this.size=e,this.textureOnly)return void(i!==this.size&&(this._lastTexture=this._texture,this._texture=null));const s=T(this.pixelType);this.destroy(),this.data=new s(a(t.buffer))}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}_initTexture(t){const e=new f(t,this._textureDesc,n(this.data,void 0));if(s(this._lastTexture)&&this._fbos[0]){const i=this._lastTexture.descriptor.width,s=this._lastTexture.descriptor.height,r=this._lastTexture.descriptor.dataType,a=this._lastTexture.descriptor.pixelFormat,h=this.getFBO(t),o=m(r),n=new(T(r))(new ArrayBuffer(i*s*o*this.texelSize)),d=t.getBoundFramebufferObject(),{x:u,y:l,width:p,height:x}=t.getViewport();t.bindFramebuffer(h),h.readPixels(0,0,i,s,a,r,n),e.updateData(0,0,0,2*i,s/2,n),t.setViewport(u,l,p,x),t.bindFramebuffer(d)}return this.destroy(),this._texture=e,this._texture}}class j{constructor(){this._initialized=!1,this._forceNextUpload=!1,this._locked=!1}initialize(t){const{blocks:r,shared:a,size:h}=t;if(this.shared=a,this.size=h,D(\"Initializing AttributeStoreView\",t),e(this._data))this._data=i(r,(t=>new U(t,h,a)));else for(let t=0;t<this._data.length;t++){const i=this._data[t],o=r[t];s(o)&&(e(i)?this._data[t]=new U(o,h,a):i.resize(o,h))}this._initialized=!0}destroy(){r(this._data,(t=>i(t,(t=>t.destroy())))),r(this._defaultTexture,(t=>t.dispose()))}getBlock(t){if(e(this._data))return null;return this._data[t]}setLabelMinZoom(t,e){this.setData(t,0,1,e)}getLabelMinZoom(t){return this.getData(t,0,1,255)}getFilterFlags(t){return this.getData(t,0,0,0)}getVVSize(t){return this.getData(t,p,0,0)}getData(t,i,r,h){if(!this._data)return 0;const o=a(this._data)[i];if(e(o))return 0;const n=o.getData(t,r);return s(n)?n:h}setData(t,e,i,s){const r=a(this._data)[e];a(r).setData(t,i,s)}lockTextureUpload(){this._locked=!0}unlockTextureUpload(){this._locked=!1}forceTextureUpload(){this._forceNextUpload=!0}async requestUpdate(t){if(this._pendingAttributeUpdate)return void z.error(new u(\"mapview-webgl\",\"Tried to update attribute data with a pending update\"));const e=l();return D(\"AttributeStoreView Update Requested\",t),this._pendingAttributeUpdate={data:t,resolver:e},e.promise}update(){if(this._initialized&&s(this._pendingAttributeUpdate)){const{data:t,resolver:e}=this._pendingAttributeUpdate,i=a(this._data);for(let e=0;e<t.blocks.length;e++){const s=t.blocks[e],a=i[e];r(a,(t=>r(s,(i=>{D(`Updating block ${e}`,i),t.update(i)}))))}this._pendingAttributeUpdate=null,e()}}bindTextures(t){this.update();const e=this._getDefaultTexture(t);if(!this._initialized)return t.bindTexture(e,x),t.bindTexture(e,c),t.bindTexture(e,_),void t.bindTexture(e,g);const i=a(this._data);this._locked&&!this._forceNextUpload||(h(i,(e=>e.updateTexture(t))),this._forceNextUpload=!1),t.bindTexture(o(i[0],e,(e=>e.getTexture(t))),x),t.bindTexture(o(i[1],e,(e=>e.getTexture(t))),c),t.bindTexture(o(i[2],e,(e=>e.getTexture(t))),_),t.bindTexture(o(i[3],e,(e=>e.getTexture(t))),g)}_getDefaultTexture(t){if(e(this._defaultTexture)){const e={wrapMode:33071,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1};this._defaultTexture=new f(t,e,new Uint8Array(4))}return this._defaultTexture}}export{j as AttributeStoreView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,unwrap as t,isSome as i,isNone as s}from\"../../../../core/maybe.js\";import a from\"../../../../Color.js\";import{pt2px as o}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{DOT_DENSITY_MAX_FIELDS as n}from\"./definitions.js\";import v from\"../../../webgl/capabilities.js\";import{isDefined as d,isNumber as u}from\"./Utils.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}function h(e,t,i=0){if(s(t))return e[i+0]=0,e[i+1]=0,e[i+2]=0,void(e[i+3]=0);const{r:a,g:o,b:l,a:r}=t;e[i+0]=a*r/255,e[i+1]=o*r/255,e[i+2]=l*r/255,e[i+3]=r}class p{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.ddColors=new Float32Array(32),this.ddBackgroundColor=new Float32Array(4),this.ddActiveDots=new Float32Array(8),this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1}}getSizeVVFieldStops(i){const s=this._vvSizeFieldStops;switch(s.type){case\"static\":return s;case\"level-dependent\":return e(s.levels[i],(()=>{let e=1/0,a=0;for(const t in s.levels){const s=parseFloat(t),o=Math.abs(i-s);o<e&&(e=o,a=s)}if(e===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const o=i-a,l=Math.pow(2,o/2),r=t(s.levels[a]),n=new Float32Array(r.values);return n[2]*=l,n[3]*=l,{sizes:t(r.sizes),values:n}}))}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){i(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,s){switch(i(s)&&s.forEach((e=>this._updateEffects(e))),this._vvInfo=t,e.type){case\"dot-density\":this._updateDotDensityInfo(e)}}getVariation(){return{ddDotBlending:this.ddDotBlending,outsideLabelsVisible:this.outsideLabelsVisible,oesTextureFloat:v().supportsTextureFloat}}getVariationHash(){return(this.ddDotBlending?1:0)|(this.outsideLabelsVisible?1:0)<<1}_updateEffects(e){i(e)&&e.filter&&e.filter.enabled&&(this.outsideLabelsVisible=e.excludedLabelsVisible)}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const s=e.size;if(s){if(i.vvSizeEnabled=!0,s.minMaxValue){const e=s.minMaxValue;let i,a;if(d(e.minSize)&&d(e.maxSize))if(u(e.minSize)&&u(e.maxSize))i=o(e.minSize),a=o(e.maxSize);else{const s=t.scale;i=o(c(s,e.minSize.stops)),a=o(c(s,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(s.scaleStops&&(this.vvSizeScaleStopsValue=o(c(t.scale,s.scaleStops.stops))),s.unitValue){const e=l(t.spatialReference)/r[s.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}s.fieldStops&&(this._vvSizeFieldStops=s.fieldStops)}const a=e.color;a&&(i.vvColorEnabled=!0,this.vvColorValues.set(a.values),this.vvColors.set(a.colors));const n=e.opacity;n&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(n.values),this.vvOpacities.set(n.opacities));const v=e.rotation;v&&(i.vvRotationEnabled=!0,i.vvRotationType=v.type)}_updateDotDensityInfo(e){const t=e.attributes;this.ddDotValue=e.dotValue,this.ddDotScale=e.referenceScale,this.ddDotSize=e.dotSize,this.ddDotBlending=e.dotBlendingEnabled,this.ddSeed=e.seed;for(let e=0;e<n;e++){const i=e>=t.length?new a([0,0,0,0]):t[e].color;h(this.ddColors,i,4*e)}for(let t=0;t<8;t++)this.ddActiveDots[t]=t<e.attributes.length?1:0;h(this.ddBackgroundColor,e.backgroundColor)}}export{p as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{createResolver as e,all as t}from\"../../../core/promiseUtils.js\";import{create as r}from\"../../../geometry/support/aaBoundingRect.js\";import s from\"../../../core/Queue.js\";import{TileData as i}from\"./webgl/TileData.js\";import{WGLTile as o}from\"./webgl/WGLTile.js\";import{AttributeStoreView as a}from\"./webgl/AttributeStoreView.js\";import n from\"./webgl/TileContainer.js\";import{WGLRendererInfo as d}from\"./webgl/WGLRendererInfo.js\";class l extends n{constructor(e){super(e),this._rendererInfo=new d,this._materialItemsRequestQueue=new s,this.attributeView=new a}destroy(){this.removeAllChildren(),this.children.forEach((e=>e.destroy())),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return null;const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}onTileData(e,t){if(t.addOrUpdate&&\"tileDisplayData\"in t.addOrUpdate)e.setData(t);else{const r=t.addOrUpdate&&i.decode(t.addOrUpdate),s={...t,addOrUpdate:r};e.setData(s)}this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}doRender(e){if(e.context.capabilities.textureFloat,e.context.capabilities.vao,this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commitChanges(e);this._rendererInfo.update(e.state),super.renderChildren(e)}createTile(e){const t=this._tileInfoView.getTileBounds(r(),e);return new o(e,t)}destroyTile(e){this.removeChild(e),e.destroy()}createRenderParams(e){return{...super.createRenderParams(e),rendererInfo:this._rendererInfo,attributeView:this.attributeView}}_processMaterialItemRequest(e,{items:r,abortOptions:s,resolver:i}){const{painter:o,pixelRatio:a}=e,n=r.map((e=>o.textureManager.rasterizeItem(e.symbol,a,e.glyphIds,s)));t(n).then((e=>{if(!this.stage)return void i.reject();const t=e.map(((e,t)=>({id:r[t].id,mosaicItem:e})));i.resolve(t)}),i.reject)}}export{l as FeatureContainer};\n"],"sourceRoot":""}