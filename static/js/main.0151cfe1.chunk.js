(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[39],{433:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=433},490:function(e,t,n){},710:function(e,t,n){var c={"./calcite-accordion_2.entry.js":[722,114],"./calcite-action_5.entry.js":[723,89],"./calcite-alert.entry.js":[724,115],"./calcite-avatar.entry.js":[725,116],"./calcite-block_2.entry.js":[726,88],"./calcite-button.entry.js":[727,142],"./calcite-card.entry.js":[728,117],"./calcite-checkbox.entry.js":[729,118],"./calcite-chip.entry.js":[730,119],"./calcite-color-picker_3.entry.js":[731,90],"./calcite-combobox_3.entry.js":[732,11,83],"./calcite-date-picker_5.entry.js":[733,11,112],"./calcite-dropdown_3.entry.js":[734,11,143],"./calcite-fab.entry.js":[735,144],"./calcite-filter.entry.js":[736,84],"./calcite-flow_2.entry.js":[737,97],"./calcite-graph.entry.js":[738,145],"./calcite-handle.entry.js":[739,234],"./calcite-icon.entry.js":[740,146],"./calcite-inline-editable.entry.js":[741,147],"./calcite-input-message.entry.js":[742,148],"./calcite-input.entry.js":[743,120],"./calcite-label.entry.js":[744,149],"./calcite-link.entry.js":[745,150],"./calcite-loader.entry.js":[746,151],"./calcite-modal.entry.js":[747,121],"./calcite-notice.entry.js":[748,122],"./calcite-option_3.entry.js":[749,152],"./calcite-pagination.entry.js":[750,153],"./calcite-pick-list-group.entry.js":[751,98],"./calcite-pick-list-item.entry.js":[752,99],"./calcite-pick-list.entry.js":[753,81],"./calcite-popover_2.entry.js":[754,11,123],"./calcite-progress.entry.js":[755,235],"./calcite-radio-button-group.entry.js":[756,236],"./calcite-radio-button.entry.js":[757,124],"./calcite-radio-group_2.entry.js":[758,125],"./calcite-radio.entry.js":[759,237],"./calcite-rating.entry.js":[760,126],"./calcite-scrim.entry.js":[761,238],"./calcite-shell-center-row.entry.js":[762,127],"./calcite-shell_2.entry.js":[763,154],"./calcite-slider.entry.js":[764,100],"./calcite-sortable-list.entry.js":[765,38,239],"./calcite-split-button.entry.js":[766,155],"./calcite-stepper_2.entry.js":[767,128],"./calcite-switch.entry.js":[768,129],"./calcite-tab_4.entry.js":[769,101],"./calcite-tile-select-group.entry.js":[770,240],"./calcite-tile-select.entry.js":[771,156],"./calcite-tile.entry.js":[772,241],"./calcite-tip_3.entry.js":[773,113],"./calcite-tooltip_2.entry.js":[774,11,130],"./calcite-tree_2.entry.js":[775,131],"./calcite-value-list-item.entry.js":[776,91],"./calcite-value-list.entry.js":[777,38,82]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=710,e.exports=r},713:function(e,t,n){},714:function(e,t,n){"use strict";n.r(t);var c=n(92),r=n.n(c),i=n(453),a=n.n(i),l=n(32),o=n(356),s=n(459),u=n(261),j=n(463),d=n(460),b=n(461),p=n(44),h=n(131),f=n(784),O=n(783),y=n(454),m=n.n(y),v=n(157),g=n(355),x=n(75),w=n(82),k=n(38),M=n(86),S=n(133),C=n(9),N=n(302),_=n(55),J=function(e,t,n){var r=Object(c.useRef)(null);Object(c.useEffect)((function(){r.current=n}),[n]),Object(c.useEffect)((function(){var n=(null===t||void 0===t?void 0:t.current)||window;if(n&&n.addEventListener){var c=function(e){return r.current(e)};return n.addEventListener(e,c),function(){n.removeEventListener(e,c)}}}),[e,t])};function E(e){var t=e.children,n=e.onChange,r=Object(N.a)(e,["children","onChange"]),i=Object(c.useRef)(null);return J("calciteRadioButtonGroupChange",i,(function(e){n(e.detail)})),Object(_.jsx)("calcite-radio-button-group",Object(C.a)(Object(C.a)({ref:i},r),{},{children:t}))}function P(e){var t=e.onSelect,n=e.children,r=e.style,i=Object(N.a)(e,["onSelect","children","style"]),a=Object(c.useRef)(null);return J("calciteDropdownSelect",a,(function(e){var n=a.current.selectedItems[0].id;t(n)})),Object(_.jsx)("calcite-dropdown",Object(C.a)(Object(C.a)({style:r,ref:a},i),{},{children:n}))}var G={type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:2}},L={type:"simple-line",color:[226,119,40],width:4},A={type:"simple-fill",color:[227,139,79,.8],outline:{color:[255,255,255],width:1}};var F=function(e){var t=e.onAddGraphic,n=Object(c.useRef)(),r=Object(c.useState)("esrijson"),i=Object(l.a)(r,2),a=i[0],o=i[1];return Object(_.jsxs)("div",{style:{width:"calc(100% - 1rem)",textAlign:"center",margin:"0.5rem"},children:[Object(_.jsx)("p",{children:"Sketch a graphic to view its properties"}),Object(_.jsx)("p",{children:Object(_.jsx)("b",{children:"OR"})}),Object(_.jsx)("p",{children:"Enter in the geometry below"}),Object(_.jsx)("hr",{}),Object(_.jsx)("br",{}),Object(_.jsxs)("calcite-label",{children:["Format",Object(_.jsxs)(E,{name:"format",onChange:o,children:[Object(_.jsx)("calcite-radio-button",{checked:"esrijson"===a||void 0,value:"esrijson",children:"Esri JSON"}),Object(_.jsx)("calcite-radio-button",{checked:"geojson"===a||void 0,value:"geojson",children:"GeoJSON"}),Object(_.jsx)("calcite-radio-button",{checked:"wkt"===a||void 0,value:"wkt",children:"WKT"})]})]}),Object(_.jsxs)("calcite-label",{children:["Geometry string",Object(_.jsx)("calcite-input",{placeholder:"Enter geometry",type:"textarea",ref:n})]}),Object(_.jsx)("calcite-button",{width:"full",onClick:function(){var e,c,r,i,l=n.current.value;switch("esrijson"===a?(e=JSON.parse(l),c=Object(v.a)(e)):"geojson"===a?(c=JSON.parse(l),e=Object(v.b)(c)):"wkt"===a&&(c=Object(g.b)(l),e=Object(v.b)(c),console.log(e)),c.type){case"Polygon":r=w.a.fromJSON(e),i=A;break;case"LineString":r=M.a.fromJSON(e),i=L;break;case"Point":r=k.a.fromJSON(e),i=G;break;case"MultiPoint":r=S.a.fromJSON(e),i=G;break;default:console.log("Unknown type")}var o=new x.a({geometry:r,symbol:i});t(o)},children:"Add to map"})]})},X=n(37),Y=n(207),R=n(304),T={polygon:[{label:"Area",fn:function(e){return Object(Y.planarArea)(e)}},{label:"Geodesic Length",fn:function(e){try{return Object(Y.geodesicLength)(e)}catch(t){return"Not implemented"}}},{label:"Centroid (X)",fn:function(e){return e.centroid.x}},{label:"Centroid (Y)",fn:function(e){return e.centroid.y}},{label:"Min X",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max X",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.max.apply(Math,Object(X.a)(t))}},{label:"Min Y",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max Y",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.max.apply(Math,Object(X.a)(t))}}],polyline:[{label:"Geodesic Length",fn:function(e){return Object(Y.geodesicLength)(e)}},{label:"Centroid (X)",fn:function(e){var t=e.toJSON(),n=Object(v.a)(t);return Object(R.a)(n).geometry.coordinates[0]}},{label:"Centroid (Y)",fn:function(e){var t=e.toJSON(),n=Object(v.a)(t);return Object(R.a)(n).geometry.coordinates[1]}},{label:"Min X",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max X",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.max.apply(Math,Object(X.a)(t))}},{label:"Min Y",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max Y",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.max.apply(Math,Object(X.a)(t))}}],point:[],multipoint:[{label:"Centroid (X)",fn:function(e){var t=e.toJSON(),n=Object(v.a)(t);return Object(R.a)(n).geometry.coordinates[0]}},{label:"Centroid (Y)",fn:function(e){var t=e.toJSON(),n=Object(v.a)(t);return Object(R.a)(n).geometry.coordinates[1]}},{label:"Min X",fn:function(e){var t=e.points.map((function(e){return e[0]}));return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max X",fn:function(e){var t=e.points.map((function(e){return e[0]}));return Math.max.apply(Math,Object(X.a)(t))}},{label:"Min Y",fn:function(e){var t=e.points.map((function(e){return e[1]}));return Math.min.apply(Math,Object(X.a)(t))}},{label:"Max Y",fn:function(e){var t=e.points.map((function(e){return e[1]}));return Math.max.apply(Math,Object(X.a)(t))}}]},D=[{wkid:4326,label:"WGS84"},{wkid:102100,label:"Web Mercator"},{wkid:8857,label:"Equal Earth Greenwich"},{wkid:54008,label:"World Sinusoidal"},{wkid:54050,label:"World Fuller"}];function W(e){return D.find((function(t){return t.wkid===e})).label}var U=D;n(490);Object(h.g)();var I=new u.a;var z=function(){var e,t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(),i=Object(l.a)(r,2),a=i[0],u=i[1],y=Object(c.useState)("esrijson"),x=Object(l.a)(y,2),w=x[0],k=x[1],M=Object(c.useState)(4326),S=Object(l.a)(M,2),C=S[0],N=S[1];if(Object(c.useEffect)((function(){var e=new o.a({basemap:"gray-vector",layers:[I]}),c=new s.a({container:t.current,center:[-117,34],zoom:9,map:e}),r=new j.a({content:new d.a({view:c}),expanded:!0,view:c});c.ui.add(r,"top-right"),c.ui.move("zoom","top-right");var i=new b.a({layer:I,creationMode:"update",layout:"vertical",view:c});c.ui.add(i,"top-left");var a=i.on(["create"],(function(e){"complete"===e.state&&u(e.graphic.clone())})),l=i.on(["update"],(function(e){"complete"!==e.state||e.aborted||u(e.graphics[0].clone())}));return n.current=c,function(){a.remove(),l.remove(),n&&n.current&&n.current.destroy()}}),[]),a){var J,G=new p.a({wkid:C}),L=Object(h.h)(a.geometry,G),A=T[L.type].map((function(e){return Object(_.jsxs)("tr",{children:[Object(_.jsx)("td",{children:e.label}),Object(_.jsx)("td",{children:e.fn(L)})]},e.label)})),X=L.toJSON();if("esrijson"===w)J=JSON.stringify(X,null,2);else if("geojson"===w){var R=Object(v.a)(X);J=JSON.stringify(R,null,2)}else if("wkt"===w){var D=Object(v.a)(X);J=Object(g.a)(D)}else if("svg"===w){var z=Object(v.a)(X),B=Object(h.h)(n.current.extent,G);J=m()({viewportSize:{width:200,height:100},mapExtent:{left:B.xmin,bottom:B.ymin,right:B.xmax,top:B.ymax},output:"svg"}).convert(z)[0]}var K=U.map((function(e){return Object(_.jsx)("calcite-dropdown-item",{active:e.id===C||void 0,id:e.wkid,children:e.label},e.wkid)}));e=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("calcite-block",{heading:"Settings",open:!0,collapsible:!0,children:[Object(_.jsx)("calcite-label",{children:Object(_.jsx)("calcite-button",{scale:"s",width:"full",color:"red",appearance:"outline",onClick:function(){n.current.graphics.removeAll(),I.removeAll(),u(void 0)},children:"Clear geometries"})}),"polyline"===a.geometry.type&&Object(_.jsxs)("calcite-label",{children:["Manipulations",Object(_.jsx)("calcite-button",{scale:"s",width:"full",appearance:"outline",onClick:function(){if(a){var e=a.geometry,t=[];if("polyline"===e.type)for(var c=0;c<e.paths.length;c++)for(var r=e.paths[c],i=0;i<r.length;i++)t.push(e.getPoint(c,i));var l={symbol:{type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:2}},geometry:Object(Y.union)(t)},o=n.current;o.graphics.removeAll(),o.graphics.add(l),I.removeAll(),u(l)}},children:"Convert vertices to multi-point"})]}),Object(_.jsxs)("calcite-label",{children:["Projection",Object(_.jsxs)(P,{style:{width:"100%"},onSelect:function(e){return N(parseInt(e))},children:[Object(_.jsx)("calcite-button",{slot:"dropdown-trigger",width:"full",scale:"s",appearance:"outline",children:W(C)}),Object(_.jsx)("calcite-dropdown-group",{children:K})]})]})]}),Object(_.jsxs)("calcite-block",{heading:"Geometry",summary:"String representation",open:!0,collapsible:!0,children:[Object(_.jsxs)(E,{name:"format",onChange:k,children:[Object(_.jsx)("calcite-radio-button",{checked:"esrijson"===w||void 0,value:"esrijson",children:"Esri JSON"}),Object(_.jsx)("calcite-radio-button",{checked:"geojson"===w||void 0,value:"geojson",children:"GeoJSON"}),Object(_.jsx)("calcite-radio-button",{checked:"wkt"===w||void 0,value:"wkt",children:"WKT"}),Object(_.jsx)("calcite-radio-button",{checked:"svg"===w||void 0,value:"svg",children:"SVG"})]}),Object(_.jsx)(f.a,{language:"json",style:O.a,customStyle:{marginTop:"2px",overflow:"scroll"},children:"".concat(J," \n")})]}),Object(_.jsx)("calcite-block",{heading:"Properties",summary:"Calculated values",open:!0,collapsible:!0,children:Object(_.jsxs)("table",{style:{width:"100%"},children:[Object(_.jsx)("thead",{children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Property"}),Object(_.jsx)("th",{children:"Value"})]})}),Object(_.jsx)("tbody",{children:A})]})})]})}else e=Object(_.jsx)(F,{onAddGraphic:function(e){n.current.graphics.add(e),u(e)}});return Object(_.jsxs)("calcite-shell",{children:[Object(_.jsxs)("calcite-shell-panel",{slot:"primary-panel",position:"start","width-scale":"m",children:[Object(_.jsx)("calcite-action-bar",{slot:"action-bar",theme:"dark",children:Object(_.jsx)("calcite-action-group",{children:Object(_.jsx)("calcite-action",{text:"Properties",icon:"feature-details",active:!0})})}),Object(_.jsx)("calcite-panel",{heading:"Geometry Properties",headingLevel:"1",widthScale:"l",children:Object(_.jsx)("div",{children:e})})]}),Object(_.jsx)("div",{id:"map",ref:t})]})},B=function(e){e&&e instanceof Function&&n.e(308).then(n.bind(null,1205)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},K=n(462);n(711),n(712),n(713);Object(K.a)(window),a.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(z,{})}),document.getElementById("root")),B()}},[[714,41,42]]]);
//# sourceMappingURL=main.0151cfe1.chunk.js.map