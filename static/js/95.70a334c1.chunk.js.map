{"version":3,"sources":["../node_modules/@arcgis/core/portal/support/jsonContext.js","../node_modules/@arcgis/core/renderers/support/styleUtils.js","../node_modules/@arcgis/core/portal/support/layersLoader.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js"],"names":["o","origin","url","r","itemUrl","portal","t","getDefault","portalItem","readResourcePaths","i","n","a","s","getAtOrigin","type","styleOrigin","populateFromStyle","ok","error","messages","push","e","message","context","clear","u","instance","id","load","supportedTypes","indexOf","expectedType","join","d","y","f","title","m","read","l","FeatureLayer","StreamLayer","SceneLayer","then","p","c","responseType","query","data","name","layers","map","tables","h","resourceReferences","paths","forEach","layerDefinition","filter","reverse","add","clone","layerId","sublayerTitleMode","showLegend","supportsData","fetchData","catch","length","BingMapsLayer","default","BuildingSceneLayer","CSVLayer","ElevationLayer","GroupLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","MapImageLayer","MapNotesLayer","OpenStreetMapLayer","PointCloudLayer","RouteLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","WebTileLayer","WMSLayer","WMTSLayer"],"mappings":"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","file":"static/js/95.70a334c1.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function o(o){return{origin:\"portal-item\",url:r(o.itemUrl),portal:o.portal||t.getDefault(),portalItem:o,readResourcePaths:[]}}export{o as createForItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Warning.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{result as o}from\"../../core/asyncUtils.js\";async function t(t,i,n){const s=t&&t.getAtOrigin&&t.getAtOrigin(\"renderer\",i.origin);if(s&&\"unique-value\"===s.type&&s.styleOrigin){const a=await o(s.populateFromStyle());if(r(n),!1===a.ok){const r=a.error;i&&i.messages&&i.messages.push(new e(\"renderer:style-reference\",`Failed to create unique value renderer from style reference: ${r.message}`,{error:r,context:i})),t.clear(\"renderer\",i.origin)}}}export{t as loadStyleRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{resolve as t}from\"../../core/promiseUtils.js\";import r from\"../../request.js\";import n from\"../Portal.js\";import{loadStyleRenderer as l}from\"../../renderers/support/styleUtils.js\";import{createForItem as a}from\"./jsonContext.js\";import{layerLookupMap as o}from\"../../layers/support/lazyLayerLoader.js\";async function s(n,s){const u=n.instance.portalItem;return u&&u.id?(await u.load(s),function(t){const r=t.instance.portalItem;if(-1===t.supportedTypes.indexOf(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r.type,expectedType:t.supportedTypes.join(\", \")})}(n),async function(n,s){const u=n.instance,d=u.portalItem,{url:y,title:f}=d,m=a(d);if(\"group\"===u.type)return u.read({title:f},m),function(n,l){let a;const s=n.portalItem.type;switch(s){case\"Feature Service\":a=o.FeatureLayer;break;case\"Stream Service\":a=o.StreamLayer;break;case\"Scene Service\":a=o.SceneLayer;break;case\"Feature Collection\":a=o.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${s}' is not supported as a 'GroupLayer'`)}let u;return a().then((e=>(u=e,p(l)))).then((e=>c(e)>0?i(n,u,e):function(e,n){if(!e.portalItem.url)return t();const l={responseType:\"json\",query:{f:\"json\"}};return r(e.portalItem.url,l).then((t=>{var r,l;const a=t.data;function o(e){return{id:e.id,name:e.name}}a&&i(e,n,{layers:null==(r=a.layers)?void 0:r.map(o),tables:null==(l=a.tables)?void 0:l.map(o)})}))}(n,u)))}(u,n);y&&u.read({url:y},m);const h=await p(n,s);h&&u.read(h,m);return u.resourceReferences={portalItem:d,paths:m.readResourcePaths},u.read({title:f},m),l(u,m)}(n,s)):t()}function i(e,t,r){let n=r.layers||[];const l=r.tables||[];\"Feature Collection\"===e.portalItem.type&&(n.forEach((e=>{var t;\"Table\"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&l.push(e)})),n=n.filter((e=>{var t;return\"Table\"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)}))),n.reverse().forEach((n=>{const l=u(e,t,r,n);e.add(l)})),l.reverse().forEach((n=>{const l=u(e,t,r,n);e.tables.add(l)}))}function u(e,t,r,l){const a=new t({portalItem:e.portalItem.clone(),layerId:l.id,sublayerTitleMode:\"service-name\"});if(\"Feature Collection\"===e.portalItem.type){const t={origin:\"portal-item\",portal:e.portalItem.portal||n.getDefault()};a.read(l,t);const o=r.showLegend;null!=o&&a.read({showLegend:o},t)}return a}function p(e,r){if(!1===e.supportsData)return t();const n=e.instance;return n.portalItem.fetchData(\"json\",r).catch((()=>null)).then((e=>{const t=e;let r;if(function(e){if(\"stream\"===e.type)return!1;return\"layerId\"in e}(n)){let l=!0;return e&&c(t)>0&&(null==n.layerId&&(n.layerId=function(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;if(r&&r.length)return r[0].id;return null}(t)),r=function(e,t){const r=e.layers;if(r)for(let e=0;e<r.length;e++)if(r[e].id===t)return r[e];const n=e.tables;if(n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];return null}(t,n.layerId),r&&(1===c(t)&&(l=!1),null!=e.showLegend&&(r.showLegend=e.showLegend))),l&&\"service-name\"!==n.sublayerTitleMode&&(n.sublayerTitleMode=\"item-title-and-service-name\"),r}return e}))}function c(e){var t,r,n,l;return(null!=(t=null==e||null==(r=e.layers)?void 0:r.length)?t:0)+(null!=(n=null==e||null==(l=e.tables)?void 0:l.length)?n:0)}export{s as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default};export{a as layerLookupMap};\n"],"sourceRoot":""}