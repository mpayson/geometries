(this.webpackJsonpgeometries=this.webpackJsonpgeometries||[]).push([[39],{433:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=433},485:function(e,t,n){},705:function(e,t,n){var c={"./calcite-accordion_2.entry.js":[717,114],"./calcite-action_5.entry.js":[718,89],"./calcite-alert.entry.js":[719,115],"./calcite-avatar.entry.js":[720,116],"./calcite-block_2.entry.js":[721,88],"./calcite-button.entry.js":[722,142],"./calcite-card.entry.js":[723,117],"./calcite-checkbox.entry.js":[724,118],"./calcite-chip.entry.js":[725,119],"./calcite-color-picker_3.entry.js":[726,90],"./calcite-combobox_3.entry.js":[727,11,83],"./calcite-date-picker_5.entry.js":[728,11,112],"./calcite-dropdown_3.entry.js":[729,11,143],"./calcite-fab.entry.js":[730,144],"./calcite-filter.entry.js":[731,84],"./calcite-flow_2.entry.js":[732,97],"./calcite-graph.entry.js":[733,145],"./calcite-handle.entry.js":[734,234],"./calcite-icon.entry.js":[735,146],"./calcite-inline-editable.entry.js":[736,147],"./calcite-input-message.entry.js":[737,148],"./calcite-input.entry.js":[738,120],"./calcite-label.entry.js":[739,149],"./calcite-link.entry.js":[740,150],"./calcite-loader.entry.js":[741,151],"./calcite-modal.entry.js":[742,121],"./calcite-notice.entry.js":[743,122],"./calcite-option_3.entry.js":[744,152],"./calcite-pagination.entry.js":[745,153],"./calcite-pick-list-group.entry.js":[746,98],"./calcite-pick-list-item.entry.js":[747,99],"./calcite-pick-list.entry.js":[748,81],"./calcite-popover_2.entry.js":[749,11,123],"./calcite-progress.entry.js":[750,235],"./calcite-radio-button-group.entry.js":[751,236],"./calcite-radio-button.entry.js":[752,124],"./calcite-radio-group_2.entry.js":[753,125],"./calcite-radio.entry.js":[754,237],"./calcite-rating.entry.js":[755,126],"./calcite-scrim.entry.js":[756,238],"./calcite-shell-center-row.entry.js":[757,127],"./calcite-shell_2.entry.js":[758,154],"./calcite-slider.entry.js":[759,100],"./calcite-sortable-list.entry.js":[760,38,239],"./calcite-split-button.entry.js":[761,155],"./calcite-stepper_2.entry.js":[762,128],"./calcite-switch.entry.js":[763,129],"./calcite-tab_4.entry.js":[764,101],"./calcite-tile-select-group.entry.js":[765,240],"./calcite-tile-select.entry.js":[766,156],"./calcite-tile.entry.js":[767,241],"./calcite-tip_3.entry.js":[768,113],"./calcite-tooltip_2.entry.js":[769,11,130],"./calcite-tree_2.entry.js":[770,131],"./calcite-value-list-item.entry.js":[771,91],"./calcite-value-list.entry.js":[772,38,82]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=705,e.exports=r},708:function(e,t,n){},709:function(e,t,n){"use strict";n.r(t);var c=n(92),r=n.n(c),i=n(453),a=n.n(i),l=n(32),o=n(356),s=n(458),u=n(261),j=n(462),d=n(459),b=n(460),p=n(44),h=n(137),f=n(779),O=n(778),y=n(163),m=n(355),v=n(75),g=n(82),x=n(38),w=n(86),k=n(132),M=n(9),S=n(302),C=n(58),N=function(e,t,n){var r=Object(c.useRef)(null);Object(c.useEffect)((function(){r.current=n}),[n]),Object(c.useEffect)((function(){var n=(null===t||void 0===t?void 0:t.current)||window;if(n&&n.addEventListener){var c=function(e){return r.current(e)};return n.addEventListener(e,c),function(){n.removeEventListener(e,c)}}}),[e,t])};function _(e){var t=e.children,n=e.onChange,r=Object(S.a)(e,["children","onChange"]),i=Object(c.useRef)(null);return N("calciteRadioButtonGroupChange",i,(function(e){n(e.detail)})),Object(C.jsx)("calcite-radio-button-group",Object(M.a)(Object(M.a)({ref:i},r),{},{children:t}))}function J(e){var t=e.onSelect,n=e.children,r=e.style,i=Object(S.a)(e,["onSelect","children","style"]),a=Object(c.useRef)(null);return N("calciteDropdownSelect",a,(function(e){var n=a.current.selectedItems[0].id;t(n)})),Object(C.jsx)("calcite-dropdown",Object(M.a)(Object(M.a)({style:r,ref:a},i),{},{children:n}))}var E={type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:2}},P={type:"simple-line",color:[226,119,40],width:4},L={type:"simple-fill",color:[227,139,79,.8],outline:{color:[255,255,255],width:1}};var G=function(e){var t=e.onAddGraphic,n=Object(c.useRef)(),r=Object(c.useState)("esrijson"),i=Object(l.a)(r,2),a=i[0],o=i[1];return Object(C.jsxs)("div",{style:{width:"calc(100% - 1rem)",textAlign:"center",margin:"0.5rem"},children:[Object(C.jsx)("p",{children:"Sketch a graphic to view its properties"}),Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"OR"})}),Object(C.jsx)("p",{children:"Enter in the geometry below"}),Object(C.jsx)("hr",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("calcite-label",{children:["Format",Object(C.jsxs)(_,{name:"format",onChange:o,children:[Object(C.jsx)("calcite-radio-button",{checked:"esrijson"===a||void 0,value:"esrijson",children:"Esri JSON"}),Object(C.jsx)("calcite-radio-button",{checked:"geojson"===a||void 0,value:"geojson",children:"GeoJSON"}),Object(C.jsx)("calcite-radio-button",{checked:"wkt"===a||void 0,value:"wkt",children:"WKT"})]})]}),Object(C.jsxs)("calcite-label",{children:["Geometry string",Object(C.jsx)("calcite-input",{placeholder:"Enter geometry",type:"textarea",ref:n})]}),Object(C.jsx)("calcite-button",{width:"full",onClick:function(){var e,c,r,i,l=n.current.value;switch("esrijson"===a?(e=JSON.parse(l),c=Object(y.a)(e)):"geojson"===a?(c=JSON.parse(l),e=Object(y.b)(c)):"wkt"===a&&(c=Object(m.b)(l),e=Object(y.b)(c),console.log(e)),c.type){case"Polygon":r=g.a.fromJSON(e),i=L;break;case"LineString":r=w.a.fromJSON(e),i=P;break;case"Point":r=x.a.fromJSON(e),i=E;break;case"MultiPoint":r=k.a.fromJSON(e),i=E;break;default:console.log("Unknown type")}var o=new v.a({geometry:r,symbol:i});t(o)},children:"Add to map"})]})},A=n(37),F=n(207),X=n(304),Y={polygon:[{label:"Area",fn:function(e){return Object(F.planarArea)(e)}},{label:"Geodesic Length",fn:function(e){return Object(F.geodesicLength)(e)}},{label:"Centroid (X)",fn:function(e){return e.centroid.x}},{label:"Centroid (Y)",fn:function(e){return e.centroid.y}},{label:"Min X",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max X",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.max.apply(Math,Object(A.a)(t))}},{label:"Min Y",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max Y",fn:function(e){var t=e.rings.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.max.apply(Math,Object(A.a)(t))}}],polyline:[{label:"Geodesic Length",fn:function(e){return Object(F.geodesicLength)(e)}},{label:"Centroid (X)",fn:function(e){var t=e.toJSON(),n=Object(y.a)(t);return Object(X.a)(n).geometry.coordinates[0]}},{label:"Centroid (Y)",fn:function(e){var t=e.toJSON(),n=Object(y.a)(t);return Object(X.a)(n).geometry.coordinates[1]}},{label:"Min X",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max X",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[0]})))}),[]);return Math.max.apply(Math,Object(A.a)(t))}},{label:"Min Y",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max Y",fn:function(e){var t=e.paths.reduce((function(e,t){return e.concat(t.map((function(e){return e[1]})))}),[]);return Math.max.apply(Math,Object(A.a)(t))}}],point:[],multipoint:[{label:"Centroid (X)",fn:function(e){var t=e.toJSON(),n=Object(y.a)(t);return Object(X.a)(n).geometry.coordinates[0]}},{label:"Centroid (Y)",fn:function(e){var t=e.toJSON(),n=Object(y.a)(t);return Object(X.a)(n).geometry.coordinates[1]}},{label:"Min X",fn:function(e){var t=e.points.map((function(e){return e[0]}));return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max X",fn:function(e){var t=e.points.map((function(e){return e[0]}));return Math.max.apply(Math,Object(A.a)(t))}},{label:"Min Y",fn:function(e){var t=e.points.map((function(e){return e[1]}));return Math.min.apply(Math,Object(A.a)(t))}},{label:"Max Y",fn:function(e){var t=e.points.map((function(e){return e[1]}));return Math.max.apply(Math,Object(A.a)(t))}}]},R=[{wkid:4326,label:"WGS84"},{wkid:102100,label:"Web Mercator"},{wkid:8857,label:"Equal Earth Greenwich"},{wkid:54008,label:"World Sinusoidal"},{wkid:54050,label:"World Fuller"}];function T(e){return R.find((function(t){return t.wkid===e})).label}var D=R;n(485);Object(h.g)();var W=new u.a;var U=function(){var e,t=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(),i=Object(l.a)(r,2),a=i[0],u=i[1],v=Object(c.useState)("esrijson"),g=Object(l.a)(v,2),x=g[0],w=g[1],k=Object(c.useState)(4326),M=Object(l.a)(k,2),S=M[0],N=M[1];if(Object(c.useEffect)((function(){var e=new o.a({basemap:"gray-vector",layers:[W]}),c=new s.a({container:t.current,center:[-117,34],zoom:9,map:e}),r=new j.a({content:new d.a({view:c}),expanded:!0,view:c});c.ui.add(r,"top-right"),c.ui.move("zoom","top-right");var i=new b.a({layer:W,creationMode:"update",layout:"vertical",view:c});c.ui.add(i,"top-left");var a=i.on(["create"],(function(e){"complete"===e.state&&u(e.graphic.clone())})),l=i.on(["update"],(function(e){"complete"!==e.state||e.aborted||u(e.graphics[0].clone())}));return n.current=c,function(){a.remove(),l.remove(),n&&n.current&&n.current.destroy()}}),[]),a){var E,P=new p.a({wkid:S}),L=Object(h.h)(a.geometry,P),A=Y[L.type].map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:e.label}),Object(C.jsx)("td",{children:e.fn(L)})]},e.label)})),X=L.toJSON();if("esrijson"===x)E=JSON.stringify(X,null,2);else if("geojson"===x){var R=Object(y.a)(X);E=JSON.stringify(R,null,2)}else if("wkt"===x){var U=Object(y.a)(X);E=Object(m.a)(U)}var I=D.map((function(e){return Object(C.jsx)("calcite-dropdown-item",{active:e.id===S||void 0,id:e.wkid,children:e.label},e.wkid)}));e=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("calcite-block",{heading:"Settings",open:!0,collapsible:!0,children:[Object(C.jsx)("calcite-label",{children:Object(C.jsx)("calcite-button",{scale:"s",width:"full",color:"red",appearance:"outline",onClick:function(){n.current.graphics.removeAll(),W.removeAll(),u(void 0)},children:"Clear geometries"})}),"polyline"===a.geometry.type&&Object(C.jsxs)("calcite-label",{children:["Manipulations",Object(C.jsx)("calcite-button",{scale:"s",width:"full",appearance:"outline",onClick:function(){if(a){var e=a.geometry,t=[];if("polyline"===e.type)for(var c=0;c<e.paths.length;c++)for(var r=e.paths[c],i=0;i<r.length;i++)t.push(e.getPoint(c,i));var l={symbol:{type:"simple-marker",color:[226,119,40],outline:{color:[255,255,255],width:2}},geometry:Object(F.union)(t)},o=n.current;o.graphics.removeAll(),o.graphics.add(l),W.removeAll(),u(l)}},children:"Convert vertices to multi-point"})]}),Object(C.jsxs)("calcite-label",{children:["Projection",Object(C.jsxs)(J,{style:{width:"100%"},onSelect:function(e){return N(parseInt(e))},children:[Object(C.jsx)("calcite-button",{slot:"dropdown-trigger",width:"full",scale:"s",appearance:"outline",children:T(S)}),Object(C.jsx)("calcite-dropdown-group",{children:I})]})]})]}),Object(C.jsxs)("calcite-block",{heading:"Geometry",summary:"String representation",open:!0,collapsible:!0,children:[Object(C.jsxs)(_,{name:"format",onChange:w,children:[Object(C.jsx)("calcite-radio-button",{checked:"esrijson"===x||void 0,value:"esrijson",children:"Esri JSON"}),Object(C.jsx)("calcite-radio-button",{checked:"geojson"===x||void 0,value:"geojson",children:"GeoJSON"}),Object(C.jsx)("calcite-radio-button",{checked:"wkt"===x||void 0,value:"wkt",children:"WKT"})]}),Object(C.jsx)(f.a,{language:"json",style:O.a,customStyle:{marginTop:"2px",overflow:"scroll"},children:E})]}),Object(C.jsx)("calcite-block",{heading:"Properties",summary:"Calculated values",open:!0,collapsible:!0,children:Object(C.jsxs)("table",{style:{width:"100%"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Property"}),Object(C.jsx)("th",{children:"Value"})]})}),Object(C.jsx)("tbody",{children:A})]})})]})}else e=Object(C.jsx)(G,{onAddGraphic:function(e){n.current.graphics.add(e),u(e)}});return Object(C.jsxs)("calcite-shell",{children:[Object(C.jsxs)("calcite-shell-panel",{slot:"primary-panel",position:"start","width-scale":"m",children:[Object(C.jsx)("calcite-action-bar",{slot:"action-bar",theme:"dark",children:Object(C.jsx)("calcite-action-group",{children:Object(C.jsx)("calcite-action",{text:"Properties",icon:"feature-details",active:!0})})}),Object(C.jsx)("calcite-panel",{heading:"Geometry Properties",headingLevel:"1",widthScale:"l",children:Object(C.jsx)("div",{children:e})})]}),Object(C.jsx)("div",{id:"map",ref:t})]})},I=function(e){e&&e instanceof Function&&n.e(308).then(n.bind(null,1200)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},B=n(461);n(706),n(707),n(708);Object(B.a)(window),a.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(U,{})}),document.getElementById("root")),I()}},[[709,41,42]]]);
//# sourceMappingURL=main.c949bca3.chunk.js.map