{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/core/number.js","../node_modules/@arcgis/core/layers/graphics/sources/csv/csv.js","../node_modules/@arcgis/core/layers/graphics/sources/support/CSVSourceWorker.js"],"names":["d","minX","minY","maxX","maxY","n","this","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","i","s","_loadIndex","Array","size","forEach","clear","load","length","filter","has","get","delete","remove","search","set","push","o","getObjectId","t","objectId","getAttributes","attributes","getAttribute","e","cloneWithGeometry","r","getGeometry","geometry","getCentroid","centroid","hasZ","hasM","geometryInfo","_boundsStore","_featuresById","_markedIds","Set","events","featureAdapter","h","geometryType","numFeatures","Math","min","max","coords","featureCount","vertexCount","_add","_emitChanged","_remove","invalidateIndex","forEachInBounds","emit","add","displayId","onFeatureAdd","a","getLogger","error","feature","onFeatureRemove","ar","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","mk","nb","nl","pl","pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh","split","decimal","group","pattern","locale","customs","isNaN","abs","l","indexOf","Error","c","match","fractional","places","replace","substring","round","Number","toFixed","String","lastIndexOf","padEnd","substr","pop","padStart","p","u","f","slice","reverse","join","regexp","signed","separator","strict","exponent","groupSize","groupSize2","test","eSigned","factor","RegExp","exec","NaN","trim","includes","next","x","value","done","j","I","w","E","D","q","v","S","C","y","V","k","isInteger","isFinite","floor","_fieldsIndex","_queryEngine","destroy","_fetch","url","_checkProjection","parsing","spatialReference","_parse","_createQueryEngine","layerDefinition","extent","fullExtent","timeInfo","timeExtent","start","end","executeQuery","signal","executeQueryForCount","executeQueryForIds","executeQueryForExtent","path","query","responseType","data","columnDelimiter","locationInfo","latitudeFieldName","latitudeField","longitudeFieldName","longitudeField","csv","b","name","drawingInfo","objectIdField","fields","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","wkid","_inferLocationInfo","_inferFields","toLowerCase","some","type","alias","editable","nullable","unshift","g","startTimeField","endTimeField","trackIdField","find","T","map","_inferFieldType","Date","_isValidDate","reduce","Object","prototype","toString","call","getTime","_parseCoordinateValue","m","F","WGS84","N","_","cacheSpatialQueries","featureStore","addMany","parseFloat"],"mappings":"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","file":"static/js/106.85f1fa97.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/has.js\";import{r as i}from\"../../../chunks/rbush.js\";const d={minX:0,minY:0,maxX:0,maxY:0};class n{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=i(9,s(\"csp-restrictions\")?s=>({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const s=new Array(this._idByBounds.size);let i=0;this._idByBounds.forEach(((d,n)=>{s[i++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(s)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter((s=>this._idByBounds.has(s)))),this._boundsToLoad.length=0)}}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(s){const i=this._boundsById.get(s);this._boundsById.delete(s),i&&(this._idByBounds.delete(i),this._indexInvalid||this._index.remove(i))}forEachInBounds(s,i){this._loadIndex();for(const n of function(s,i){return d.minX=i[0],d.minY=i[1],d.maxX=i[2],d.maxY=i[3],s.search(d)}(this._index,s))i(this._idByBounds.get(n))}get(s){return this._boundsById.get(s)}has(s){return this._boundsById.has(s)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(s,i){if(!this._indexInvalid){const i=this._boundsById.get(s);i&&(this._index.remove(i),this._idByBounds.delete(i))}this._boundsById.set(s,i),i&&(this._idByBounds.set(i,s),this._indexInvalid||(this._boundsToLoad.push(i),this._boundsToLoad.length>5e4&&this._loadIndex()))}}export{n as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../OptimizedFeature.js\";import e from\"../OptimizedGeometry.js\";import{getCentroidOptimizedGeometry as r}from\"../centroid.js\";const o={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new t(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,o)=>(t.centroid||(t.centroid=r(new e,t.geometry,o.hasZ,o.hasM)),t.centroid)};export default o;export{o as optimizedFeatureQueryEngineAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import t from\"../../../core/Logger.js\";import r from\"../../../core/Error.js\";import s from\"../../../core/Evented.js\";import{create as o,NEGATIVE_INFINITY as i}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as a}from\"../featureConversionUtils.js\";import{fromRect as d}from\"../../../geometry/support/aaBoundingBox.js\";import{BoundsStore as n}from\"./BoundsStore.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";export default class{constructor(e){this.geometryInfo=e,this._boundsStore=new n,this._featuresById=new Map,this._markedIds=new Set,this.events=new s,this.featureAdapter=h}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){if(!this.numFeatures)return null;const e=o(i);return this._featuresById.forEach((t=>{const r=this._boundsStore.get(t.objectId);r&&(e[0]=Math.min(r[0],e[0]),e[1]=Math.min(r[1],e[1]),e[2]=Math.max(r[2],e[2]),e[3]=Math.max(r[3],e[3]))})),e}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t,r){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t(d(r,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}startMarkingUsedFeatures(){this._boundsStore.invalidateIndex(),this._markedIds.clear()}sweep(){let e=!1;this._featuresById.forEach(((t,r)=>{this._markedIds.has(r)||(e=!0,this._remove(t))})),this._markedIds.clear(),e&&this._emitChanged()}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(s){if(!s)return;const i=s.objectId;if(null==i)return void t.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new r(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:s}));const d=this._featuresById.get(i);let n;if(this._markedIds.add(i),d?(s.displayId=d.displayId,n=this._boundsStore.get(i),this._boundsStore.delete(i)):e(this.onFeatureAdd)&&this.onFeatureAdd(s),!s.geometry||!s.geometry.coords||!s.geometry.coords.length)return this._boundsStore.set(i,null),void this._featuresById.set(i,s);n=a(n||o(),s.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(i,n),this._featuresById.set(i,s)}_remove(t){return e(this.onFeatureRemove)&&this.onFeatureRemove(t),this._markedIds.delete(t.objectId),this._boundsStore.delete(t.objectId),this._featuresById.delete(t.objectId),t}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{escapeRegExpString as e}from\"./string.js\";import{getLocale as n}from\"../intl/locale.js\";const t={ar:[\".\",\",\"],bs:[\",\",\".\"],ca:[\",\",\".\"],cs:[\",\",\" \"],da:[\",\",\".\"],de:[\",\",\".\"],\"de-ch\":[\".\",\"’\"],el:[\",\",\".\"],en:[\".\",\",\"],\"en-au\":[\".\",\",\"],es:[\",\",\".\"],\"es-mx\":[\".\",\",\"],et:[\",\",\" \"],fi:[\",\",\" \"],fr:[\",\",\" \"],\"fr-ch\":[\",\",\" \"],he:[\".\",\",\"],hi:[\".\",\",\",\"#,##,##0.###\"],hr:[\",\",\".\"],hu:[\",\",\" \"],id:[\",\",\".\"],it:[\",\",\".\"],\"it-ch\":[\".\",\"’\"],ja:[\".\",\",\"],ko:[\".\",\",\"],lt:[\",\",\" \"],lv:[\",\",\" \"],mk:[\",\",\".\"],nb:[\",\",\" \"],nl:[\",\",\".\"],pl:[\",\",\" \"],pt:[\",\",\".\"],\"pt-pt\":[\",\",\" \"],ro:[\",\",\".\"],ru:[\",\",\" \"],sk:[\",\",\" \"],sl:[\",\",\".\"],sr:[\",\",\".\"],sv:[\",\",\" \"],th:[\".\",\",\"],tr:[\",\",\".\"],uk:[\",\",\" \"],vi:[\",\",\".\"],zh:[\".\",\",\"]};function r(e){e||(e=n());let r=e in t;if(!r){const n=e.split(\"-\");n.length>1&&n[0]in t&&(e=n[0],r=!0),r||(e=\"en\")}const[o,i,s=\"#,##0.###\"]=t[e];return{decimal:o,group:i,pattern:s}}function o(e,n){const t=r((n={...n}).locale);n.customs=t;const o=n.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:function(e,n,t){const r=(t=t||{}).customs.group,o=t.customs.decimal,s=n.split(\";\"),l=s[0];if(-1!==(n=s[e<0?1:0]||\"-\"+l).indexOf(\"%\"))e*=100;else if(-1!==n.indexOf(\"‰\"))e*=1e3;else{if(-1!==n.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");if(-1!==n.indexOf(\"E\"))throw new Error(\"exponential notation not supported\")}const c=i,a=l.match(c);if(!a)throw new Error(\"unable to find a number expression in pattern: \"+n);!1===t.fractional&&(t.places=0);return n.replace(c,function(e,n,t){!0===(t=t||{}).places&&(t.places=0);t.places===1/0&&(t.places=6);const r=n.split(\".\"),o=\"string\"==typeof t.places&&t.places.indexOf(\",\");let i=t.places;o?i=t.places.substring(o+1):i>=0||(i=(r[1]||[]).length);t.round<0||(e=Number(e.toFixed(Number(i))));const s=String(Math.abs(e)).split(\".\"),l=s[1]||\"\";if(r[1]||t.places){o&&(t.places=t.places.substring(0,o));const e=void 0!==t.places?t.places:r[1]&&r[1].lastIndexOf(\"0\")+1;e>l.length&&(s[1]=l.padEnd(Number(e),\"0\")),i<l.length&&(s[1]=l.substr(0,Number(i)))}else s[1]&&s.pop();const c=r[0].replace(\",\",\"\");let a=c.indexOf(\"0\");-1!==a&&(a=c.length-a,a>s[0].length&&(s[0]=s[0].padStart(a,\"0\")),-1===c.indexOf(\"#\")&&(s[0]=s[0].substr(s[0].length-a)));let p,u,f=r[0].lastIndexOf(\",\");if(-1!==f){p=r[0].length-f-1;const e=r[0].substr(0,f);f=e.lastIndexOf(\",\"),-1!==f&&(u=e.length-f-1)}const d=[];for(let e=s[0];e;){const n=e.length-p;d.push(n>0?e.substr(n):e),e=n>0?e.slice(0,n):\"\",u&&(p=u,u=void 0)}return s[0]=d.reverse().join(t.group||\",\"),s.join(t.decimal||\".\")}(e,a[0],{decimal:o,group:r,places:t.places,round:t.round}))}(e,o,n)}const i=/[#0,]*[#0](?:\\.0*#*)?/;function s(e){return l(e).regexp}function l(n){const t=r((n=n||{}).locale),o=n.pattern||t.pattern,s=t.group,l=t.decimal;let c=1;if(-1!==o.indexOf(\"%\"))c/=100;else if(-1!==o.indexOf(\"‰\"))c/=1e3;else if(-1!==o.indexOf(\"¤\"))throw new Error(\"currency notation not supported\");const u=o.split(\";\");1===u.length&&u.push(\"-\"+u[0]);return{regexp:p(u,(function(t){return(t=\"(?:\"+e(t,\".\")+\")\").replace(i,(function(e){const t={signed:!1,separator:n.strict?s:[s,\"\"],fractional:n.fractional,decimal:l,exponent:!1},r=e.split(\".\");let o=n.places;1===r.length&&1!==c&&(r[1]=\"###\"),1===r.length||0===o?t.fractional=!1:(void 0===o&&(o=n.pattern?r[1].lastIndexOf(\"0\")+1:1/0),o&&null==n.fractional&&(t.fractional=!0),!n.places&&o<r[1].length&&(o+=\",\"+r[1].length),t.places=o);const i=r[0].split(\",\");return i.length>1&&(t.groupSize=i.pop().length,i.length>1&&(t.groupSize2=i.pop().length)),\"(\"+function(e){\"places\"in(e=e||{})||(e.places=1/0);\"string\"!=typeof e.decimal&&(e.decimal=\".\");\"fractional\"in e&&!/^0/.test(String(e.places))||(e.fractional=[!0,!1]);\"exponent\"in e||(e.exponent=[!0,!1]);\"eSigned\"in e||(e.eSigned=[!0,!1]);const n=a(e),t=p(e.fractional,(function(n){let t=\"\";return n&&0!==e.places&&(t=\"\\\\\"+e.decimal,e.places===1/0?t=\"(?:\"+t+\"\\\\d+)?\":t+=\"\\\\d{\"+e.places+\"}\"),t}),!0),r=p(e.exponent,(function(n){return n?\"([eE]\"+a({signed:e.eSigned})+\")\":\"\"}));let o=n+t;t&&(o=\"(?:(?:\"+o+\")|(?:\"+t+\"))\");return o+r}(t)+\")\"}))}),!0).replace(/[\\xa0 ]/g,\"[\\\\s\\\\xa0]\"),group:s,decimal:l,factor:c}}function c(e,n){const t=l(n),r=new RegExp(\"^\"+t.regexp+\"$\").exec(e);if(!r)return NaN;let o=r[1];if(!r[1]){if(!r[2])return NaN;o=r[2],t.factor*=-1}return o=o.replace(new RegExp(\"[\"+t.group+\"\\\\s\\\\xa0]\",\"g\"),\"\").replace(t.decimal,\".\"),Number(o)*t.factor}function a(n){\"signed\"in(n=n||{})||(n.signed=[!0,!1]),\"separator\"in n?\"groupSize\"in n||(n.groupSize=3):n.separator=\"\";return p(n.signed,(function(e){return e?\"[-+]\":\"\"}),!0)+p(n.separator,(function(t){if(!t)return\"(?:\\\\d+)\";\" \"===(t=e(t))?t=\"\\\\s\":\" \"===t&&(t=\"\\\\s\\\\xa0\");const r=n.groupSize,o=n.groupSize2;if(o){const e=\"(?:0|[1-9]\\\\d{0,\"+(o-1)+\"}(?:[\"+t+\"]\\\\d{\"+o+\"})*[\"+t+\"]\\\\d{\"+r+\"})\";return r-o>0?\"(?:\"+e+\"|(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}))\":e}return\"(?:0|[1-9]\\\\d{0,\"+(r-1)+\"}(?:[\"+t+\"]\\\\d{\"+r+\"})*)\"}),!0)}const p=function(e,n,t){if(!(e instanceof Array))return n(e);const r=[];for(let t=0;t<e.length;t++)r.push(n(e[t]));return u(r.join(\"|\"),t)},u=function(e,n){return\"(\"+(n?\"?:\":\"\")+e+\")\"};export{l as _parseInfo,o as format,r as getCustoms,c as parse,s as regexp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst n=/^\\s*\"([\\S\\s]*)\"\\s*$/,t=/\"\"/g,e=[\",\",\" \",\";\",\"|\",\"\\t\"];function o(n,t){const e={},o=n.length;for(let r=0;r<o;r++)e[n[r]]=t[r];return e}function*r(n,t,e){let o=0;for(;o<=n.length;){const r=n.indexOf(t,o),i=n.substring(o,r>-1?r:void 0);o+=i.length+1,e&&!i.trim()||(yield i)}}function i(n){const t=n.includes(\"\\r\\n\")?\"\\r\\n\":\"\\n\";return r(n,t,!0)}function c(n,t){return r(n,t,!1)}function f(n){const t=n.trim();let o=0,r=\"\";for(const n of e){const e=t.split(n).length;e>o&&(o=e,r=n)}return\"\"===r?null:r}function*s(e,r,i){let f=\"\",s=\"\",l=0,d=[];n:for(;;){const{value:x,done:g}=e.next();if(g)return;const h=c(x,i);t:for(;;){const{value:e,done:o}=h.next();if(o)break t;if(f+=s+e,s=\"\",l+=u(e),l%2==0){if(l>0){const e=n.exec(f);if(!e){d=[],f=\"\",l=0;continue n}d.push(e[1].replace(t,'\"'))}else d.push(f);f=\"\",l=0}else s=i}0===l?(yield o(r,d),d=[]):s=\"\\n\"}}function u(n){let t=0,e=0;for(e=n.indexOf('\"',e);e>=0;)t++,e=n.indexOf('\"',e+1);return t}export{f as inferDelimiter,s as parseRows,c as readRowParts,i as readRows};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{mixin as t}from\"../../../../core/lang.js\";import i from\"../../../../core/Error.js\";import{urlToObject as n,getFilename as r}from\"../../../../core/urlUtils.js\";import{all as o}from\"../../../../core/promiseUtils.js\";import{equals as l,isWebMercator as s,WGS84 as a}from\"../../../../geometry/support/spatialReferenceUtils.js\";import d from\"../../../../geometry/SpatialReference.js\";import{lngLatToXY as u}from\"../../../../geometry/support/webMercatorUtils.js\";import\"../../../../geometry.js\";import c from\"../../../../request.js\";import{projectMany as m}from\"../../../../geometry/projection.js\";import{_parseInfo as f}from\"../../../../core/number.js\";import p from\"../../OptimizedFeature.js\";import y from\"../../OptimizedGeometry.js\";import g from\"../../../support/FieldsIndex.js\";import{jsonAdapter as F}from\"../../../../geometry/geometryAdapters/json.js\";import{checkProjectionSupport as h}from\"../../data/projectionSupport.js\";import{createDrawingInfo as I}from\"./clientSideDefaults.js\";import N from\"../../data/FeatureStore.js\";import _ from\"../../data/QueryEngine.js\";import{readRows as x,inferDelimiter as b,parseRows as T}from\"../csv/csv.js\";const j=I(\"esriGeometryPoint\"),w=[\"esriFieldTypeSmallInteger\",\"esriFieldTypeInteger\",\"esriFieldTypeSingle\",\"esriFieldTypeDouble\",\"esriFieldTypeLong\"],E=[\"lat\",\"latitude\",\"latitude83\",\"latdecdeg\",\"lat_dd\",\"y\",\"ycenter\",\"point-y\"],D=[\"lon\",\"lng\",\"long\",\"longitude\",\"longitude83\",\"longdecdeg\",\"long_dd\",\"x\",\"xcenter\",\"point-x\"],q=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,v=[\"csv\"],S=[0,0];class C{constructor(e,t){this.x=e,this.y=t}}const V=function(){const e=f(),t=new RegExp(\"^\"+e.regexp+\"$\"),i=new RegExp(\"[\"+e.group+\"\\\\s\\\\xa0]\",\"g\"),n=e.factor;return function(r){const o=t.exec(r);if(e.factor=n,!o)return NaN;let l=o[1];if(!o[1]){if(!o[2])return NaN;l=o[2],e.factor*=-1}return l=l.replace(i,\"\").replace(e.decimal,\".\"),+l*e.factor}}(),k=\"isInteger\"in Number?Number.isInteger:e=>\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e;export default class{constructor(){this._fieldsIndex=null,this._queryEngine=null}destroy(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy(),this._queryEngine=null,this._fieldsIndex=null}async load(e,t={}){const[i]=await o([this._fetch(e.url,t),this._checkProjection(t&&e.parsing&&e.parsing.spatialReference)]),n=this._parse(i,e);if(this._queryEngine=this._createQueryEngine(i,n),n.layerDefinition.extent=this._queryEngine.fullExtent,n.layerDefinition.timeInfo){const{start:e,end:t}=this._queryEngine.timeExtent;n.layerDefinition.timeInfo.timeExtent=[e,t]}return n}async applyEdits(){throw new i(\"csv-source:editing-not-supported\",\"applyEdits() is not supported on CSVLayer\")}async queryFeatures(e={},t={}){return this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return this._queryEngine.executeQueryForExtent(e,t.signal)}async _fetch(e,t){if(!e)throw new i(\"csv-source:invalid-source\",\"url not defined\");const r=n(e);return(await c(r.path,{query:r.query,responseType:\"text\",signal:t.signal})).data}_parse(e,n){const o=n.parsing||{},l={columnDelimiter:o.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:o.latitudeField,longitudeFieldName:o.longitudeField}},s=x(e);let{value:a}=s.next();if(!a)throw new i(\"csv\",\"CSV is empty\",{csv:e});if(a=a.trim(),!o.columnDelimiter){const e=b(a);if(!e)throw new i(\"csv-source:invalid-delimiter\",\"Unable to detect the delimiter from CSV\");l.columnDelimiter=e}const d=a.split(l.columnDelimiter),u=l.layerDefinition={name:r(n.url,v)||\"csv\",drawingInfo:j,geometryType:\"esriGeometryPoint\",objectIdField:null,fields:[],timeInfo:o.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:o.spatialReference||{wkid:102100}}};if(!o.latitudeField||!o.longitudeField){const e=this._inferLocationInfo(d);if(!o.longitudeField&&!e.longitudeFieldName||!o.latitudeField&&!e.latitudeFieldName)throw new i(\"csv\",\"Unable to identify latitudeField and/or longitudeField from CSV\");l.locationInfo={longitudeFieldName:o.longitudeField||e.longitudeFieldName,latitudeFieldName:o.latitudeField||e.latitudeFieldName}}const c=this._inferFields(s,l.columnDelimiter,d,l.locationInfo);if(o.fields&&o.fields.length){const e=new Map;for(const t of o.fields)e.set(t.name.toLowerCase(),t);for(const i of c){const n=e.get(i.name.toLowerCase());if(n){const e=i.name;t(i,n),i.name=e}}}u.fields=c;if(!u.fields.some((e=>\"esriFieldTypeOID\"===e.type&&(u.objectIdField=e.name,!0)))){const e={name:\"__OBJECTID\",alias:\"__OBJECTID\",type:\"esriFieldTypeOID\",editable:!1,nullable:!1};u.objectIdField=e.name,u.fields.unshift(e)}if(this._fieldsIndex=new g(u.fields),u.timeInfo){const e=u.timeInfo;if(e.startTimeField){const t=this._fieldsIndex.get(e.startTimeField);t?(e.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.startTimeField=null}if(e.endTimeField){const t=this._fieldsIndex.get(e.endTimeField);t?(e.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):e.endTimeField=null}if(e.trackIdField){const t=this._fieldsIndex.get(e.trackIdField);e.trackIdField=t?t.name:null}e.startTimeField||e.endTimeField||(u.timeInfo=null)}return l}_inferLocationInfo(e){let t=null,i=null;const n=t=>e.find((e=>e.toLowerCase()===t));return D.some((e=>(t=n(e),!!t))),E.some((e=>(i=n(e),!!i))),{longitudeFieldName:t,latitudeFieldName:i}}_inferFields(e,t,i,n){const r=[],o=T(e,i,t),l=[];e:for(;l.length<10;){const{value:e,done:t}=o.next();if(t)break e;l.push(e)}for(const e of i)if(e===n.longitudeFieldName||e===n.latitudeFieldName)r.push({name:e,type:\"esriFieldTypeDouble\",alias:e});else{const t=l.map((t=>t[e])),i=this._inferFieldType(t),n={name:e,type:null,alias:e};switch(i){case\"integer\":n.type=\"esriFieldTypeInteger\";break;case\"double\":n.type=\"esriFieldTypeDouble\";break;case\"date\":n.type=\"esriFieldTypeDate\",n.length=36;break;default:n.type=\"esriFieldTypeString\",n.length=255}r.push(n)}return r}_inferFieldType(e){if(!e.length)return\"string\";const t=/[^+-.,0-9]/;return e.map((e=>{let i=!1;if(\"\"!==e){if(t.test(e))i=!0;else{let t=V(e);if(!isNaN(t))return/[.,]/.test(e)||!k(t)||t>214783647||t<-214783648?\"double\":\"integer\";if(-1===e.indexOf(\"E\"))i=!0;else{if(t=Number(e),!isNaN(t))return\"double\";if(-1===e.indexOf(\",\"))i=!0;else{if(e=e.replace(\",\",\".\"),t=Number(e),!isNaN(t))return\"double\";i=!0}}}if(i){if(!/^[-]?\\d*[.,]?\\d*$/.test(e)){const t=new Date(e);return this._isValidDate(t,e)?\"date\":\"string\"}return\"string\"}return\"string\"}})).reduce(((e,t)=>void 0===e||e===t?t:\"string\"===e||\"string\"===t?\"string\":\"double\"===e||\"double\"===t?\"double\":void 0))}_isValidDate(t,i){if(!t||\"[object Date]\"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))return!1;let n=!0;if(e(\"chrome\")&&/\\d+\\W*$/.test(i)){const e=i.match(/[a-zA-Z]{2,}/);if(e){let t=!1,i=0;for(;!t&&i<=e.length;)t=!q.test(e[i]),i++;n=!t}}return n}_createQueryEngine(e,t){const{latitudeFieldName:i,longitudeFieldName:n}=t.locationInfo,{objectIdField:r,fields:o,extent:a,timeInfo:c}=t.layerDefinition;let f=[];const g=[],h=new Set,I=new Set,b=[];for(const{name:e,type:t}of o)\"esriFieldTypeDate\"===t?h.add(e):w.indexOf(t)>-1&&I.add(e),e!==r&&b.push(e);let j=0;const E=x(e);E.next();const D=T(E,b,t.columnDelimiter);e:for(;;){const{value:e,done:t}=D.next();if(t)break e;const o=this._parseCoordinateValue(e[i]),l=this._parseCoordinateValue(e[n]);if(null!=l&&null!=o&&!isNaN(o)&&!isNaN(l)){e[i]=o,e[n]=l;for(const t in e)if(t!==i&&t!==n)if(h.has(t)){const i=new Date(e[t]);e[t]=this._isValidDate(i,e[t])?i.getTime():null}else if(I.has(t)){const i=V(e[t]);isNaN(i)?e[t]=null:e[t]=i}e[r]=j,j++,f.push(new C(l,o)),g.push(e)}}if(!l({wkid:4326},a.spatialReference))if(s(a.spatialReference))for(const e of f)[e.x,e.y]=u(e.x,e.y,S);else f=m(F,f,d.WGS84,a.spatialReference,null);const q=new N({geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1}),v=new _({fields:t.layerDefinition.fields,geometryType:\"esriGeometryPoint\",hasM:!1,hasZ:!1,timeInfo:c,objectIdField:r,spatialReference:a.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:q}),k=[];for(let e=0;e<f.length;e++){const{x:t,y:i}=f[e],n=g[e];n[r]=e+1,k.push(new p(new y([],[t,i]),n,null,n[r]))}return q.addMany(k),v}_parseCoordinateValue(e){if(null==e||\"\"===e)return null;let t=V(e);return(isNaN(t)||Math.abs(t)>181)&&(t=parseFloat(e)),t}async _checkProjection(e){try{await h(a,e)}catch{throw new i(\"csv-layer\",\"Projection not supported\")}}}export{E as csvLatitudeFieldNames,D as csvLongitudeFieldNames};\n"],"sourceRoot":""}