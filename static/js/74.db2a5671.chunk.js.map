{"version":3,"sources":["../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","../node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","../node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","../node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/ImageryBitmapSource.js","../node_modules/@arcgis/core/views/2d/engine/Bitmap.js"],"names":["r","t","e","document","createElement","getContext","height","width","clearRect","n","createLinearGradient","colorStops","ratio","color","addColorStop","Math","max","fillStyle","fillRect","getImageData","data","o","h","blurRadius","a","fieldOffset","f","field","c","Float64Array","l","i","s","round","m","Number","NEGATIVE_INFINITY","d","readAttribute","u","g","Set","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","y","b","min","matrix","buffer","canvas","set","Uint8ClampedArray","Uint32Array","Uint8Array","length","floor","putImageData","exp","pow","sqrt","PI","tiles","Map","this","clear","layer","layerView","tileInfoView","isUpdating","createTile","once","notifyChange","id","forEach","delete","key","disposeTile","isReady","requestUpdate","prototype","bitmap","coordScale","ready","destroy","beforeRender","afterRender","stencilRef","transforms","dvs","stage","_tileInfoView","getTileBounds","tileInfo","size","registerRenderPass","name","brushes","target","children","map","drawPhase","MAP","visible","gradient","intensities","minPixelIntensity","maxPixelIntensity","_intensityInfo","featuresView","attributeView","initialize","requestRender","_container","getTileCoords","resolution","getTileResolution","renderer","type","_gradient","toJSON","source","invalidateTexture","addChild","removeAllChildren","removeChild","get","tileKey","intensityInfo","console","error","triangleCountReportedInDebug","tileMat3","triangleCount","bounds","coordRange","texture","dispose","_coords","_bounds","pixelRatio","toScreenNoRotation","coords","displayViewMat3","level","row","col","sortChildren","setStencilReference","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","setTransform","pixelBlock","extent","originalPixelBlock","filter","getAsRGBA","createImageData","renderedRasterPixels","pixelFormat","internalFormat","dataType","wrapMode","requestRenderOnSourceChangedEnabled","_textureInvalidated","_height","rotation","_source","_width","bind","_texture","sourceWidth","sourceHeight","HTMLImageElement","naturalHeight","naturalWidth","updateTexture","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","context","bindTexture","resize","getRenderedRasterPixels","setData","render"],"mappings":"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","file":"static/js/74.db2a5671.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport t from\"../../core/global.js\";import{clamp as e}from\"../../core/mathUtils.js\";const r=(()=>{if(!(\"document\"in t))return()=>null;const e=document.createElement(\"canvas\"),r=e.getContext(\"2d\");return e.height=512,e.width=1,t=>{r.clearRect(0,0,1,e.height);const n=r.createLinearGradient(0,0,0,e.height);for(const{ratio:e,color:r}of t.colorStops)n.addColorStop(Math.max(e,.001),`rgba(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]})`);return r.fillStyle=n,r.fillRect(0,0,1,e.height),r.getImageData(0,0,1,e.height).data}})();function n(t,e,r,n){const{blurRadius:o,fieldOffset:a,field:f}=e,u=new Float64Array(r*n),l=i(o),s=Math.round(3*o);let h,m=Number.NEGATIVE_INFINITY;const d=c(f,a);for(const{geometry:e,attributes:o}of t){const t=e.x-s,a=e.y-s,f=Math.max(0,t),i=Math.max(0,a),c=Math.min(n,e.y+s),g=Math.min(r,e.x+s),y=+d(o);for(let e=i;e<c;e++){const n=l[e-a];for(let o=f;o<g;o++){const a=l[o-t];h=u[e*r+o]+=n*a*y,h>m&&(m=h)}}}return{matrix:u.buffer,max:m}}function o(t,e,r,n){const{blurRadius:o,fieldOffset:a,field:f}=e,c=new Float64Array(r*n),l=i(o),s=Math.round(3*o);let h,m=Number.NEGATIVE_INFINITY;const d=u(f,a),g=new Set;for(const e of t){const t=e.getCursor();for(;t.next();){const e=t.getObjectId();if(g.has(e))continue;g.add(e);const o=t.readLegacyPointGeometry(),a=+d(t),f=o.x-s,i=o.y-s,u=Math.max(0,f),y=Math.max(0,i),b=Math.min(n,o.y+s),x=Math.min(r,o.x+s);for(let t=y;t<b;t++){const e=l[t-i];for(let n=u;n<x;n++){const o=l[n-f];h=c[t*r+n]+=e*o*a,h>m&&(m=h)}}}}return{matrix:c.buffer,max:m}}function a(t,e,r,n,o,a){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const i=t.getImageData(0,0,e,e);r&&n&&i.data.set(new Uint8ClampedArray(f(e,r,n,o,a))),t.putImageData(i,0,0)}function f(t,r,n,o,a){const f=new Uint32Array(t*t),i=\"buffer\"in r?r:new Float64Array(r),c=\"buffer\"in n?new Uint32Array(n.buffer):new Uint32Array(new Uint8Array(n).buffer),u=c.length/(a-o);for(let t=0;t<i.length;t++){const r=i[t],n=Math.floor((r-o)*u);f[t]=c[e(n,0,c.length-1)]}return f.buffer}function i(t){const e=Math.round(3*t),r=2*t*t,n=new Float64Array(2*e+1);for(let o=0;o<=n.length;o++)n[o]=Math.exp(-Math.pow(o-e,2)/r)/Math.sqrt(2*Math.PI)*(t/2);return n}function c(t,e){return\"function\"==typeof t?t:t?\"string\"==typeof e?e=>-1*+e[t]:r=>+r[t]+e:()=>1}function u(t,e){return null!=t?\"string\"==typeof e?e=>-1*+e.readAttribute(t):r=>+r.readAttribute(t)+e:t=>1}export{n as calculateHeatmapIntensityInfo,o as calculateHeatmapIntensityInfoReaders,f as createHeatmapImageData,i as createKernel,c as createValueFunction,u as createValueFunctionCursor,a as drawHeatmap,r as generateGradient};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{HandleOwner as s}from\"../../../../../core/HandleOwner.js\";let i=class extends s{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.disposeTile(e)}isUpdating(){let e=!0;return this.tiles.forEach((t=>{e=e&&t.isReady})),!e}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([t()],i.prototype,\"layer\",void 0),e([t()],i.prototype,\"layerView\",void 0),e([t()],i.prototype,\"tileInfoView\",void 0),e([t()],i.prototype,\"updating\",null),i=e([r(\"esri.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],i);var o=i;export default o;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{TiledDisplayObject as e}from\"./webgl/TiledDisplayObject.js\";import{Bitmap as t}from\"./Bitmap.js\";class s extends e{constructor(e,s,r,i=null){super(e,s,r,r),this.bitmap=new t(i),this.bitmap.coordScale=r,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(e){super.beforeRender(e),this.bitmap.beforeRender(e)}afterRender(e){super.afterRender(e),this.bitmap.afterRender(e)}set stencilRef(e){this.bitmap.stencilRef=e}get stencilRef(){return this.bitmap.stencilRef}setTransform(e,t){super.setTransform(e,t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{s as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import{brushes as s}from\"./brushes.js\";import t from\"./webgl/TileContainer.js\";import{BitmapTile as i}from\"./BitmapTile.js\";class o extends t{createTile(r){const s=this._tileInfoView.getTileBounds(e(),r);return new i(r,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const t=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[s.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}}export{o as BitmapTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minPixelIntensity,this.maxPixelIntensity)}}export{i as HeatmapSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import\"../../../../../core/urlUtils.js\";import\"../../../../../core/uuid.js\";import\"../../../../../portal/support/resourceExtension.js\";import{resolve as i}from\"../../../../../core/promiseUtils.js\";import{generateGradient as r}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as s}from\"../../../engine/BitmapTileContainer.js\";import n from\"./BaseTileRenderer.js\";import{HeatmapSource as o}from\"./support/HeatmapSource.js\";let a=class extends n{constructor(e){super(e),this._intensityInfo={minPixelIntensity:0,maxPixelIntensity:0},this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new s(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minPixelIntensity:t,maxPixelIntensity:i}=e;this._intensityInfo.minPixelIntensity=t,this._intensityInfo.maxPixelIntensity=i,this._gradient=r(e.toJSON()),this.tiles.forEach((e=>{const r=e.bitmap.source;r&&(r.minPixelIntensity=t,r.maxPixelIntensity=i,r.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return i([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minPixelIntensity:r,maxPixelIntensity:s}=this._intensityInfo,n=t.bitmap.source||new o;n.intensities=i&&i.matrix||null,n.minPixelIntensity=r,n.maxPixelIntensity=s,n.gradient=this._gradient,t.bitmap.source=n,this._container.addChild(t),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}};a=e([t(\"esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],a);var l=a;export default l;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{s,m as t}from\"../../../../chunks/mat3.js\";import o from\"../../tiling/TileKey.js\";import{c as i}from\"../../../../chunks/mat3f32.js\";import{DisplayObject as e}from\"../DisplayObject.js\";class r extends e{constructor(s,t,e,r=e){super(),this.triangleCountReportedInDebug=0,this.transforms={dvs:i(),tileMat3:i()},this.triangleCount=0,this.key=new o(s),this.bounds=t,this.size=e,this.coordRange=r}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}get coords(){return this._coords}get bounds(){return this._bounds}set bounds(s){this._coords=[s[0],s[3]],this._bounds=s}setTransform(o,i){const e=i/(o.resolution*o.pixelRatio),r=this.transforms.tileMat3,[n,h]=o.toScreenNoRotation([0,0],this.coords),a=this.size[0]/this.coordRange[0]*e,d=this.size[1]/this.coordRange[1]*e;s(r,a,0,0,0,d,0,n,h,1),t(this.transforms.dvs,o.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{WGLDrawPhase as e}from\"./enums.js\";import r from\"./brushes/WGLBrushInfo.js\";import s from\"./brushes/WGLBrushStencil.js\";import t from\"./WGLContainer.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;export default class extends t{constructor(e){super(),this._tileInfoView=e}renderChildren(e){this.sortChildren(n),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(t){const n=t.registerRenderPass({name:\"stencil\",brushes:[s],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()}),i=t.registerRenderPass({name:\"tileInfo\",brushes:[r],drawPhase:e.DEBUG,target:()=>this.children,has:\"esri-tiles-debug\"});return[...super.prepareRenderPasses(t),n,i]}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export{n as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nexport default class{constructor(e,t,i){this.pixelBlock=e,this.extent=t,this.originalPixelBlock=i}get width(){return this.pixelBlock?this.pixelBlock.width:0}get height(){return this.pixelBlock?this.pixelBlock.height:0}render(e){const t=this.pixelBlock;if(!t)return;const i=this.filter({pixelBlock:t}),l=i.pixelBlock.getAsRGBA(),h=e.createImageData(i.pixelBlock.width,i.pixelBlock.height);h.data.set(l),e.putImageData(h,0,0)}getRenderedRasterPixels(){const e=this.filter({pixelBlock:this.pixelBlock});return{width:e.pixelBlock.width,height:e.pixelBlock.height,renderedRasterPixels:new Uint8Array(e.pixelBlock.getAsRGBA().buffer)}}}\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport\"../../../core/has.js\";import{i as t,a as e,r as i,j as s,m as r}from\"../../../chunks/mat3.js\";import{c as h}from\"../../../chunks/mat3f32.js\";import{f as n}from\"../../../chunks/vec2f32.js\";import\"../../../chunks/builtins.js\";import o from\"../../webgl/Texture.js\";import\"../../webgl/FramebufferObject.js\";import\"../../webgl/RenderingContext.js\";import{DisplayObject as u}from\"./DisplayObject.js\";import a from\"./ImageryBitmapSource.js\";function d(t,e,i){const s={target:3553,pixelFormat:6408,internalFormat:6408,dataType:5121,wrapMode:33071};return e&&i&&(s.width=e,s.height=i),new o(t,s)}class c extends u{constructor(t=null,e=!0){super(),this.requestRenderOnSourceChangedEnabled=e,this._textureInvalidated=!0,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.transforms={dvs:h()},this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null)}get isSourceScaled(){return this.width!==this.sourceWidth||this.height!==this.sourceHeight}get height(){return void 0!==this._height?this._height:this.sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){this._source=t,this.invalidateTexture()}get sourceHeight(){return this._source instanceof HTMLImageElement?this._source.naturalHeight:this._source.height}get sourceWidth(){return this._source instanceof HTMLImageElement?this._source.naturalWidth:this._source.width}get width(){return void 0!==this._width?this._width:this.sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRenderOnSourceChangedEnabled&&this.requestRender())}setTransform(h){const o=t(this.transforms.dvs),[u,a]=h.toScreenNoRotation([0,0],this.x,this.y),d=this.resolution/this.pixelRatio/h.resolution,c=d*this.width,l=d*this.height,x=Math.PI*this.rotation/180;e(o,o,n(u,a)),e(o,o,n(c/2,l/2)),i(o,o,-x),e(o,o,n(-c/2,-l/2)),s(o,o,n(c,l)),r(this.transforms.dvs,h.displayViewMat3,o)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind({context:t},e){this._texture&&t.bindTexture(this._texture,e)}updateTexture({context:t}){var e;if(!this.stage)return null==(e=this._texture)||e.dispose(),void(this._texture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1,this._texture||(this.source?this._texture=d(t,this.sourceWidth,this.sourceHeight):this._texture=d(t));const i=this.source;if(i){if(this._texture.resize(this.sourceWidth,this.sourceHeight),function(t){return t&&\"render\"in t}(i))if(i instanceof a){const t=i.getRenderedRasterPixels();this._texture.setData(t.renderedRasterPixels)}else this._texture.setData(function(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}(i));else(function(t){return t&&!(\"render\"in t)})(i)&&this._texture.setData(i);this.ready()}else this._texture.setData(null)}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}}export{c as Bitmap};\n"],"sourceRoot":""}