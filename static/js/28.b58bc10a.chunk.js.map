{"version":3,"sources":["../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","../node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","../node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","../node_modules/@arcgis/core/layers/mixins/PortalLayer.js","../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js"],"names":["b","i","_visibilityHandles","fullExtent","operationalLayerType","spatialReference","type","_visibilityWatcher","bind","this","_enforceVisibility","visibilityMode","visible","watch","_visibleWatcher","t","s","r","o","forEach","p","webmap","getLayerJSONFromResourceInfo","e","layerType","push","layers","_set","_get","addResolvingPromise","loadFromPortal","supportedTypes","l","a","_turnOffOtherLayers","uid","remove","initialized","find","length","getItemAt","_isAnyLayerVisible","some","m","d","u","c","y","h","n","prototype","json","read","write","ignoreOrigin","origins","readOnly","value","v","Boolean","source","reader","screenSizePerspective","originOf","store","set","target","writer","name","disablePopup","enabled","String","isRequired","service","f","Number","default","opacity","origin","drawingInfo","transparency","layerDefinition","dependsOn","get","layer","timeInfo","view","timeExtent","useViewTime","intersection","isEmpty","timeOffset","offset","unit","equals","_propertyOriginMap","Map","_originStores","Array","_values","has","keys","delete","metadatas","Object","internalGet","originIdOf","propertyInvalidated","revert","propertyCommitted","setAtOrigin","toJSON","isDefaultToJSON","O","getLogger","arguments","resourceReferences","portalItem","paths","destroy","removeOrigin","itemId","id","portal","load","instance","validateItem","supportsData","warn","title","getDefault","restUrl","messages","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BuildingSceneLayer","GroupLayer","IntegratedMeshLayer","PointCloudLayer","WebTiledLayer","CSV","VectorTileLayer","WMS","KML","RasterDataLayer","OpenStreetMap","RasterDataElevationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","WFS","SubtypeGroupLayer","layerContainerType","declaredClass","filter","url","allowNull"],"mappings":"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","file":"static/js/28.b58bc10a.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import\"../core/has.js\";import{isSome as e}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import{getProperties as t}from\"../core/accessorSupport/utils.js\";import{property as s}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as o}from\"../core/accessorSupport/decorators/writer.js\";import\"../core/urlUtils.js\";import\"../core/uuid.js\";import\"../portal/support/resourceExtension.js\";import{resolve as l}from\"../core/promiseUtils.js\";import{loadAll as a}from\"../core/loadAll.js\";import{getLayerJSON as p}from\"../webdoc/support/writeUtils.js\";import n from\"./Layer.js\";import{LayersMixin as y}from\"../support/LayersMixin.js\";import{TablesMixin as c}from\"../support/TablesMixin.js\";import{MultiOriginJSONMixin as h}from\"../core/MultiOriginJSONSupport.js\";import{OperationalLayer as d}from\"./mixins/OperationalLayer.js\";import{BlendLayer as m}from\"./mixins/BlendLayer.js\";import{PortalLayer as u}from\"./mixins/PortalLayer.js\";let b=class extends(m(d(u(c(y(h(n))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,t,s,r){const o=[];if(!i)return o;i.forEach((i=>{const t=p(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);e(t)&&t.layerType&&o.push(t)})),t.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),l(this)}loadAll(){return a(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!t(this).initialized)return;const s=this.layers;let r=s.find((i=>i.visible));switch(i){case\"exclusive\":s.length&&!r&&(r=s.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":s.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([s()],b.prototype,\"fullExtent\",void 0),i([s({json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,\"layers\",void 0),i([o(\"layers\")],b.prototype,\"_writeLayers\",null),i([s({type:[\"GroupLayer\"]})],b.prototype,\"operationalLayerType\",void 0),i([s({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],b.prototype,\"portalItem\",null),i([s()],b.prototype,\"spatialReference\",void 0),i([s({json:{read:!1},readOnly:!0,value:\"group\"})],b.prototype,\"type\",void 0),i([s({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],b.prototype,\"visibilityMode\",null),b=i([r(\"esri.layers.GroupLayer\")],b);var v=b;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{getProperties as e}from\"../../core/accessorSupport/utils.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import{willPropertyWrite as r}from\"../../core/accessorSupport/write.js\";import{transparencyToOpacity as n}from\"../../webdoc/support/opacityUtils.js\";import t from\"../../TimeExtent.js\";import o from\"../../symbols/support/ElevationInfo.js\";const s={type:Boolean,value:!0,json:{origins:{\"web-scene\":{read:{source:[\"id\",\"url\",\"layerType\"],reader(i,r){if(null!=r.screenSizePerspective||\"defaults\"!==this.originOf(\"screenSizePerspectiveEnabled\"))return r.screenSizePerspective;e(this).store.set(\"screenSizePerspectiveEnabled\",!1,0)}},write:{ignoreOrigin:!0,target:\"screenSizePerspective\",writer(e,i,n,t){(\"defaults\"===this.originOf(\"screenSizePerspectiveEnabled\")&&e||r(this,\"screenSizePerspectiveEnabled\",{},t))&&(i[n]=e)}}}}}},a={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,i)=>!i.disablePopup},write:{enabled:!0,writer(e,i,r){i[r]=!e}}}},l={type:Boolean,value:!0,json:{name:\"showLabels\",write:!0}},p={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},c={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:o,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function f(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={type:Number,json:{origins:{\"web-document\":{default:1,write:!0,read:!0},\"portal-item\":{write:!0}}}},y={...u,json:{...u.json,origins:{\"web-document\":{...u.json.origins[\"web-document\"],write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,i,r)=>r&&\"service\"!==r.origin||!i.drawingInfo||void 0===i.drawingInfo.transparency?i.layerDefinition&&i.layerDefinition.drawingInfo&&void 0!==i.layerDefinition.drawingInfo.transparency?n(i.layerDefinition.drawingInfo.transparency):void 0:n(i.drawingInfo.transparency)}}},m={type:t,dependsOn:[\"view.timeExtent\",\"layer.timeExtent\",\"layer.timeInfo\",\"layer.timeOffset\",\"layer.timeOffset.value\",\"layer.timeOffset.unit\",\"layer.useViewTime\"],readOnly:!0,get(){var e,i;if(null==(e=this.layer)||!e.timeInfo)return null;const r=null==(i=this.view)?void 0:i.timeExtent,n=this.layer.timeExtent,t=this.layer.useViewTime?r&&n?r.intersection(n):r||n:n;if(!t||t.isEmpty)return t;const o=this.layer.timeOffset,s=o?t.offset(-o.value,o.unit):t,a=this._get(\"timeExtent\");return s.equals(a)?a:s}};export{m as combinedViewLayerTimeExtentProperty,d as elevationInfo,l as labelsVisible,c as legendEnabled,u as opacity,y as opacityDrawingInfo,a as popupEnabled,f as readOnlyService,s as screenSizePerspectiveEnabled,p as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{assumeNonNull as s}from\"../maybe.js\";import{OriginIdNum as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(e),this._values=new Map}clone(s){const i=new r,o=this._originStores[0];o&&o.forEach(((s,e)=>{i.set(e,t(s),0)}));for(let r=2;r<e;r++){const e=this._originStores[r];e&&e.forEach(((e,o)=>{s&&s.has(o)||i.set(o,t(e),r)}))}return i}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,e,r=6){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,e),!this._values.has(t)||s(this._propertyOriginMap.get(t))<=r){const s=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,r),s!==e}return!1}delete(t,s=6){const e=this._originStores[s];if(!e)return;const r=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return r}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e&&e.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||0}forEach(t){this._values.forEach(t)}}export default r;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{assumeNonNull as t}from\"./maybe.js\";import{getProperties as e}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{idToName as o,nameToId as i}from\"./accessorSupport/PropertyOrigin.js\";import n from\"./Accessor.js\";import{read as c}from\"./accessorSupport/read.js\";import p from\"./accessorSupport/MultiOriginStore.js\";const a=n=>{let a=class extends n{constructor(...r){super(...r);const s=t(e(this)),o=s.metadatas,i=s.store,n=new p;s.store=n,i.keys().forEach((r=>{n.set(r,i.get(r),0)})),Object.keys(o).forEach((r=>{s.internalGet(r)&&n.set(r,s.internalGet(r),0)}))}read(r,t){c(this,r,t)}getAtOrigin(r,t){const e=u(this),s=i(t);if(\"string\"==typeof r)return e.get(r,s);const o={};return r.forEach((r=>{o[r]=e.get(r,s)})),o}originOf(r){return o(this.originIdOf(r))}originIdOf(r){return u(this).originOf(r)}revert(r,t){const s=u(this),o=i(t),n=e(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{n.propertyInvalidated(r),s.revert(r,o),n.propertyCommitted(r)}))}};return a=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],a),a};function u(r){return e(r).store}let f=class extends(a(n)){};f=r([s(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{a as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{getProperties as t}from\"./accessorSupport/utils.js\";import{subclass as s}from\"./accessorSupport/decorators/subclass.js\";import{nameToId as e,OriginIdNum as o}from\"./accessorSupport/PropertyOrigin.js\";import i from\"./Accessor.js\";import{write as c}from\"./accessorSupport/write.js\";import{ReadOnlyMultiOriginJSONMixin as n}from\"./ReadOnlyMultiOriginJSONSupport.js\";const p=i=>{let n=class extends i{constructor(...r){super(...r)}clear(r,t=\"user\"){return u(this).delete(r,e(t))}write(r={},t){return c(this,r=r||{},t),r}setAtOrigin(r,s,o){t(this).setAtOrigin(r,s,e(o))}removeOrigin(r){const t=u(this),s=e(r),o=t.keys(s);for(const r of o)t.originOf(r)===s&&t.set(r,t.get(r,s),6)}updateOrigin(r,t){const s=u(this),i=e(t),c=this.get(r);for(let t=i+1;t<o;++t)s.delete(r,t);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return n=r([s(\"esri.core.WriteableMultiOriginJSONSupport\")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function u(r){return t(r).store}const l=t=>{let e=class extends(p(n(t))){constructor(...r){super(...r)}};return e=r([s(\"esri.core.MultiOriginJSONSupport\")],e),e};let O=class extends(l(i)){};O=r([s(\"esri.core.MultiOriginJSONSupport\")],O);export{l as MultiOriginJSONMixin,O as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import i from\"../../core/Error.js\";import{hasSamePortal as p}from\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{throwIfAborted as l}from\"../../core/promiseUtils.js\";import m from\"../../portal/Portal.js\";import c from\"../../portal/PortalItem.js\";const n=r.getLogger(\"esri.layers.mixins.PortalLayer\"),d=r=>{let d=class extends r{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]}}destroy(){var t;null==(t=this.portalItem)||t.destroy(),this.portalItem=null}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,r,e){if(r.itemId)return new c({id:r.itemId,portal:e&&e.portal})}writePortalItem(t,r){t&&t.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem&&this.portalItem.id)try{const e=await import(\"../../portal/support/layersLoader.js\");return l(r),await e.load({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData},r)}catch(t){throw n.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${t}`),t}}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){const e=r&&r.portal,o=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||m.getDefault());return e&&o&&!p(o.restUrl,e.restUrl)?(r.messages&&r.messages.push(new i(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return t([e({type:c})],d.prototype,\"portalItem\",null),t([o(\"web-document\",\"portalItem\",[\"itemId\"])],d.prototype,\"readPortalItem\",null),t([a(\"web-document\",\"portalItem\",{itemId:{type:String}})],d.prototype,\"writePortalItem\",null),t([e()],d.prototype,\"resourceReferences\",void 0),d=t([s(\"esri.layers.mixins.PortalLayer\")],d),d};export{d as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nconst e={\"web-scene/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},\"web-scene/basemap\":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-map/operational-layers\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-map/basemap\":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},\"web-map/tables\":{ArcGISFeatureLayer:!0},\"portal-item/operational-layers\":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};export{e as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.18/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import o from\"../../core/Error.js\";import\"../../core/urlUtils.js\";import\"../../core/uuid.js\";import\"../../portal/support/resourceExtension.js\";import{readLoadable as s}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as p}from\"../../core/accessorSupport/write.js\";import{supportedTypes as a}from\"./operationalLayers.js\";import{opacity as n}from\"../support/commonProperties.js\";const l=l=>{let y=class extends l{constructor(){super(...arguments),this.title=null}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&p(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){!e||i&&\"tables\"===i.layerContainerType||(r.layerType=e)}writeTitle(e,r){r.title=e||\"Layer\"}read(e,r){r&&(r.layer=this),s(this,e,(r=>super.read(e,r)),r)}write(e,r){if(r&&r.origin){const e=`${r.origin}/${r.layerContainerType||\"operational-layers\"}`,t=a[e];let i=t&&t[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(i=!1),!i)return r.messages&&r.messages.push(new o(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const t=super.write(e,{...r,layer:this}),i=!!r&&!!r.messages&&!!r.messages.filter((e=>e instanceof o&&\"web-document-write:property-required\"===e.name)).length;return!this.url&&i?null:t}beforeSave(){}};return e([r({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],y.prototype,\"id\",void 0),e([r({json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}})],y.prototype,\"listMode\",void 0),e([i(\"listMode\")],y.prototype,\"writeListMode\",null),e([r({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1}}}})],y.prototype,\"operationalLayerType\",void 0),e([i(\"operationalLayerType\")],y.prototype,\"writeOperationalLayerType\",null),e([r(n)],y.prototype,\"opacity\",void 0),e([r({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],y.prototype,\"title\",void 0),e([i(\"title\")],y.prototype,\"writeTitle\",null),e([r({type:Boolean,json:{name:\"visibility\",origins:{\"web-document\":{name:\"visibility\",default:!0},\"portal-item\":{name:\"visibility\",read:{source:[\"visible\",\"visibility\"]}}}}})],y.prototype,\"visible\",void 0),y=e([t(\"esri.layers.mixins.OperationalLayer\")],y),y};function y(e){return\"operationalLayerType\"in e}export{l as OperationalLayer,y as isOperationalLayer};\n"],"sourceRoot":""}